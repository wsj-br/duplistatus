# Versi贸n 1.0.x {#version-10x}

## Resumen {#overview}

Versi贸n 1.0.x es una versi贸n de caracter铆sticas que introduce mejoras significativas en la configuraci贸n de correo electr贸nico, capacidades de gesti贸n de servidores y herramientas de mantenimiento de base de datos. Esta versi贸n se enfoca en mejorar la confiabilidad de las notificaciones por correo electr贸nico, expandir las opciones de conexi贸n SMTP y proporcionar mejores herramientas para gestionar servidores e integridad de base de datos.

## Nuevas caracter铆sticas {#new-features}

### Mejoras en la gesti贸n de servidores {#server-management-enhancements}

- **Funcionalidad de cambio de contrase帽a del servidor** - Los usuarios ahora pueden cambiar las contrase帽as del servidor directamente desde la p谩gina de detalles del servidor haciendo clic en el icono de llave
- **Detecci贸n y fusi贸n de servidores duplicados** - Nueva funci贸n en el formulario de mantenimiento de base de datos para detectar servidores duplicados y fusionarlos en una 煤nica entrada de servidor

### Mejoras en el registro de auditor铆a {#audit-logging-enhancements}

- **Registro de auditor铆a de carga de backup** - Todas las cargas de logs de backup a trav茅s del endpoint `/api/upload` ahora se registran autom谩ticamente en el log de auditor铆a. Cada entrada incluye detalles de backup (ID del servidor, nombre del servidor, nombre de backup, estado, fecha, duraci贸n, cantidad de archivos, tama帽os, advertencias y errores) junto con la direcci贸n IP del cliente e informaci贸n del agente de usuario para fines de seguimiento y seguridad

### Mejoras en la configuraci贸n de correo electr贸nico {#email-configuration-enhancements}

- **Aviso de configuraci贸n incompleta** - Alerta visual mostrada cuando la configuraci贸n de correo electr贸nico no est谩 configurada correctamente
- **Indicadores de estado del servicio** - Etiquetas "(deshabilitado)" mostradas en las casillas de verificaci贸n de notificaciones cuando los servicios de correo electr贸nico no est谩n configurados
- **Informaci贸n de remitente personalizable**:
  - Campo `Nombre de remitente` para personalizar el nombre mostrado como remitente en las notificaciones por correo electr贸nico
  - Campo `Direcci贸n de remitente` para especificar la direcci贸n de correo electr贸nico mostrada como remitente
  - Nota: Algunos proveedores de correo electr贸nico anular谩n la `Direcci贸n de remitente` con el `Nombre de usuario del servidor SMTP`
- **Alternancia de autenticaci贸n SMTP** - Opci贸n para activar o desactivar la autenticaci贸n SMTP, compatible con servidores que no requieren autenticaci贸n
- **Validaci贸n de formato de correo electr贸nico** - Validaci贸n de los campos de direcci贸n de remitente y destinatario para garantizar el formato correcto de la direcci贸n de correo electr贸nico
- **Correo de prueba mejorado** - El correo de prueba ahora muestra detalles de conexi贸n completos incluyendo nombre de host del servidor SMTP, puerto, tipo de conexi贸n, estado de autenticaci贸n, nombre de usuario (si aplica), correo electr贸nico del destinatario, direcci贸n de remitente, nombre de remitente y marca de tiempo de prueba

### Soporte de tipo de conexi贸n SMTP {#smtp-connection-type-support}

- **M煤ltiples tipos de conexi贸n** - Soporte para tres tipos de conexi贸n:
  - `SMTP simple` (sin cifrado) en el puerto 25
  - `STARTTLS` (actualizar a TLS) en el puerto 587
  - `SSL/TLS directo` (cifrado desde el inicio) en el puerto 465
- **Tipo de conexi贸n predeterminado** - Cambiado a `SSL/TLS directo` para nuevas configuraciones
- **Requisitos espec铆ficos de conexi贸n** - El campo `Direcci贸n de remitente` es obligatorio para conexiones `SMTP simple` para garantizar la identificaci贸n correcta del remitente de correo electr贸nico y cumplimiento con RFC 5322

---

##  Correcciones de errores {#bug-fixes}

### Correcciones del sistema de correo electr贸nico {#email-system-fixes}

- **Encabezado `De` faltante corregido** - Se resolvieron errores de cumplimiento de RFC 5322 asegurando que todos los mensajes de correo electr贸nico incluyan encabezados `De` apropiados
- **Cifrado de correo electr贸nico para STARTTLS corregido** - Se corrigi贸 el manejo de cifrado para conexiones `STARTTLS` (puerto 587)
- **Conexiones SMTP simple corregidas** - Se resolvieron errores de negociaci贸n TLS que causaban que las conexiones `SMTP simple` fallaran
- **P茅rdida de configuraci贸n no guardada corregida** - Se evit贸 que la configuraci贸n de correo electr贸nico no guardada se borrara al cambiar la contrase帽a
- **Configuraci贸n SMTP obsoleta corregida** - Se resolvi贸 el problema donde el endpoint de correo de prueba estaba utilizando configuraci贸n SMTP desactualizada

### Correcciones de la interfaz de usuario {#user-interface-fixes}

- **Alternancia de visibilidad de contrase帽a corregida** - Se corrigi贸 el comportamiento de la funci贸n de ver contrase帽a en el formulario de cambio de contrase帽a; hacer clic en el icono de ojo ahora muestra la contrase帽a para ambos campos de contrase帽a simult谩neamente

### Correcciones del sistema {#system-fixes}

- **Registro de punto de entrada de Docker corregido** - Se resolvi贸 el problema donde el script de punto de entrada de Docker estaba descartando mensajes de log
- **C谩lculo de fecha de pr贸xima ejecuci贸n corregido** - Se agreg贸 rec谩lculo autom谩tico de la fecha `Pr贸xima ejecuci贸n` despu茅s de recopilar logs de backup, asegurando que la fecha se actualice correctamente despu茅s de la recopilaci贸n de logs

---

##  Notas de migraci贸n {#migration-notes}

### Desde la versi贸n 0.9.x {#from-version-09x}

Esta versi贸n incluye mejoras en la configuraci贸n de correo electr贸nico y gesti贸n de servidores. Al actualizar desde la versi贸n 0.9.x:

1. **No se requiere migraci贸n de base de datos** - Esta versi贸n no requiere cambios en el esquema de base de datos
2. **Actualizaciones de configuraci贸n de correo electr贸nico** - Las configuraciones de correo electr贸nico existentes continuar谩n funcionando, pero es posible que desee revisar y actualizar su configuraci贸n para aprovechar las nuevas caracter铆sticas:
   - Considere establecer un `Nombre de remitente` personalizado para una mejor identificaci贸n de correo electr贸nico
   - Verifique que su `Direcci贸n de remitente` est茅 configurada correctamente, especialmente si utiliza conexiones `SMTP simple`
   - Pruebe su configuraci贸n de correo electr贸nico utilizando la funci贸n de correo de prueba mejorada
3. **Predeterminado de tipo de conexi贸n** - Las nuevas configuraciones de correo electr贸nico tendr谩n como predeterminado el tipo de conexi贸n `SSL/TLS directo`
4. **Gesti贸n de contrase帽a del servidor** - Ahora puede cambiar las contrase帽as del servidor directamente desde la p谩gina de detalles del servidor sin necesidad de recopilar backups nuevamente

### Recomendaciones de configuraci贸n de correo electr贸nico {#email-configuration-recommendations}

- **Para uso en producci贸n**: Utilice conexiones `STARTTLS` o `SSL/TLS directo` para entrega segura de correo electr贸nico
- **Para pruebas locales**: Las conexiones `SMTP simple` est谩n disponibles para redes locales de confianza
- **Requisito de direcci贸n de remitente**: Al utilizar `SMTP simple` o cuando la autenticaci贸n est谩 deshabilitada, aseg煤rese de que el campo `Direcci贸n de remitente` est茅 configurado correctamente
- **Pruebe su configuraci贸n**: Siempre utilice el bot贸n "Enviar correo de prueba" para verificar que su configuraci贸n de correo electr贸nico funciona correctamente

---

## Endpoints de API {#api-endpoints}

### Endpoints de configuraci贸n de correo electr贸nico {#email-configuration-endpoints}

- `GET /api/email/config` - Obtener configuraci贸n de correo electr贸nico
- `POST /api/email/config` - Actualizar configuraci贸n de correo electr贸nico
- `POST /api/email/test` - Enviar correo de prueba
- `DELETE /api/email/config` - Eliminar configuraci贸n de correo electr贸nico

### Endpoints de gesti贸n de servidores {#server-management-endpoints}

- `PATCH /api/servers/{id}/password` - Actualizar contrase帽a del servidor
- `POST /api/database/maintenance/merge-duplicate-servers` - Fusionar servidores duplicados

---

## Soporte {#support}

### Obtener ayuda {#getting-help}

- **Documentaci贸n**: [Gu铆a de usuario](../user-guide/overview.md)
- **Configuraci贸n de correo electr贸nico**: [Gu铆a de configuraci贸n de correo electr贸nico](../user-guide/settings/email-settings.md)
- **Referencia de API**: [Documentaci贸n de API](../api-reference/overview.md)
- **Gu铆a de migraci贸n**: [Migraci贸n de actualizaci贸n de versi贸n](../migration/version_upgrade.md)
- **Comunidad**: [Discusiones de GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Problemas**: [Problemas de GitHub](https://github.com/wsj-br/duplistatus/issues)

### Reportar errores {#reporting-bugs}

Al reportar errores, incluya:

- Versi贸n: 1.0.x (especifique la versi贸n exacta, por ejemplo, 1.0.3)
- Sistema operativo y versi贸n
- Versi贸n de Docker/podman
- Tipo de contenedor (Docker o podman/Pod)
- Mensajes de error y logs
- Pasos para reproducir
- Detalles de configuraci贸n de correo electr贸nico (si est谩 relacionado con correo electr贸nico)
- Detalles de configuraci贸n de Podman (si se ejecuta en podman/Pod)

---

## Registro de cambios {#changelog}

### Cambios detallados {#detailed-changes}

- **Agregado**: Funcionalidad de cambio de contrase帽a del servidor desde la p谩gina de detalles del servidor
- **Agregado**: Detecci贸n y fusi贸n de servidores duplicados en mantenimiento de base de datos
- **Agregado**: Campos `Nombre de remitente` y `Direcci贸n de remitente` a la configuraci贸n de correo electr贸nico
- **Agregado**: Soporte para conexiones `SMTP simple` (puerto 25)
- **Agregado**: Selecci贸n de tipo de conexi贸n (`SMTP simple`, `STARTTLS`, `SSL/TLS directo`)
- **Agregado**: Alternancia de requisito de autenticaci贸n SMTP
- **Agregado**: Validaci贸n de formato de correo electr贸nico para campos de direcci贸n de remitente y destinatario
- **Agregado**: Correo de prueba mejorado con detalles de conexi贸n completos
- **Agregado**: Aviso de configuraci贸n incompleta para configuraci贸n de correo electr贸nico
- **Agregado**: Etiquetas "(deshabilitado)" en casillas de verificaci贸n de notificaciones cuando los servicios no est谩n configurados
- **Agregado**: Entradas de log de auditor铆a para cargas de logs de backup a trav茅s del endpoint `/api/upload`
- **Cambiado**: Tipo de conexi贸n predeterminado a `SSL/TLS directo` para nuevas configuraciones
- **Cambiado**: El campo `Direcci贸n de remitente` ahora es obligatorio para conexiones `SMTP simple`
- **Corregido**: Encabezado `De` faltante en mensajes de correo electr贸nico (cumplimiento de RFC 5322)
- **Corregido**: Cifrado de correo electr贸nico para conexiones `STARTTLS`
- **Corregido**: Conexiones `SMTP simple` fallando con errores de negociaci贸n TLS
- **Corregido**: Configuraci贸n de correo electr贸nico no guardada siendo borrada al cambiar contrase帽a
- **Corregido**: Configuraci贸n SMTP obsoleta en endpoint de correo de prueba
- **Corregido**: Alternancia de visibilidad de contrase帽a en formulario de cambio de contrase帽a
- **Corregido**: Script de punto de entrada de Docker descartando mensajes de log
- **Corregido**: Fecha `Pr贸xima ejecuci贸n` no siendo recalculada despu茅s de recopilar logs de backup
- **Mejorado**: Experiencia del usuario de configuraci贸n de correo electr贸nico con mejor validaci贸n y retroalimentaci贸n

---

## Licencia {#license}

Este proyecto est谩 licenciado bajo la [Licencia Apache 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Derechos de autor 漏 2025 Waldemar Scudeller Jr.**
