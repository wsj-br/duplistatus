# Version 1.0.x

## √úbersicht

Version 1.0.x ist eine Feature-Release, die erhebliche Verbesserungen der E-Mail-Konfiguration, der Serververwaltungsfunktionen und der Datenbankwartungstools einf√ºhrt. Diese Version konzentriert sich auf die Verbesserung der Zuverl√§ssigkeit von E-Mail-Benachrichtigungen, die Erweiterung der SMTP-Verbindungsoptionen und die Bereitstellung besserer Tools zur Verwaltung von Servern und Datenbankintegrit√§t.

## Neue Funktionen

### Serververwaltungsverbesserungen

- **Serverkennwort-√Ñnderungsfunktion** - Benutzer k√∂nnen jetzt Serverkennw√∂rter direkt von der Serverdetailseite aus √§ndern, indem sie auf das Schl√ºsselsymbol klicken
- **Erkennung und Zusammenf√ºhrung doppelter Server** - Neue Funktion im Datenbankwartungsformular zur Erkennung doppelter Server und deren Zusammenf√ºhrung in einen einzelnen Servereintrag

### Audit-Log-Verbesserungen

- **Sicherungs-Upload-Audit-Protokollierung** - Alle Sicherungsprotokoll-Uploads √ºber den Endpunkt `/api/upload` werden jetzt automatisch im Audit-Log protokolliert. Jeder Eintrag enth√§lt Sicherungsdetails (Server-ID, Servername, Sicherungsname, Status, Datum, Dauer, Dateianzahl, Gr√∂√üen, Warnungen und Fehler) zusammen mit IP-Adresse des Clients und User-Agent-Informationen f√ºr Tracking- und Sicherheitszwecke

### E-Mail-Konfigurationsverbesserungen

- **Mitteilung √ºber unvollst√§ndige Konfiguration** - Visuelle Warnung wird angezeigt, wenn E-Mail-Einstellungen nicht ordnungsgem√§√ü konfiguriert sind
- **Service-Statusindikatoren** - "(Deaktiviert)"-Beschriftungen werden auf Benachrichtigungskontrollk√§stchen angezeigt, wenn E-Mail-Services nicht konfiguriert sind
- **Anpassbare Absenderinformationen**:
  - `Absendername` Feld zum Anpassen des Anzeigenamens, der als Absender in E-Mail-Benachrichtigungen angezeigt wird
  - `Absenderadresse` Feld zum Angeben der E-Mail-Adresse, die als Absender angezeigt wird
  - Hinweis: Einige E-Mail-Anbieter √ºberschreiben die `Absenderadresse` mit dem `SMTP-Server-Benutzername`
- **SMTP-Authentifizierungsumschalter** - Option zum Aktivieren oder Deaktivieren der SMTP-Authentifizierung, unterst√ºtzt Server, die keine Authentifizierung erfordern
- **E-Mail-Formatvalidierung** - Validierung f√ºr Empf√§nger- und Absenderadressfelder, um das ordnungsgem√§√üe E-Mail-Adressformat sicherzustellen
- **Verbesserte Test-E-Mail** - Test-E-Mail zeigt jetzt umfassende Verbindungsdetails an, einschlie√ülich SMTP-Server-Hostname, Port, Verbindungstyp, Authentifizierungsstatus, Benutzername (falls zutreffend), Empf√§nger-E-Mail, Absenderadresse, Absendername und Test-Zeitstempel

### SMTP-Verbindungstypunterst√ºtzung

- **Mehrere Verbindungstypen** - Unterst√ºtzung f√ºr drei Verbindungstypen:
  - `Einfaches SMTP` (keine Verschl√ºsselung) auf Port 25
  - `STARTTLS` (Upgrade auf TLS) auf Port 587
  - `Direktes SSL/TLS` (von Anfang an verschl√ºsselt) auf Port 465
- **Standard-Verbindungstyp** - Ge√§ndert zu `Direktes SSL/TLS` f√ºr neue Konfigurationen
- **Verbindungsspezifische Anforderungen** - `Absenderadresse` Feld ist erforderlich f√ºr `Einfaches SMTP` Verbindungen, um ordnungsgem√§√üe E-Mail-Absenderidentifikation und RFC 5322-Konformit√§t sicherzustellen

---

## üêõ Fehlerbehebungen

### E-Mail-Systemkorrektionen

- **Fehlender `From` Header behoben** - RFC 5322-Konformit√§tsfehler behoben, indem sichergestellt wurde, dass alle E-Mail-Nachrichten ordnungsgem√§√üe `From` Header enthalten
- **E-Mail-Verschl√ºsselung f√ºr STARTTLS behoben** - Verschl√ºsselungsbehandlung f√ºr `STARTTLS` Verbindungen (Port 587) korrigiert
- **Einfache SMTP-Verbindungen behoben** - TLS-Verhandlungsfehler behoben, die `Einfache SMTP` Verbindungen zum Fehlschlag f√ºhrten
- **Verlust ungespeicherter Konfiguration behoben** - Verhindert, dass ungespeicherte E-Mail-Konfiguration gel√∂scht wird, wenn das Passwort ge√§ndert wird
- **Veraltete SMTP-Konfiguration behoben** - Problem behoben, bei dem der Test-E-Mail-Endpunkt veraltete SMTP-Konfiguration verwendete

### Benutzeroberfl√§chen-Korrektionen

- **Passwort-Sichtbarkeitsumschalter behoben** - Verhalten der Passwort-Anzeigefunktion im Passwort√§nderungsformular korrigiert; das Klicken auf das Augensymbol zeigt jetzt das Passwort f√ºr beide Passwortfelder gleichzeitig an

### Systemkorrektionen

- **Docker-Einstiegspunkt-Protokollierung behoben** - Problem behoben, bei dem das Docker-Einstiegspunkt-Skript Protokollmeldungen verwarf
- **Berechnung des n√§chsten Laufdatums behoben** - Automatische Neuberechnung des `N√§chster Lauf` Datums nach dem Sammeln von Sicherungsprotokollen hinzugef√ºgt, um sicherzustellen, dass das Datum nach der Protokollsammlung korrekt aktualisiert wird

---

## üöÄ Migrationsnoten

### Aus Version 0.9.x

Diese Version enth√§lt Verbesserungen der E-Mail-Konfiguration und Serververwaltung. Beim Upgrade von Version 0.9.x:

1. **Keine Datenbankmigrationen erforderlich** - Diese Version erfordert keine Datenbankschema√§nderungen
2. **E-Mail-Konfigurationsaktualisierungen** - Vorhandene E-Mail-Konfigurationen funktionieren weiterhin, aber Sie m√∂chten m√∂glicherweise Ihre Einstellungen √ºberpr√ºfen und aktualisieren, um die neuen Funktionen zu nutzen:
   - Erw√§gen Sie, einen benutzerdefinierten `Absendername` f√ºr bessere E-Mail-Identifikation festzulegen
   - √úberpr√ºfen Sie, ob Ihre `Absenderadresse` korrekt eingestellt ist, besonders wenn Sie `Einfaches SMTP` Verbindungen verwenden
   - Testen Sie Ihre E-Mail-Konfiguration mit der erweiterten Test-E-Mail-Funktion
3. **Standard-Verbindungstyp** - Neue E-Mail-Konfigurationen werden standardm√§√üig auf `Direktes SSL/TLS` Verbindungstyp eingestellt
4. **Serverkennwortverwaltung** - Sie k√∂nnen jetzt Serverkennw√∂rter direkt von der Serverdetailseite aus √§ndern, ohne Sicherungen erneut sammeln zu m√ºssen

### E-Mail-Konfigurationsempfehlungen

- **F√ºr die Produktionsnutzung**: Verwenden Sie `STARTTLS` oder `Direktes SSL/TLS` Verbindungen f√ºr sichere E-Mail-Zustellung
- **F√ºr lokale Tests**: `Einfaches SMTP` Verbindungen sind f√ºr vertrauensw√ºrdige lokale Netzwerke verf√ºgbar
- **Anforderung f√ºr Absenderadresse**: Wenn Sie `Einfaches SMTP` verwenden oder wenn die Authentifizierung deaktiviert ist, stellen Sie sicher, dass das Feld `Absenderadresse` ordnungsgem√§√ü konfiguriert ist
- **Testen Sie Ihre Konfiguration**: Verwenden Sie immer die Schaltfl√§che "Test-E-Mail senden", um zu √ºberpr√ºfen, ob Ihre E-Mail-Einrichtung ordnungsgem√§√ü funktioniert

---

## API-Endpunkte

### E-Mail-Konfigurationsendpunkte

- `GET /api/email/config` - E-Mail-Konfiguration abrufen
- `POST /api/email/config` - E-Mail-Konfiguration aktualisieren
- `POST /api/email/test` - Test-E-Mail senden
- `DELETE /api/email/config` - E-Mail-Konfiguration l√∂schen

### Serververwaltungsendpunkte

- `PATCH /api/servers/{id}/password` - Serverkennwort aktualisieren
- `POST /api/database/maintenance/merge-duplicate-servers` - Doppelte Server zusammenf√ºhren

---

## Unterst√ºtzung

### Hilfe erhalten

- **Dokumentation**: [Benutzerhandbuch](../user-guide/overview.md)
- **E-Mail-Einstellungen**: [E-Mail-Konfigurationshandbuch](../user-guide/settings/email-settings.md)
- **API-Referenz**: [API-Dokumentation](../api-reference/overview.md)
- **Migrationsleitfaden**: [Versionsaktualisierungsmigration](../migration/version_upgrade.md)
- **Community**: [GitHub Discussions](https://github.com/wsj-br/duplistatus/discussions)
- **Probleme**: [GitHub Issues](https://github.com/wsj-br/duplistatus/issues)

### Fehler melden

Geben Sie beim Melden von Fehlern Folgendes an:

- Version: 1.0.x (geben Sie die genaue Version an, z. B. 1.0.3)
- Betriebssystem und Version
- Docker/podman-Version
- Containertyp (Docker oder podman/Pod)
- Fehlermeldungen und Protokolle
- Schritte zum Reproduzieren
- E-Mail-Konfigurationsdetails (falls E-Mail-bezogen)
- Podman-Konfigurationsdetails (falls in podman/Pod ausgef√ºhrt)

---

## √Ñnderungsprotokoll

### Detaillierte √Ñnderungen

- **Hinzugef√ºgt**: Serverkennwort-√Ñnderungsfunktion von der Serverdetailseite
- **Hinzugef√ºgt**: Erkennung und Zusammenf√ºhrung doppelter Server in der Datenbankwartung
- **Hinzugef√ºgt**: `Absendername` und `Absenderadresse` Felder zur E-Mail-Konfiguration
- **Hinzugef√ºgt**: Unterst√ºtzung f√ºr `Einfaches SMTP` Verbindungen (Port 25)
- **Hinzugef√ºgt**: Auswahl des Verbindungstyps (`Einfaches SMTP`, `STARTTLS`, `Direktes SSL/TLS`)
- **Hinzugef√ºgt**: SMTP-Authentifizierungsanforderungsumschalter
- **Hinzugef√ºgt**: E-Mail-Formatvalidierung f√ºr Empf√§nger- und Absenderadressfelder
- **Hinzugef√ºgt**: Verbesserte Test-E-Mail mit umfassenden Verbindungsdetails
- **Hinzugef√ºgt**: Mitteilung √ºber unvollst√§ndige Konfiguration f√ºr E-Mail-Einstellungen
- **Hinzugef√ºgt**: "(Deaktiviert)"-Beschriftungen auf Benachrichtigungskontrollk√§stchen, wenn Services nicht konfiguriert sind
- **Hinzugef√ºgt**: Audit-Log-Eintr√§ge f√ºr Sicherungsprotokoll-Uploads √ºber den Endpunkt `/api/upload`
- **Ge√§ndert**: Standard-Verbindungstyp zu `Direktes SSL/TLS` f√ºr neue Konfigurationen
- **Ge√§ndert**: `Absenderadresse` Feld ist jetzt erforderlich f√ºr `Einfaches SMTP` Verbindungen
- **Behoben**: Fehlender `From` Header in E-Mail-Nachrichten (RFC 5322-Konformit√§t)
- **Behoben**: E-Mail-Verschl√ºsselung f√ºr `STARTTLS` Verbindungen
- **Behoben**: `Einfaches SMTP` Verbindungen schlagen mit TLS-Verhandlungsfehlern fehl
- **Behoben**: Ungespeicherte E-Mail-Konfiguration wird gel√∂scht, wenn das Passwort ge√§ndert wird
- **Behoben**: Veraltete SMTP-Konfiguration im Test-E-Mail-Endpunkt
- **Behoben**: Passwort-Sichtbarkeitsumschalter im Passwort√§nderungsformular
- **Behoben**: Docker-Einstiegspunkt-Skript verwirft Protokollmeldungen
- **Behoben**: `N√§chster Lauf` Datum wird nach dem Sammeln von Sicherungsprotokollen nicht neu berechnet
- **Verbessert**: E-Mail-Konfiguration Benutzererfahrung mit besserer Validierung und Feedback

---

## Lizenz

Dieses Projekt ist unter der [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE) lizenziert.

**Copyright ¬© 2025 Waldemar Scudeller Jr.**
