# Version 0.8.x {#version-08x}

## √úbersicht {#overview}

Version 0.8.x ist ein gro√ües Update, das erhebliche Sicherheitsverbesserungen, verbesserte Serververwaltungsfunktionen und ein umfassendes Benachrichtigungssystem mit SMTP-E-Mail-Unterst√ºtzung einf√ºhrt. Diese Version konzentriert sich auf die St√§rkung der Sicherheit, die Verbesserung der Benutzerfreundlichkeit und die Bereitstellung flexiblerer Optionen zur √úberwachung von Sicherungen.

## Neue Funktionen {#new-features}

### Serververwaltungsverbesserungen {#server-management-enhancements}

- **Automatische Persistierung von Server-URL und Passwort** beim Sammeln von Sicherungen
  - Benutzer k√∂nnen URL und Passwort mit zwei Methoden aktualisieren:
    - Sicherungen mit aktualisierten Werten erneut sammeln
    - Einstellungen in `Einstellungen ‚Üí Servereinstellungen` √§ndern

### Verbesserte √úberwachung √ºberf√§lliger Sicherungen {#enhanced-overdue-monitoring}

- **Neue Registerkarte `√úberwachung √ºberf√§lliger Sicherungen`** mit Duplicati-Server-kompatiblen Intervalleinstellungen
  - Unterst√ºtzung f√ºr benutzerdefinierte Intervalle (z. B. "1D12h")
  - Automatische Aktualisierung des √úberwachungsintervalls f√ºr √ºberf√§llige Sicherungen aus der Duplicati-Konfiguration w√§hrend der Erfassung von Sicherungsprotokollen
  - **Empfohlen:** F√ºhren Sie die Erfassung nach dem √Ñndern von Sicherungsauftragsintervallen auf dem Duplicati-Server aus, um die duplistatus-Konfiguration zu synchronisieren
  - Benachrichtigungsvorlagen verwenden jetzt `{backup_interval}` statt `{backup_interval_value}` und `{backup_interval_type}`.

### NTFY-Ger√§tekonfiguration {#ntfy-device-configuration}

- **QR-Code-Generierung** f√ºr automatische Ger√§tekonfiguration zum Empfangen von Benachrichtigungen von **duplistatus**
  - Klicken Sie mit der rechten Maustaste auf die Schaltfl√§che `NTFY-Nachrichten anzeigen` in der Anwendungssymbolleiste
  - Schaltfl√§che "Ger√§t konfigurieren" in `Einstellungen ‚Üí NTFY-Einstellungen`

### Verbesserte Sicherungserfassung {#improved-backup-collection}

- **Automatische HTTP/HTTPS-Erkennung**, Verbindungen werden in dieser Reihenfolge versucht: HTTPS ‚Üí HTTPS mit selbstsigniertem Zertifikat ‚Üí HTTP-Fallback
- **Dropdown zur Serverauswahl** in der Schnittstelle `Backup-Protokolle sammeln` f√ºr direkte serverspezifische Erfassung
- **Mehrere Adressen** im Hostnamen (durch Kommas getrennt) werden jetzt akzeptiert (m√ºssen dasselbe Passwort und denselben Port verwenden)
- **Schaltfl√§chen zur Sicherungserfassung f√ºr einzelne Server** wurden zu `Dashboard (Tabelle)`, `Einstellungen ‚Üí √úberwachung √ºberf√§lliger Sicherungen` und `Einstellungen ‚Üí Server` hinzugef√ºgt
- **Massenerfassungsfunktionalit√§t** f√ºr alle Server mit g√ºltiger Konfiguration (URL und Passwort)
  - `Alle sammeln`-Schaltfl√§chen in `Einstellungen ‚Üí √úberwachung √ºberf√§lliger Sicherungen` und `Einstellungen ‚Üí Server`
  - Kontextmen√º mit Rechtsklick auf die Schaltfl√§che `Backup-Protokolle sammeln` in der Anwendungssymbolleiste

### Verbessertes Benachrichtigungssystem {#enhanced-notification-system}

- **SMTP-E-Mail-Benachrichtigungsunterst√ºtzung:**
  - SMTP-Serverkonfiguration in `Einstellungen ‚Üí E-Mail-Einstellungen`
  - Pro-Sicherungsauftrag-Konfiguration f√ºr NTFY- und/oder E-Mail-Benachrichtigungen
  - HTML-formatierte Vorlagen mit vorhandenen `Einstellungen ‚Üí Benachrichtigungsvorlagen`

- **Benachrichtigungskonfiguration pro Sicherungsauftrag:**
  - Individuelle Benachrichtigungseinstellungen in `Einstellungen ‚Üí Backup-Benachrichtigungen`
  - Visuelle Indikatoren (ausgegraute Symbole), wenn NTFY oder E-Mail nicht ordnungsgem√§√ü konfiguriert ist

- **Locale-Unterst√ºtzung:**
  - Eine neue Umgebungsvariable `LANG` wurde erstellt, um das Gebietsschema in der Anwendung festzulegen
  - Jetzt ist das Format von Daten und Zahlen in den Benachrichtigungen und Protokollen vorhersehbar

---

## üîí Sicherheitsverbesserungen {#security-enhancements}

### CSRF-Schutz {#csrf-protection}

- **Sitzungsbasierte Authentifizierung** mit robustem Sitzungsmanagement
- **CSRF-Token-Validierung** f√ºr alle zustands√§ndernden API-Anfragen erzwungen
- **Sitzungen verfallen automatisch** nach 24 Stunden; CSRF-Token werden alle 30 Minuten aktualisiert
- Gew√§hrleistet Schutz vor Cross-Site Request Forgery und bewahrt gleichzeitig die Kompatibilit√§t mit externen APIs

### Minimierung von Klartextpassw√∂rtern {#plaintext-password-minimization}

- **Passw√∂rter k√∂nnen nur √ºber die Benutzeroberfl√§che festgelegt werden**; kein API-Endpunkt macht gespeicherte Passw√∂rter verf√ºgbar
- **Die Manipulation von Klartextpassw√∂rtern wird im gesamten System minimiert**

### Erweiterte Kryptographie f√ºr sensible Daten {#advanced-cryptography-for-sensitive-data}

- **Verschl√ºsselung sensibler Daten** (z. B. Passw√∂rter, SMTP-Anmeldedaten) mit AES-256-GCM
- **Der Hauptschl√ºssel wird automatisch generiert** und sicher in `.duplistatus.key` gespeichert
- **PBKDF2 mit 100.000 Iterationen** wird f√ºr die Schl√ºsselableitung verwendet, um die Sicherheit zu erh√∂hen
- **Authentifizierungstags werden √ºberpr√ºft** und der Speicher wird nach der Verwendung sicher gel√∂scht
- **Dateiberechtigungen f√ºr Hauptschl√ºsseldatei** sind streng auf 0400 f√ºr maximalen Schutz eingestellt

---

## üé® Verbesserungen der Benutzeroberfl√§che {#user-interface-improvements}

- **Verbesserte Anwendungsgestaltung** mit neuem Farbschema und Ikonographie f√ºr verbesserte Benutzerfreundlichkeit
- **Modernes Designsystem** mit verbesserten Statusindikatoren
- **Farbige Symbole und Fortschrittsanzeigen** f√ºr besseres visuelles Feedback
- **Einstellungsregisterkarten** wurden umbenannt, um die Verwendung zu erleichtern
- **Optimierte API-Interaktionen** und verbesserte Benutzerfreundlichkeit

---

## üìö Dokumentationsaktualisierungen {#documentation-updates}

- **Umfassende Dokumentation** mit Docusaurus f√ºr verbesserte Navigation und Suche
- **Verbesserte API-Dokumentation** mit detaillierten Endpunktbeschreibungen
- **Aktualisierte Benutzerhandb√ºcher** mit neuen Funktionen und Sicherheitsverbesserungen
- **Installationsanleitungen** mit verbesserten Setupanweisungen
- **Entwicklungsdokumentation** f√ºr Mitwirkende

---

## üîß Technische Verbesserungen {#technical-improvements}

- **Verbesserte Next.js-Konfiguration** mit verbesserter Leistung und Benutzerfreundlichkeit
- **Optimierte Bundle-Aufteilung** zur Reduzierung von Vorladewarnungen
- **Verbesserte Fehlerbehandlung** f√ºr Verbindungsprobleme und API-Interaktionen
- **√úberarbeitete Verwaltung von Sicherungseinstellungen** f√ºr bessere Konfigurationsbehandlung
- **Verbessertes Sitzungsmanagement** und CSRF-Schutz √ºber API-Interaktionen
- **Verbesserte Datenbankmigrationen** und Schemaupdates
- **Mehrere Fehlerbehebungen** und Code-Vereinfachung.

---

## üöÄ Migrationsnoten {#migration-notes}

### Von Version 0.7.x {#from-version-07x}

Diese Version enth√§lt erhebliche Sicherheitsverbesserungen und neue Funktionen. Beim Upgrade von Version 0.7.x:

1. **Automatische Datenbankmigrationen:** Die Anwendung migriert automatisch Ihr Datenbankschema, um neue Funktionen zu unterst√ºtzen
2. **Hauptschl√ºsselerzeugung:** Ein neuer Hauptschl√ºssel wird f√ºr die Verschl√ºsselung sensibler Daten generiert
3. **Sitzungsverwaltung:** Vorhandene Sitzungen werden ung√ºltig und neue CSRF-gesch√ºtzte Sitzungen werden eingerichtet
4. **Konfigurationsaktualisierungen:** Einige Konfigurationsschl√ºssel wurden aktualisiert, um neue Funktionen zu unterst√ºtzen
5. **Vorlagen√§nderungen:** Die Variablen `{backup_interval_value}` und `{backup_interval_type}` wurden durch `{backup_interval}` ersetzt. Standardvorlagen werden automatisch angepasst, aber benutzerdefinierte Vorlagen werden nicht migriert. Bitte √ºberpr√ºfen Sie Ihre Vorlagen.

### Sicherheitsaspekte {#security-considerations}

- **Hauptschl√ºsseldatei:** Stellen Sie sicher, dass die Datei `.duplistatus.key` ordnungsgem√§√ü gesichert und gesch√ºtzt ist
- **Dateiberechtigungen:** Die Hauptschl√ºsseldatei hat eingeschr√§nkte Berechtigungen (0400) f√ºr Sicherheit
- **Passwort-Verschl√ºsselung:** Vorhandene Passw√∂rter werden mit dem neuen kryptographischen System verschl√ºsselt

---

## üêõ Fehlerbehebungen {#bug-fixes}

- Relative Zeitformatierung wurde behoben, um "gerade eben" f√ºr Zeitunterschiede unter 15 Sekunden zur√ºckzugeben
- Verbesserte Fehlerbehandlung f√ºr fehlende Umgebungsvariablen
- Verbesserte Verbindungstests und Validierung
- Verschiedene UI-Inkonsistenzen behoben und Benutzerfeedback verbessert

---

Diese Version stellt einen gro√üen Schritt nach vorne in Bezug auf Sicherheit, Benutzerfreundlichkeit und Funktionalit√§t dar. Wir empfehlen ein Upgrade, um von den neuen Funktionen und Sicherheitsverbesserungen zu profitieren.
