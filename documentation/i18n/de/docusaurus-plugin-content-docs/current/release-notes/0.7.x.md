# Version 0.7.x

## Übersicht

Version 0.7.x ist eine Hauptversion, die erhebliche Verbesserungen des Datenbankschemas, der API-Struktur und der Benutzeroberfläche einführt. Diese Version enthält Breaking Changes, die Updates für externe Integrationen erfordern.

## Breaking Changes

### Datenbankschema-Änderungen

- **Tabelle umbenennen**: `machines`-Tabelle in `servers` umbenannt
- **Neue Felder**: Felder `alias`, `notes`, `created_at` und `updated_at` hinzugefügt
- **API-Antwortänderungen**: Feldnamen für Konsistenz aktualisiert

### API Breaking Changes

- **Feldumbenennung**: `totalMachines` → `totalServers`
- **Objektumbenennung**: `machine` → `server` in API-Antworten
- **Feldumbenennung**: `backup_types_count` → `backupJobsCount`

:::warning
**Externe Integrationen, die die API verwenden, müssen aktualisiert werden**, um mit Version 0.7.x zu funktionieren. Weitere Informationen finden Sie im Leitfaden [API Breaking Changes](../migration/api-changes).
:::

## Neue Funktionen

### Verbesserte Serververwaltung

- **Server-Aliase**: Geben Sie Servern freundliche, merkbare Namen
- **Server-Notizen**: Fügen Sie Beschreibungen und zusätzliche Informationen hinzu
- **Verbessertes Status-Tracking**: Bessere Serverstatus-Überwachung
- **Erweiterte Server-Details**: Umfassendere Server-Informationen

### Verbesserte API-Struktur

- **Konsistentes Antwortformat**: Standardisierte API-Antwortstruktur
- **Bessere Fehlerbehandlung**: Verbesserte Fehlermeldungen und Codes
- **Erweiterte Dokumentation**: Bessere API-Dokumentation
- **Neue Endpunkte**: Zusätzliche API-Endpunkte für bessere Integration

### Datenbankverbesserungen

- **Bessere Leistung**: Optimierte Datenbankabfragen und Indizierung
- **Datenintegrität**: Verbesserte Datenvalidierung und Einschränkungen
- **Migrationssystem**: Automatisiertes Datenbankmigrationssystem
- **Sicherungssystem**: Verbesserte Datenbanksicherung und -wiederherstellung

## Verbesserungen

### Benutzeroberfläche

- **Modernes Design**: Aktualisierte Benutzeroberfläche mit besserem visuellen Design
- **Responsives Layout**: Bessere Unterstützung für Mobilgeräte und Tablets
- **Verbesserte Navigation**: Verbesserte Navigation und Benutzererlebnis
- **Bessere Diagramme**: Verbesserte Diagrammvisualisierung und Interaktivität

### Benachrichtigungssystem

- **Erweiterte Vorlagen**: Bessere Benachrichtigungsnachrichtenvorlagen
- **Verbesserte Zustellung**: Zuverlässigere Benachrichtigungszustellung
- **Bessere Fehlerbehandlung**: Verbesserte Fehlerbehandlung für Benachrichtigungen
- **Verbessertes Logging**: Besseres Logging für Benachrichtigungsdebugging

### Leistung

- **Schnellere Abfragen**: Optimierte Datenbankabfragen
- **Besseres Caching**: Verbesserte Caching-Mechanismen
- **Reduzierte Speichernutzung**: Bessere Speicherverwaltung
- **Schnellere API-Antworten**: Verbesserte API-Antwortzeiten

## Fehlerbehebungen

### Datenbankprobleme

- Datenbankbeschädigungsprobleme in seltenen Fällen behoben
- Migrationsprobleme während Upgrades behoben
- Datenverlustprobleme in bestimmten Szenarien behoben
- Datenbanksicherungs- und Wiederherstellungsverfahren verbessert

### API-Probleme

- API-Antwortinkonsistenzen behoben
- Authentifizierungsprobleme behoben
- Datenvalidierungsprobleme behoben
- Fehlerbehandlung und Meldungen verbessert

### Benutzeroberfläche

- Dashboard-Ladeprobleme behoben
- Diagrammdarstellungsprobleme behoben
- Mobile Layout-Probleme behoben
- Fehlermeldungsanzeige verbessert

### Benachrichtigungssystem

- Benachrichtigungszustellungsfehler behoben
- E-Mail-Konfigurationsprobleme behoben
- NTFY-Integrationsprobleme behoben
- Benachrichtigungsvorlagen-Rendering verbessert

## Migrationsleitfaden

### Automatische Migration

Die Migration von 0.6.x zu 0.7.x erfolgt automatisch:

1. **Sicherungserstellung**: Automatische Datenbanksicherung wird erstellt
2. **Schema-Update**: Datenbankschema wird automatisch aktualisiert
3. **Datenmigration**: Vorhandene Daten werden beibehalten und migriert
4. **Überprüfung**: Migration wird überprüft und protokolliert

### Erforderliche manuelle Schritte

- **Externe Integrationen aktualisieren**: Aktualisieren Sie alle externen Tools, die die API verwenden
- **Funktionalität testen**: Überprüfen Sie, ob alle Funktionen ordnungsgemäß funktionieren
- **Dokumentation aktualisieren**: Aktualisieren Sie alle benutzerdefinierten Dokumentationen

## Konfigurationsänderungen

### Neue Konfigurationsoptionen

```yaml
# Serververwaltung
servers:
  defaultAlias: true
  showNotes: true
  sortBy: "name" # name, status, lastBackup

# API-Einstellungen
api:
  version: "1.0"
  rateLimit: 100
  timeout: 30000

# Datenbankeinstellungen
database:
  backupRetention: 7
  autoVacuum: true
  optimizeInterval: 24
```

### Veraltete Optionen

- `machines`-Konfiguration (verwenden Sie stattdessen `servers`)
- Alte API-Feldnamen (verwenden Sie neue Feldnamen)

## Docker-Images

### Verfügbare Images

- **Docker Hub**: `wsjbr/duplistatus:0.7.x`
- **GitHub Container Registry**: `ghcr.io/wsj-br/duplistatus:0.7.x`
- **Latest Tag**: `wsjbr/duplistatus:latest`

### Image-Größen

- **Alpine**: 52MB
- **Debian**: 85MB
- **Multi-arch**: Unterstützung für ARM64 und AMD64

## Installation

### Docker Compose

```yaml
services:
  duplistatus:
    image: wsjbr/duplistatus:0.7.x
    container_name: duplistatus
    restart: unless-stopped
    ports:
      - "9666:9666"
    volumes:
      - duplistatus_data:/app/data
    environment:
      - TZ=UTC
```

### Docker CLI

```bash
docker run -d \
  --name duplistatus \
  --restart unless-stopped \
  -p 9666:9666 \
  -v duplistatus_data:/app/data \
  wsjbr/duplistatus:0.7.x
```

## Upgrade-Anweisungen

### Von Version 0.6.x

1. **Sichern Sie Ihre Daten** (automatische Sicherung während des Upgrades erstellt)
2. **Docker-Image aktualisieren**: `docker pull wsjbr/duplistatus:0.7.x`
3. **Container neu starten**: `docker-compose down && docker-compose up -d`
4. **Protokolle überwachen**: `docker logs -f duplistatus`
5. **Integrationen aktualisieren**: Aktualisieren Sie alle externen Tools, die die API verwenden
6. **Upgrade überprüfen**: Überprüfen Sie, ob alle Funktionen ordnungsgemäß funktionieren

### Von Version 0.5.x oder früher

1. **Führen Sie zuerst ein Upgrade auf 0.6.x durch** (falls verfügbar)
2. **Führen Sie dann ein Upgrade auf 0.7.x durch** mit den obigen Schritten

## Bekannte Probleme

### Migrationsprobleme

- **Große Datenbanken**: Die Migration kann bei großen Datenbanken länger dauern
- **Speicherplatz**: Stellen Sie sicher, dass ausreichend Speicherplatz für die Migrationssicherung vorhanden ist
- **Berechtigungen**: Überprüfen Sie Dateiberechtigungen für Datenbankzugriff

### API-Kompatibilität

- **Externe Tools**: Externe Tools, die die API verwenden, benötigen Updates
- **Feldnamen**: Einige Feldnamen haben sich geändert
- **Antwortformat**: Einige Antwortformate haben sich geändert

### Lösungen

- **Migration**: Stellen Sie sicher, dass ausreichend Speicherplatz und Zeit für die Migration vorhanden sind
- **API**: Aktualisieren Sie externe Integrationen, um das neue API-Format zu verwenden
- **Testen**: Testen Sie alle Funktionen nach dem Upgrade

## Unterstützung

### Hilfe erhalten

- **Dokumentation**: [Benutzerhandbuch](../user-guide/overview.md)
- **API-Referenz**: [API-Dokumentation](../api-reference/overview.md)
- **Migrationsleitfaden**: [Versions-Upgrade-Migration](../migration/version_upgrade.md)
- **Community**: [GitHub Discussions](https://github.com/wsj-br/duplistatus/discussions)
- **Probleme**: [GitHub Issues](https://github.com/wsj-br/duplistatus/issues)

### Fehler melden

Bitte geben Sie beim Melden von Fehlern Folgendes an:

- Version: 0.7.x
- Betriebssystem und Version
- Docker-Version
- Fehlermeldungen und Protokolle
- Schritte zum Reproduzieren

## Was kommt als Nächstes

### Version 0.8.x (Geplant)

- **Verbesserte Überwachung**: Bessere Überwachung überfälliger Sicherungen
- **Verbesserte Benachrichtigungen**: Verbessertes Benachrichtigungssystem
- **Leistung**: Weitere Leistungsverbesserungen
- **Neue Funktionen**: Zusätzliche Überwachungs- und Verwaltungsfunktionen

### Langfristige Roadmap

- **Erweiterte Analytik**: Detailliertere Sicherungsanalytik
- **Multi-Tenant-Unterstützung**: Unterstützung für mehrere Organisationen
- **Cloud-Integration**: Unterstützung für Cloud-Speicheranbieter
- **Mobile App**: Native mobile Anwendung

## Änderungsprotokoll

### Detaillierte Änderungen

- **Hinzugefügt**: Server-Alias- und Notizenfunktionalität
- **Hinzugefügt**: Verbesserte API mit konsistenter Antwortformat
- **Hinzugefügt**: Verbessertes Datenbankschema und Leistung
- **Hinzugefügt**: Bessere Fehlerbehandlung und Logging
- **Hinzugefügt**: Verbesserte Benutzeroberfläche und Navigation
- **Geändert**: Datenbanktabellennamen (`machines` → `servers`)
- **Geändert**: API-Feldnamen für Konsistenz
- **Geändert**: Antwortformatstruktur
- **Behoben**: Datenbankbeschädigungsprobleme
- **Behoben**: API-Antwortinkonsistenzen
- **Behoben**: Benutzeroberflächen-Rendering-Probleme
- **Behoben**: Benachrichtigungszustellungsprobleme
- **Verbessert**: Gesamtleistung und Stabilität
- **Verbessert**: Dokumentation und Benutzererlebnis

## Mitwirkende

### Entwicklungsteam

- **Waldemar Scudeller Jr.**: Lead-Entwickler und Betreuer
- **Community-Mitwirkende**: Fehlermeldungen, Funktionsanfragen und Tests

### Besonderer Dank

- **Beta-Tester**: Zum Testen früher Versionen und Bereitstellung von Feedback
- **Community**: Für Vorschläge, Fehlermeldungen und Unterstützung
- **Duplicati-Team**: Für die ausgezeichnete Sicherungssoftware, die dieses Projekt möglich macht

## Lizenz

Dieses Projekt ist unter der [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE) lizenziert.

**Copyright © 2025 Waldemar Scudeller Jr.**
