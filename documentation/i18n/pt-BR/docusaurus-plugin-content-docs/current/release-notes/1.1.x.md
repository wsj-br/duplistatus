# Vers√£o 1.1.x {#version-11x}

## Vis√£o geral {#overview}

Vers√£o 1.1.x √© uma vers√£o menor que aborda problemas cr√≠ticos com detec√ß√£o de backup atrasado, melhora a compatibilidade de cont√™ineres Podman e introduz melhorias na arquitetura de cont√™ineres. Esta vers√£o se concentra em corrigir a precis√£o da detec√ß√£o de backup atrasado e resolver problemas de rede em ambientes Podman.

## Novos recursos {#new-features}

### Melhorias na interface do usu√°rio {#user-interface-enhancements}

- **Menu de contexto com clique direito no bot√£o de atualiza√ß√£o autom√°tica** - Clicar com o bot√£o direito no bot√£o de atualiza√ß√£o autom√°tica na barra de ferramentas do aplicativo abre a p√°gina Configura√ß√µes de exibi√ß√£o para acesso r√°pido √†s prefer√™ncias de exibi√ß√£o
- **Modal de coleta de backups melhorado** - O r√≥tulo do campo de senha agora indica claramente "(preencher apenas se a senha mudou)" quando um servidor √© selecionado, deixando mais claro quando o campo √© necess√°rio

### Melhorias na documenta√ß√£o {#documentation-improvements}

- **Migra√ß√£o de hospedagem de documenta√ß√£o** - A documenta√ß√£o foi movida da imagem do cont√™iner Docker para GitHub Pages em https://wsj-br.github.io/duplistatus/user-guide/overview para melhor acessibilidade e atualiza√ß√µes mais f√°ceis
- O link do Guia do Usu√°rio no cabe√ßalho do aplicativo agora aponta para o site de documenta√ß√£o externa

---

## üêõ Corre√ß√µes de bugs {#bug-fixes}

### Cr√≠tico: Detec√ß√£o de Backup atrasado - Reimplementa√ß√£o completa {#critical-overdue-backup-detection-complete-reimplementation}

- **Detec√ß√£o de backup atrasado corrigida** - Sistema de detec√ß√£o de backup atrasado completamente reimplementado com um novo algoritmo que rastreia adequadamente as datas de backup esperadas:
  - O algoritmo garante que backups manuais n√£o alterem os hor√°rios de backup agendados (por exemplo, um backup manual √†s 22h n√£o alterar√° um agendamento √†s 14h)
  - Coluna "Pr√≥xima execu√ß√£o" corrigida nas configura√ß√µes de monitoramento de backups atrasados mostrando datas incorretas
  - As configura√ß√µes de backup agora s√£o atualizadas imediatamente ap√≥s receber backups via `/api/upload` ou `/api/backups/collect`
  - Para novos servidores sem sincroniza√ß√£o Duplicati, usa a hora do dia do primeiro backup como refer√™ncia de agendamento
  - Para mais detalhes, consulte a documenta√ß√£o do [Algoritmo de Detec√ß√£o de Atraso](https://github.com/wsj-br/duplistatus/blob/main/dev/OVERDUE_DETECTION_ALGORITHM.md)

### Corre√ß√µes de cont√™iner Podman {#podman-container-fixes}

- **Rede de pod Podman corrigida** - Problema resolvido que impedia acesso externo ao aplicativo ao executar em pods Podman. O servidor agora se vincula corretamente a todas as interfaces (`0.0.0.0:9666`) nos modos de pod Podman e cont√™iner aut√¥nomo
- **Resolu√ß√£o de DNS corrigida para nomes de host Tailscale** - Problemas de resolu√ß√£o de DNS em cont√™ineres Podman que impediam a conex√£o com nomes de host Tailscale ou servidores DNS personalizados foram resolvidos. A documenta√ß√£o de instala√ß√£o foi atualizada com instru√ß√µes.

### Corre√ß√µes de configura√ß√£o de e-mail {#email-configuration-fixes}

- **Tratamento de nome de usu√°rio/senha SMTP vazio corrigido** - Problema resolvido onde limpar os campos de nome de usu√°rio ou senha na configura√ß√£o de e-mail ainda armazenaria valores criptografados no banco de dados. Campos vazios agora s√£o armazenados corretamente como strings vazias e podem ser limpos corretamente

### Melhorias do sistema {#system-improvements}

- **Registro em console reduzido** - AuditLogger agora registra apenas tentativas de login falhadas no console; todas as outras entradas de auditoria s√£o escritas apenas no banco de dados

---

## üöÄ Notas de migra√ß√£o {#migration-notes}

### Da vers√£o 1.0.x {#from-version-10x}

Ao atualizar para a vers√£o 1.1.0:

1. **Altera√ß√£o de local de documenta√ß√£o** - A documenta√ß√£o agora √© hospedada no GitHub Pages em vez de ser inclu√≠da no cont√™iner Docker. O link do Guia do Usu√°rio no cabe√ßalho do aplicativo agora aponta para o site de documenta√ß√£o externa

2. **Configura√ß√£o de cont√™iner Podman** - Se usar pods Podman, certifique-se de que a configura√ß√£o de DNS est√° definida no n√≠vel do pod usando os sinalizadores `--dns` e `--dns-search`. O aplicativo agora funciona corretamente em pods Podman e cont√™ineres aut√¥nomos

3. **Detec√ß√£o de Backup atrasado** - O sistema de detec√ß√£o de backup atrasado foi completamente reimplementado com um novo algoritmo que preserva a hora do agendamento. As configura√ß√µes de monitoramento de backups atrasados existentes continuar√£o funcionando, mas voc√™ pode notar datas de "Pr√≥xima execu√ß√£o" mais precisas nas configura√ß√µes de monitoramento de backups atrasados. O novo algoritmo garante que backups manuais n√£o alterem os hor√°rios de backup agendados

4. **Nenhuma migra√ß√£o de banco de dados necess√°ria** - Esta vers√£o n√£o requer altera√ß√µes no esquema do banco de dados

---

## Endpoints da API {#api-endpoints}

Nenhum novo endpoint de API foi adicionado nesta vers√£o. Todos os endpoints existentes permanecem inalterados.

---

## Suporte {#support}

### Obtendo ajuda {#getting-help}

- **Documenta√ß√£o**: [Guia do Usu√°rio](../user-guide/overview.md)
- **Configura√ß√µes de e-mail**: [Guia de configura√ß√£o de e-mail](../user-guide/settings/email-settings.md)
- **Refer√™ncia de API**: [Documenta√ß√£o da API](../api-reference/overview.md)
- **Guia de migra√ß√£o**: [Migra√ß√£o de atualiza√ß√£o de vers√£o](../migration/version_upgrade.md)
- **Comunidade**: [Discuss√µes do GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Problemas**: [Problemas do GitHub](https://github.com/wsj-br/duplistatus/issues)

### Relatando bugs {#reporting-bugs}

Ao relatar bugs, inclua:

- Vers√£o: 1.1.x (especifique a vers√£o exata, por exemplo, 1.1.0)
- Sistema operacional e vers√£o
- Vers√£o do Docker/podman
- Tipo de cont√™iner (Docker ou podman/Pod)
- Mensagens de erro e logs
- Etapas para reproduzir
- Detalhes de configura√ß√£o do Podman (se executado em podman/Pod)

---

## Changelog {#changelog}

### Altera√ß√µes da vers√£o 1.1.0 {#version-110-changes}

- **Adicionado**: Menu de contexto com clique direito no bot√£o de atualiza√ß√£o autom√°tica para abrir Configura√ß√µes de exibi√ß√£o
- **Adicionado**: R√≥tulo de campo de senha melhorado no modal de coleta de backups
- **Alterado**: Documenta√ß√£o removida da imagem do cont√™iner Docker (agora hospedada no GitHub Pages)
- **Alterado**: Link do Guia do Usu√°rio do cabe√ßalho do aplicativo atualizado para apontar para a documenta√ß√£o do GitHub Pages
- **Alterado**: Registro em console reduzido do AuditLogger (apenas tentativas de login falhadas registradas no console)
- **Corrigido**: Detec√ß√£o cr√≠tica de backup atrasado implementando adequadamente o rastreamento de data de backup esperada (consulte o [Algoritmo de Detec√ß√£o de Atraso](https://github.com/wsj-br/duplistatus/blob/main/dev/OVERDUE_DETECTION_ALGORITHM.md) para detalhes)
- **Corrigido**: Problemas de rede de pod Podman impedindo acesso externo
- **Corrigido**: Resolu√ß√£o de DNS para nomes de host Tailscale em cont√™ineres Podman
- **Corrigido**: Configura√ß√£o SMTP armazenando valores criptografados para campos de nome de usu√°rio e senha vazios
- **Corrigido**: Coluna "Pr√≥xima execu√ß√£o" nas configura√ß√µes de monitoramento de backups atrasados mostrando datas incorretas

---

## Licen√ßa {#license}

Este projeto √© licenciado sob a [Licen√ßa Apache 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright ¬© 2025 Waldemar Scudeller Jr.**

