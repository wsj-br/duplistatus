---
translation_last_updated: '2026-03-01T00:45:19.936Z'
source_file_mtime: '2026-02-16T00:30:39.431Z'
source_file_hash: b1fa215bda4fb518
translation_language: pt-BR
source_file_path: release-notes/1.3.1.md
---
# Versão 1.3.1 {#version-131}

## Visão geral {#overview}

A Versão 1.3.1 introduz suporte completo para múltiplos idiomas na interface do aplicativo, fortalece a segurança da API com autenticação obrigatória em endpoints adicionais e corrige vários bugs relacionados à detecção de chave mestra, formatação de localidade e configurações de notificação. Esta versão foca em melhorias de internacionalização e fortalecimento de segurança.

## Novos Recursos {#new-features}

### Suporte a Interface Multi-Idioma {#multi-language-interface-support}

- **Seletor de idioma no cabeçalho do aplicativo**: Escolha seu idioma de interface preferido em um menu suspenso no menu do usuário. Idiomas suportados: Inglês, Deutsch, Français, Español e Português (BR). Sua seleção é salva e persiste entre sessões.
- **Navegação sensível à localidade**: Todas as páginas e links agora suportam URLs com prefixo de localidade para navegação consistente no idioma selecionado.

### Internacionalização de Modelos de Notificação {#notification-templates-internationalization}

- **Seletor de idioma do modelo**: Os modelos de notificação agora suportam múltiplos idiomas com um seletor de idioma dedicado. Modelos padrão pré-traduzidos estão disponíveis para os 5 idiomas suportados.
- **Opções de redefinição**: Botões "Redefinir este modelo para o padrão" e "Redefinir todos para o padrão" com caixas de diálogo de confirmação para gerenciamento fácil de modelos ao mudar de idioma.
- **Conteúdo de notificação sensível à localidade**: Datas, horas, números e valores de status de backup em notificações agora são formatados de acordo com o idioma do modelo.

### Localização de Data e Número {#date-and-number-localization}

- **Formatação de data e hora sensível à localidade**: Datas e horas em todo o aplicativo (painel, detalhes do servidor, gráficos, dicas de ferramentas) agora são exibidas no formato apropriado para sua localidade (por exemplo, DD/MM/AAAA para localidades europeias, MM/DD/AAAA para inglês).
- **Formatação de número sensível à localidade**: Números, tamanhos de arquivo e estatísticas usam formatação apropriada para a localidade (por exemplo, 1.234,56 para alemão, 1,234.56 para inglês).

### Preparação para Suporte RTL {#rtl-support-preparation}

- **Fundação para idiomas da direita para a esquerda**: Infraestrutura foi adicionada para suportar futuros idiomas RTL (Árabe, Hebraico). Os idiomas atuais permanecem da esquerda para a direita.

---

## Segurança {#security}

### Autenticação de API {#api-authentication}

- **Autenticação obrigatória em endpoints adicionais**: Os seguintes endpoints agora requerem uma sessão válida e token CSRF (anteriormente tinham autenticação opcional):
  - `/api/backups/collect`
  - `/api/backups/sync-schedule`
  - `/api/cron-config` (POST)
  - `/api/notifications/check-overdue`
  - `/api/notifications/clear-overdue-timestamps`
- **Atualizações de segurança de dependências**: Atualizadas dependências vulneráveis (fast-xml-parser, brace-expansion) para abordar problemas de segurança conhecidos.

---

## Correções de Bugs {#bug-fixes}

- **Detecção de mudança de chave mestra**: Corrigida detecção incorreta de "chave alterada" ao restaurar o banco de dados e o arquivo `.duplistatus.key` juntos (mesma chave). O sistema agora usa uma impressão digital de chave para detecção confiável em vez de verificações baseadas em descriptografia que poderiam interpretar incorretamente corrupção de dados como uma mudança de chave.
- **Carregamento inicial da página de detalhes**: A página de detalhes do servidor agora exibe corretamente mensagens e dados atrasados na primeira carga, em vez de apenas após o primeiro auto-refresh.

---

## Melhorias {#improvements}

### Consistência de Internacionalização {#internationalisation-consistency}

- **Rótulos consistentes**: Unidades de tempo, intervalos, rótulos de status e termos comuns agora aparecem consistentemente em toda a aplicação.
- **Ordenação de dias da semana com suporte a localidade**: A exibição de dias da semana no Monitoramento de backups respeita seu idioma/localidade. Pode ser substituída nas Configurações de exibição.

### Códigos de erro e sucesso da API de autenticação (i18n) {#auth-api-error-and-success-codes-i18n}

- **Códigos de erro e sucesso estáveis**: Os endpoints de autenticação (`/api/auth/login`, `/api/auth/logout`, `/api/auth/me`, `/api/auth/change-password`, `/api/auth/password-policy`) agora retornam um `errorCode` (e, em caso de sucesso, um `successCode`) além do campo `error` ou `message` em inglês. Os clientes usam esses códigos para mostrar mensagens localizadas no idioma do usuário.
- **Página de login**: Todas as mensagens de erro de login (por exemplo, "Nome de usuário e senha são obrigatórios", "Nome de usuário ou senha inválidos", "Conta bloqueada") agora são traduzidas na página de login para todos os cinco locales.
- **Modal de alteração de senha**: Todas as mensagens de erro e sucesso da API de alteração de senha agora são traduzidas no modal de alteração de senha.
- **Referência da API**: A documentação da API [Autenticação e Segurança](../api-reference/authentication-security.md#auth-api-error-and-success-codes-i18n) lista todos os códigos de erro e sucesso e explica como usá-los para i18n.

### Melhorias de Interface {#ui-improvements}

- **Largura do filtro de servidor**: Aumentada a largura do filtro de servidor no formulário de notificações de backup (260px → 360px) para melhor usabilidade.
- **Seleção em massa**: Interface de seleção em massa aprimorada com suporte adequado de pluralização para contagens de backup.
- **Dicas de ajuda**: Texto de dicas de ajuda melhorado com contexto de nome de página.

### Documentação {#documentation}

- **Renomeação da página de configuração**: A página de configuração de fuso horário e idioma foi renomeada de `configure-tz-lang` para `configure-tz`.
- **Guia de modelos de notificação**: Guia do usuário atualizado para documentar o novo seletor de idioma do modelo, botões de redefinição e comportamento de idioma.
- **Documentação multilíngue**: O guia do usuário agora documenta como alterar o idioma da interface através do seletor de idioma no menu do usuário.

---

## Notas de Migração {#migration-notes}

### Da Versão 1.3.0 {#from-version-130}

Ao atualizar para a versão 1.3.1:

1. **Autenticação de API**: Scripts ou ferramentas que chamam os endpoints de coleta de backups, agendamento de sincronização, configuração de cron ou verificação/limpeza de notificações agora devem incluir autenticação de sessão válida e tokens CSRF.

2. **Nenhuma Migração de Banco de Dados Necessária**: Esta versão não requer alterações no esquema do banco de dados.

3. **Suporte a Localidade**: A variável de ambiente `LANG` não é mais usada. Você pode definir o idioma para notificações na página `Configurações > Modelos`.

---

## Suporte {#support}

### Obtendo Ajuda {#getting-help}

- **Documentação**: [Guia do Usuário](../user-guide/overview.md)
- **Configurações de e-mail**: [Guia de Configuração de e-mail](../user-guide/settings/email-settings.md)
- **Referência de API**: [Documentação de API](../api-reference/overview.md)
- **Guia de Migração**: [Migração de Atualização de Versão](../migration/version_upgrade.md)
- **Comunidade**: [GitHub Discussions](https://github.com/wsj-br/duplistatus/discussions)
- **Problemas**: [GitHub Issues](https://github.com/wsj-br/duplistatus/issues)

### Relatando Bugs {#reporting-bugs}

Ao relatar bugs, inclua:
- Versão: 1.3.1
- Sistema operacional e versão
- Versão do Docker/podman
- Tipo de contêiner (Docker ou podman/Pod)
- Mensagens de erro e logs
- Passos para reproduzir

---

## Changelog {#changelog}

### Alterações da Versão 1.3.1 {#version-131-changes}

- **Adicionado**: Suporte de interface multilíngue com seletor de idioma no cabeçalho do aplicativo (en, de, fr, es, pt-BR)
- **Adicionado**: Internacionalização de Modelos de notificação com seletor de idioma e padrões pré-traduzidos
- **Adicionado**: Formatação de data, hora e número sensível à localidade em todo o aplicativo
- **Adicionado**: Preparação de suporte RTL para futuras linguagens da direita para a esquerda
- **Alterado**: Autenticação de API agora obrigatória em Backups coletar, agendamento de sincronização, configuração de cron e endpoints de notificação
- **Alterado**: Página de documentação renomeada de configure-tz-lang para configure-tz
- **Alterado**: Guia do usuário atualizado para Modelos de notificação e suporte multilíngue
- **Corrigido**: Detecção de falsos positivos de alteração de chave mestra ao restaurar banco de dados com a mesma chave
- **Corrigido**: Corrigir erros "database disk image is malformed" após restauração
- **Corrigido**: Formatação de tempo relativo em localidades não inglesas (formulário de Monitoramento de backups)
- **Corrigido**: Página de detalhes agora mostra mensagem de atrasado e dados corretamente no carregamento inicial
- **Corrigido**: Capturas de tela de documentação localizadas para documentos traduzidos
- **Corrigido**: Mensagens de erro de Login e API de autenticação agora traduzidas (endpoints de autenticação retornam errorCode/successCode; página de login e modal de alteração de senha mapeiam códigos para strings localizadas)
- **Melhorado**: Consistência de internacionalização (rótulos e termos em todo o aplicativo)
- **Melhorado**: Botão Ajuda agora abre documentação no idioma da interface atual.
- **Melhorado**: Melhorias de interface (largura do filtro de Servidor, pluralização de seleção em massa, dicas de ferramentas de ajuda)
- **Segurança**: Dependências vulneráveis atualizadas (fast-xml-parser, brace-expansion)

---

## Licença {#license}

Este projeto está licenciado sob a [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright © 2026 Waldemar Scudeller Jr.**
