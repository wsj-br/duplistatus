# Versão 0.7.x {#version-07x}

## Visão geral {#overview}

Versão 0.7.x é uma versão principal que introduz melhorias significativas no esquema do banco de dados, estrutura da API e interface do usuário. Esta versão inclui mudanças significativas que requerem atualizações em integrações externas.

## Mudanças significativas {#breaking-changes}

### Alterações no esquema do banco de dados {#database-schema-changes}

- **Renomeação de tabela**: tabela `machines` renomeada para `servers`
- **Novos campos**: Adicionados campos `alias`, `notes`, `created_at` e `updated_at`
- **Alterações na resposta da API**: Nomes de campos atualizados para consistência

### Mudanças significativas na API {#api-breaking-changes}

- **Renomeação de campo**: `totalMachines` → `totalServers`
- **Renomeação de objeto**: `machine` → `server` em respostas da API
- **Renomeação de campo**: `backup_types_count` → `backupJobsCount`

:::warning
**Integrações externas usando a API devem ser atualizadas** para funcionar com a versão 0.7.x. Consulte o guia [Mudanças significativas na API](../migration/api-changes) para detalhes.
:::

## Novos recursos {#new-features}

### Gerenciamento de servidores aprimorado {#enhanced-server-management}

- **Apelidos de servidor**: Dê aos servidores nomes amigáveis e memoráveis
- **Notas do servidor**: Adicione descrições e informações adicionais
- **Rastreamento de status aprimorado**: Melhor monitoramento do status do servidor
- **Detalhes do servidor aprimorados**: Informações mais abrangentes do servidor

### Estrutura de API aprimorada {#improved-api-structure}

- **Formato de resposta consistente**: Estrutura de resposta da API padronizada
- **Melhor tratamento de erros**: Mensagens de erro e códigos aprimorados
- **Documentação aprimorada**: Melhor documentação da API
- **Novos endpoints**: Endpoints de API adicionais para melhor integração

### Melhorias no banco de dados {#database-improvements}

- **Melhor desempenho**: Consultas de banco de dados otimizadas e indexação
- **Integridade de dados**: Validação de dados aprimorada e restrições
- **Sistema de migração**: Sistema de migração de banco de dados automatizado
- **Sistema de backup**: Backup e restauração de banco de dados aprimorados

## Aprimoramentos {#enhancements}

### Interface do usuário {#user-interface}

- **Design moderno**: Interface atualizada com melhor design visual
- **Layout responsivo**: Melhor suporte para dispositivos móveis e tablets
- **Navegação aprimorada**: Navegação aprimorada e experiência do usuário
- **Gráficos melhores**: Visualização de gráficos aprimorada e interatividade

### Sistema de notificações {#notification-system}

- **Modelos aprimorados**: Modelos de mensagens de notificação melhores
- **Entrega aprimorada**: Entrega de notificações mais confiável
- **Melhor tratamento de erros**: Tratamento de erros aprimorado para notificações
- **Registro aprimorado**: Melhor registro para depuração de notificações

### Desempenho {#performance}

- **Consultas mais rápidas**: Consultas de banco de dados otimizadas
- **Melhor cache**: Mecanismos de cache aprimorados
- **Uso reduzido de memória**: Melhor gerenciamento de memória
- **Respostas de API mais rápidas**: Tempos de resposta da API aprimorados

## Correções de bugs {#bug-fixes}

### Problemas no banco de dados {#database-issues}

- Corrigidos problemas de corrupção de banco de dados em casos raros
- Resolvidos problemas de migração durante atualizações
- Corrigidos problemas de perda de dados em cenários específicos
- Procedimentos de backup e restauração de banco de dados aprimorados

### Problemas na API {#api-issues}

- Corrigidas inconsistências de resposta da API
- Resolvidos problemas de autenticação
- Corrigidos problemas de validação de dados
- Tratamento de erros e mensagens aprimorados

### Interface do usuário {#user-interface}

- Corrigidos problemas de carregamento do painel
- Resolvidos problemas de renderização de gráficos
- Corrigidos problemas de layout móvel
- Exibição de mensagens de erro aprimorada

### Sistema de notificações {#notification-system}

- Corrigidas falhas de entrega de notificações
- Resolvidos problemas de configuração de e-mail
- Corrigidos problemas de integração NTFY
- Renderização de modelo de notificação aprimorada

## Guia de migração {#migration-guide}

### Migração automática {#automatic-migration}

A migração de 0.6.x para 0.7.x acontece automaticamente:

1. **Criação de backup**: Backup automático do banco de dados é criado
2. **Atualização de esquema**: Esquema do banco de dados é atualizado automaticamente
3. **Migração de dados**: Dados existentes são preservados e migrados
4. **Verificação**: Migração é verificada e registrada

### Etapas manuais necessárias {#manual-steps-required}

- **Atualizar integrações externas**: Atualize quaisquer ferramentas externas usando a API
- **Testar funcionalidade**: Verifique se todos os recursos funcionam corretamente
- **Atualizar documentação**: Atualize qualquer documentação personalizada

## Alterações de configuração {#configuration-changes}

### Novas opções de configuração {#new-configuration-options}

```yaml
# Gerenciamento de servidores {#server-management}
servidores:
  apelido padrão: verdadeiro
  mostrar notas: verdadeiro
  ordenar por: "nome" # nome, status, último backup

# Configurações de API {#api-settings}
api:
  versão: "1.0"
  limite de taxa: 100
  tempo limite excedido: 30000

# Configurações de banco de dados {#database-settings}
banco de dados:
  retenção de backup: 7
  vácuo automático: verdadeiro
  intervalo de otimização: 24
```

### Opções descontinuadas {#deprecated-options}

- Configuração `machines` (use `servers` em vez disso)
- Nomes de campos de API antigos (use novos nomes de campos)

## Imagens do Docker {#docker-images}

### Imagens disponíveis {#available-images}

- **Docker Hub**: `wsjbr/duplistatus:0.7.x`
- **GitHub Container Registry**: `ghcr.io/wsj-br/duplistatus:0.7.x`
- **Tag mais recente**: `wsjbr/duplistatus:latest`

### Tamanhos de imagem {#image-sizes}

- **Alpine**: 52MB
- **Debian**: 85MB
- **Multi-arch**: Suporte para ARM64 e AMD64

## Instalação {#installation}

### Docker Compose {#docker-compose}

```yaml
serviços:
  duplistatus:
    imagem: wsjbr/duplistatus:0.7.x
    nome do contêiner: duplistatus
    reiniciar: a menos que parado
    portas:
      - "9666:9666"
    volumes:
      - duplistatus_data:/app/data
    ambiente:
      - TZ=UTC
```

### Docker CLI {#docker-cli}

```bash
docker run -d \
  --name duplistatus \
  --restart unless-stopped \
  -p 9666:9666 \
  -v duplistatus_data:/app/data \
  wsjbr/duplistatus:0.7.x
```

## Instruções de atualização {#upgrade-instructions}

### Da versão 0.6.x {#from-version-06x}

1. **Faça backup dos seus dados** (backup automático criado durante a atualização)
2. **Atualizar imagem do Docker**: `docker pull wsjbr/duplistatus:0.7.x`
3. **Reiniciar contêiner**: `docker-compose down && docker-compose up -d`
4. **Monitorar logs**: `docker logs -f duplistatus`
5. **Atualizar integrações**: Atualize quaisquer ferramentas externas usando a API
6. **Verificar atualização**: Verifique se todos os recursos funcionam corretamente

### Da versão 0.5.x ou anterior {#from-version-05x-or-earlier}

1. **Primeiro atualize para 0.6.x** (se disponível)
2. **Depois atualize para 0.7.x** usando as etapas acima

## Problemas conhecidos {#known-issues}

### Problemas de migração {#migration-issues}

- **Bancos de dados grandes**: A migração pode levar mais tempo para bancos de dados grandes
- **Espaço em disco**: Certifique-se de ter espaço em disco suficiente para backup de migração
- **Permissões**: Verifique as permissões de arquivo para acesso ao banco de dados

### Compatibilidade da API {#api-compatibility}

- **Ferramentas externas**: Ferramentas externas usando a API precisam de atualizações
- **Nomes de campos**: Alguns nomes de campos foram alterados
- **Formato de resposta**: Alguns formatos de resposta foram alterados

### Soluções alternativas {#workarounds}

- **Migração**: Certifique-se de ter espaço em disco e tempo suficientes para migração
- **API**: Atualize integrações externas para usar o novo formato de API
- **Testes**: Teste toda a funcionalidade após a atualização

## Suporte {#support}

### Obtendo ajuda {#getting-help}

- **Documentação**: [Guia do usuário](../user-guide/overview.md)
- **Referência da API**: [Documentação da API](../api-reference/overview.md)
- **Guia de migração**: [Migração de atualização de versão](../migration/version_upgrade.md)
- **Comunidade**: [Discussões do GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Problemas**: [Problemas do GitHub](https://github.com/wsj-br/duplistatus/issues)

### Relatando bugs {#reporting-bugs}

Ao relatar bugs, inclua:

- Versão: 0.7.x
- Sistema operacional e versão
- Versão do Docker
- Mensagens de erro e logs
- Etapas para reproduzir

## O que vem a seguir {#whats-next}

### Versão 0.8.x (planejada) {#version-08x-planned}

- **Monitoramento aprimorado**: Melhor monitoramento de backup atrasado
- **Notificações aprimoradas**: Sistema de notificações aprimorado
- **Desempenho**: Melhorias adicionais de desempenho
- **Novos recursos**: Recursos adicionais de monitoramento e gerenciamento

### Roteiro de longo prazo {#long-term-roadmap}

- **Análise avançada**: Análise de backup mais detalhada
- **Suporte multi-tenant**: Suporte para múltiplas organizações
- **Integração em nuvem**: Suporte para provedores de armazenamento em nuvem
- **Aplicativo móvel**: Aplicativo móvel nativo

## Registro de alterações {#changelog}

### Alterações detalhadas {#detailed-changes}

- **Adicionado**: Funcionalidade de apelidos e notas do servidor
- **Adicionado**: API aprimorada com formato de resposta consistente
- **Adicionado**: Esquema de banco de dados aprimorado e desempenho
- **Adicionado**: Melhor tratamento de erros e registro
- **Adicionado**: Interface do usuário aprimorada e navegação
- **Alterado**: Nomes de tabelas de banco de dados (`machines` → `servers`)
- **Alterado**: Nomes de campos de API para consistência
- **Alterado**: Estrutura de formato de resposta
- **Corrigido**: Problemas de corrupção de banco de dados
- **Corrigido**: Inconsistências de resposta da API
- **Corrigido**: Problemas de renderização da interface do usuário
- **Corrigido**: Problemas de entrega de notificações
- **Melhorado**: Desempenho geral e estabilidade
- **Melhorado**: Documentação e experiência do usuário

## Colaboradores {#contributors}

### Equipe de desenvolvimento {#development-team}

- **Waldemar Scudeller Jr.**: Desenvolvedor líder e mantenedor
- **Colaboradores da comunidade**: Relatórios de bugs, solicitações de recursos e testes

### Agradecimentos especiais {#special-thanks}

- **Testadores beta**: Por testar versões iniciais e fornecer feedback
- **Comunidade**: Por sugestões, relatórios de bugs e suporte
- **Equipe Duplicati**: Pelo excelente software de backup que torna este projeto possível

## Licença {#license}

Este projeto é licenciado sob a [Licença Apache 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright © 2025 Waldemar Scudeller Jr.**
