# Version 1.3.0

## vue d'ensemble

La version 1.3.0 introduit des politiques de mot de passe configurables, un nouveau visualiseur de journaux d'application pour les administrateurs, l'affichage des jours de la semaine tenant compte des param√®tres r√©gionaux, et plusieurs am√©liorations de l'exp√©rience utilisateur. Cette version se concentre sur les outils administratifs am√©lior√©s et le support d'internationalisation am√©lior√©.

## Nouvelles fonctionnalit√©s

### Politique de mot de passe configurable

- **Variables d'environnement de politique de mot de passe** : Configurez les exigences de validation de mot de passe via les variables d'environnement :
  - `PWD_ENFORCE` : D√©finissez sur `false` pour d√©sactiver les exigences de complexit√© du mot de passe (majuscules, minuscules, chiffres). Par d√©faut, toutes les r√®gles sont appliqu√©es. Quand d√©sactiv√©, seule la longueur minimale est appliqu√©e.
  - `PWD_MIN_LEN` : D√©finit la longueur minimale du mot de passe en caract√®res. Par d√©faut 8 caract√®res.
  - La v√©rification du mot de passe par d√©faut (emp√™chant l'utilisation du mot de passe administrateur par d√©faut) est toujours appliqu√©e ind√©pendamment du param√®tre `PWD_ENFORCE`.

### Visualiseur de journaux d'application

- **Nouveau visualiseur de journaux r√©serv√© aux administrateurs** : Afficher et t√©l√©charger les journaux d'application directement √† partir de la page Param√®tres :
  - Acc√©dez au fichier `application.log` consolid√© et aux versions de journaux en rotation
  - S√©lecteur de nombre de lignes configurable (100, 500, 1000, 5000, 10000 lignes)
  - Filtre de recherche en temps r√©el avec correspondance de texte insensible √† la casse
  - Basculement de d√©filement automatique pour la surveillance des journaux en temps r√©el avec interrogation automatique
  - Copier dans le presse-papiers et exporter les journaux filtr√©s en tant que fichier texte
  - Affichage des m√©tadonn√©es du fichier montrant le nombre de lignes, la taille du fichier et l'horodatage de la derni√®re modification
  - Rotation des journaux au d√©marrage du conteneur (configurable via `LOG_ROTATION_VERSIONS`, par d√©faut : 5)

### Guide utilisateur contextuel

- **Bouton d'aide dynamique** : Le bouton Guide utilisateur dans l'en-t√™te de l'application ouvre maintenant la documentation pertinente pour la page actuelle. L'infobulle se met √† jour pour afficher "Aide pour {pageName}" pour indiquer quelle documentation sera ouverte.

### Am√©lioration de la configuration du serveur

- **Acc√®s rapide √† l'interface utilisateur Duplicati** : Un clic droit sur le bouton de configuration du serveur ou sur n'importe quel √©l√©ment de serveur dans le popover de s√©lection de serveur ouvre l'interface utilisateur h√©rit√©e Duplicati (`/ngax`) dans un nouvel onglet.

---

## üîß Am√©liorations

### Affichage des jours de la semaine tenant compte des param√®tres r√©gionaux

- **Ordre des jours de la semaine internationalis√©** : L'affichage des jours de la semaine dans le formulaire de surveillance des sauvegardes en retard respecte maintenant les param√®tres r√©gionaux de votre navigateur. Les jours de la semaine sont affich√©s dans le bon ordre selon les param√®tres r√©gionaux (lundi-dimanche pour le Royaume-Uni/Europe, dimanche-samedi pour les √âtats-Unis/Br√©sil).

### Gestion am√©lior√©e des erreurs SMTP

- **Messages d'erreur am√©lior√©s** : Les messages d'erreur SMTP fournissent maintenant des conseils plus pr√©cis :
  - Les erreurs d'authentification indiquent clairement les probl√®mes de nom d'utilisateur/mot de passe
  - Les erreurs de version SSL/TLS sont correctement identifi√©es
  - Les suggestions de type de connexion n'apparaissent que quand elles sont v√©ritablement pertinentes

### Comportement des notifications toast

- **Notifications d'erreur persistantes** : Les toasts d'erreur persistent maintenant jusqu'√† ce qu'ils soient ferm√©s manuellement, ce qui garantit que vous ne manquez pas les messages d'erreur importants. Les toasts de succ√®s et d'information se ferment automatiquement apr√®s 3 secondes.

### Tableau des param√®tres de notification

- **Disposition simplifi√©e** : Le tableau des param√®tres de notification a √©t√© rationalis√© avec une colonne "Serveur / Sauvegarde" combin√©e et des ic√¥nes contextuelles indiquant l'√©tat de la configuration de destination suppl√©mentaire.

---

## üöÄ Notes de migration

### √Ä partir de la version 1.2.x

Lors de la mise √† niveau vers la version 1.3.0 :

1. **Politique de mot de passe** : La nouvelle politique de mot de passe applique par d√©faut toutes les exigences de complexit√©. Si vous avez besoin d'une politique de mot de passe plus simple, configurez les variables d'environnement `PWD_ENFORCE` et `PWD_MIN_LEN`.

2. **Journaux d'application** : Toute la sortie du conteneur (serveur et service cron) est maintenant consolid√©e dans un seul fichier `data/logs/application.log`.

3. **Rotation des journaux** : La rotation des journaux est configurable via la variable d'environnement `LOG_ROTATION_VERSIONS` (par d√©faut : 5 versions).

4. **Aucune migration de base de donn√©es requise** : Cette version ne n√©cessite aucune modification du sch√©ma de base de donn√©es.

---

## Points de terminaison API

Le point de terminaison API suivant a √©t√© introduit dans cette version :

### Point de terminaison de politique de mot de passe

- `GET /api/auth/password-policy` - Retourne la configuration de politique de mot de passe actuelle

### Points de terminaison des journaux d'application

- `GET /api/application-logs` - Afficher les journaux avec s√©lection de fichier et fonctionnalit√© de queue
- `GET /api/application-logs/export` - Exporter les journaux filtr√©s en tant que fichier texte

### Points de terminaison supprim√©s

Les points de terminaison API inutilis√©s suivants ont √©t√© supprim√©s dans cette version :

- `DELETE /api/backups/[backupId]` - Point de terminaison r√©serv√© au d√©veloppement qui n'a jamais √©t√© utilis√©
- `GET /api/audit-log/stats` - Le point de terminaison n'a pas √©t√© appel√© par le visualiseur de journal d'audit

---

## Support

### Obtenir de l'aide

- **Documentation** : [Guide utilisateur](../user-guide/overview.md)
- **Param√®tres e-mail** : [Guide de configuration e-mail](../user-guide/settings/email-settings.md)
- **R√©f√©rence API** : [Documentation API](../api-reference/overview.md)
- **Guide de migration** : [Migration de mise √† niveau de version](../migration/version_upgrade.md)
- **Communaut√©** : [Discussions GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Probl√®mes** : [Probl√®mes GitHub](https://github.com/wsj-br/duplistatus/issues)

### Signaler des bogues

Lors de la signalisation de bogues, veuillez inclure :

- Version : 1.3.0
- Syst√®me d'exploitation et version
- Version Docker/podman
- Type de conteneur (Docker ou podman/Pod)
- Messages d'erreur et journaux
- √âtapes pour reproduire

---

## Journal des modifications

### Modifications de la version 1.3.0

- **Ajout√©** : Politique de mot de passe configurable via les variables d'environnement `PWD_ENFORCE` et `PWD_MIN_LEN`
- **Ajout√©** : Visualiseur de journaux d'application dans Param√®tres (administrateur uniquement)
- **Ajout√©** : Rotation des journaux avec nombre de versions configurable (`LOG_ROTATION_VERSIONS`)
- **Ajout√©** : Bouton Guide utilisateur contextuel qui ouvre la documentation pertinente
- **Ajout√©** : Clic droit sur la configuration du serveur pour ouvrir l'interface utilisateur h√©rit√©e Duplicati
- **Ajout√©** : Point de terminaison API `GET /api/auth/password-policy` pour la configuration de politique de mot de passe
- **Ajout√©** : Points de terminaison API pour l'affichage et l'export des journaux d'application
- **Modifi√©** : L'affichage des jours de la semaine respecte maintenant les param√®tres r√©gionaux du navigateur
- **Modifi√©** : Les toasts d'erreur persistent jusqu'√† ce qu'ils soient ferm√©s manuellement
- **Modifi√©** : Les toasts de succ√®s se ferment automatiquement apr√®s 3 secondes (auparavant 5 secondes)
- **Modifi√©** : Tableau des param√®tres de notification simplifi√© avec colonne "Serveur / Sauvegarde" combin√©e
- **Modifi√©** : Consolidation de tous les journaux de conteneur dans un seul fichier `application.log`
- **Am√©lior√©** : Les messages d'erreur SMTP fournissent des conseils plus pr√©cis
- **Supprim√©** : Points de terminaison API inutilis√©s (`DELETE /api/backups/[backupId]` et `GET /api/audit-log/stats`) qui n'√©taient pas appel√©s par l'application

---

## Licence

Ce projet est sous licence [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Droits d'auteur ¬© 2025 Waldemar Scudeller Jr.**
