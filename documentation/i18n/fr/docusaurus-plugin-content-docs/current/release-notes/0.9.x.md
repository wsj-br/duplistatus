---
translation_last_updated: '2026-01-31T00:51:22.663Z'
source_file_mtime: '2026-01-27T14:22:06.834Z'
source_file_hash: 0e80121c539af670
translation_language: fr
source_file_path: release-notes/0.9.x.md
---
# Version 0.9.x {#version-09x}

## Vue d'ensemble {#overview}

Version 0.9.x est une version majeure qui introduit un syst√®me complet de **Contr√¥le d'acc√®s utilisateur et S√©curit√©**. Cette version transforme **duplistatus** d'une application en acc√®s libre en un syst√®me s√©curis√© multi-utilisateurs avec contr√¥le d'acc√®s bas√© sur les r√¥les, journalisation d'audit compl√®te et fonctionnalit√©s de s√©curit√© de niveau entreprise. Toutes les fonctionnalit√©s existantes sont d√©sormais prot√©g√©es par authentification, garantissant que seuls les utilisateurs autoris√©s peuvent acc√©der et g√©rer la surveillance des sauvegardes.

## Modifications incompatibles {#breaking-changes}

### Authentification requise {#authentication-required}

- **Toutes les pages n√©cessitent d√©sormais une authentification** - Les utilisateurs doivent se connecter pour acc√©der √† l'application
- **Un compte admin par d√©faut** est cr√©√© automatiquement :
  - Nom d'utilisateur : `admin`
  - Mot de passe : `Duplistatus09` (doit √™tre modifi√© lors de la premi√®re connexion)
- **Les sessions existantes sont invalid√©es** - Tous les utilisateurs doivent se connecter apr√®s la mise √† jour
- **Les points de terminaison API n√©cessitent d√©sormais une authentification** - Les int√©grations externes doivent inclure des cookies de session ou utiliser des requ√™tes authentifi√©es

:::warning
**Tous les utilisateurs doivent se connecter apr√®s la mise √† niveau vers la version 0.9.x.** Les identifiants admin par d√©faut sont admin/Duplistatus09. Changez le mot de passe imm√©diatement apr√®s la premi√®re connexion.
:::

### Migration du sch√©ma de base de donn√©es {#database-schema-migration}

- **Migration automatique de v3.1 √† v4.0** pour les installations existantes
- **Nouvelles tables ajout√©es** : `users`, `sessions`, `audit_log`
- **Sauvegarde de la base de donn√©es cr√©√©e automatiquement** avant la migration
- **Les nouvelles installations** d√©marrent directement avec le sch√©ma v4.0 (aucune migration n√©cessaire)

## Nouvelles fonctionnalit√©s {#new-features}

### Contr√¥le d'acc√®s utilisateur et syst√®me de s√©curit√© {#user-access-control-security-system}

#### Syst√®me d'authentification {#authentication-system}

- **Fonctionnalit√© de connexion/d√©connexion utilisateur** avec gestion s√©curis√©e des sessions
- **Authentification par mot de passe** avec hachage bcrypt (facteur de co√ªt 12)
- **M√©canisme de verrouillage de compte** (5 tentatives √©chou√©es, verrouillage de 15 minutes)
- **Changement de mot de passe forc√©** √† la premi√®re connexion
- **Application de la politique de mot de passe** :
  - Minimum 8 caract√®res
  - Au moins une lettre majuscule
  - Au moins une lettre minuscule
  - Au moins un chiffre
  - Caract√®res sp√©ciaux optionnel
- **Fonctionnalit√© ¬´ Se souvenir de moi ¬ª** avec persistance du nom d'utilisateur dans localStorage
- **Authentification bas√©e sur les sessions** avec sessions sauvegard√©es en base de donn√©es (remplace la m√©moire interne)
- **Protection CSRF** int√©gr√©e √† l'authentification
- **Cookies HTTP uniquement** pour la s√©curit√© des sessions
- **Suivi de l'adresse IP et de l'agent utilisateur** pour la surveillance de la s√©curit√©

#### Gestion des utilisateurs (Admin uniquement) {#user-management-admin-only}

- **Cr√©ation d'utilisateur** avec g√©n√©ration automatique de mot de passe temporaire
- **Liste d'utilisateurs** avec recherche, pagination et filtrage
- **√âdition d'utilisateur** (nom d'utilisateur, statut admin, exigence de changement de mot de passe)
- **Fonctionnalit√© de r√©initialisation du mot de passe** avec affichage du mot de passe temporaire
- **Suppression d'utilisateur** avec mesures de s√©curit√© (emp√™che la suppression du dernier admin)
- **Contr√¥le d'acc√®s bas√© sur les r√¥les** (r√¥les Admin/Utilisateur)
- **Indicateurs de statut** (Actif, Verrouill√©, Doit changer le mot de passe)
- **Suivi et affichage de la derni√®re connexion**

#### Syst√®me d'enregistrement d'audit {#audit-logging-system}

- **Piste d'audit compl√®te** pour tous les changements syst√®me et actions utilisateur
- **Visualiseur de journal d'audit** avec filtrage avanc√© :
  - Filtrage par plage de dates
  - Filtrage par utilisateur
  - Filtrage par action
  - Filtrage par cat√©gorie
  - Filtrage par statut
- **Fonctionnalit√© d'exportation** (formats CSV et JSON)
- **Statistiques et analyses du journal d'audit**
- **P√©riode de r√©tention configurable** (30-365 jours, par d√©faut : 90 jours)
- **T√¢che cron de nettoyage automatique** (s'ex√©cute quotidiennement √† 2 h UTC)
- **API de nettoyage manuel** avec support de simulation
- **Journalisation d'audit pour** :
  - √âv√©nements d'authentification (connexion, d√©connexion, changements de mot de passe, verrouillages de compte)
  - Op√©rations de gestion des utilisateurs (cr√©ation, mise √† jour, suppression, r√©initialisations de mot de passe)
  - Changements de configuration (e-mail, NTFY, mod√®les, tol√©rance de retard, param√®tres de sauvegarde)
  - Op√©rations de sauvegarde (collection, suppression, nettoyage)
  - Gestion des serveurs (ajout, mise √† jour, suppression)
  - Op√©rations syst√®me (migrations, nettoyage, notifications)

### Refonte de la Page Param√®tres {#settings-page-redesign}

- **Navigation de barre lat√©rale moderne** avec barre lat√©rale r√©ductible
- **Persistance de l'√©tat de la barre lat√©rale sp√©cifique √† l'utilisateur** (pr√©f√©rence r√©duite/d√©velopp√©e sauvegard√©e par utilisateur)
- **Sections de param√®tres group√©es** :
  - **Notifications** : Notifications de sauvegarde, Surveillance des sauvegardes en retard, Mod√®les
  - **Int√©grations** : NTFY, E-mail
  - **Syst√®me** : Serveurs, Utilisateurs (admin uniquement), Journal d'Audit
- **Barre lat√©rale fixe** qui reste visible lors du d√©filement
- **Conception r√©active** avec espacement optimis√©
- **Ic√¥ne de param√®tres et titre ¬´ Param√®tres Syst√®me ¬ª** dans l'en-t√™te de la barre lat√©rale
- **Bouton Retour** int√©gr√© dans l'en-t√™te de l'application

### Am√©liorations de l'Interface Utilisateur {#user-interface-enhancements}

- **Page de connexion autonome** avec un design moderne
- **Case √† cocher ¬´ Se souvenir de moi ¬ª** sur le formulaire de connexion pour la persistance du nom d'utilisateur
- **Boutons Afficher/Masquer le mot de passe** sur les formulaires de connexion et de changement de mot de passe
- **Modal de changement de mot de passe** avec liste de contr√¥le de validation en temps r√©el
- **Indicateur d'utilisateur et bouton de d√©connexion** dans l'en-t√™te de l'application
- **Visibilit√© de l'interface utilisateur bas√©e sur les r√¥les** (les fonctionnalit√©s r√©serv√©es aux administrateurs sont masqu√©es aux utilisateurs ordinaires)
- **Badges et indicateurs de statut** dans toute l'interface utilisateur
- **Pr√©f√©rences sp√©cifiques √† l'utilisateur** stock√©es dans localStorage (par exemple, l'√©tat r√©duit de la barre lat√©rale)

### Fonctionnalit√©s de s√©curit√© {#security-features}

- **Hachage des mots de passe** avec bcrypt (norme de l'industrie)
- **D√©sinfection des donn√©es sensibles** dans les journaux d'audit (les mots de passe, jetons et secrets ne sont jamais enregistr√©s)
- **Limitation du d√©bit** pour les tentatives de connexion
- **Expiration de session** (24 heures)
- **Validation du jeton CSRF** pour toutes les op√©rations modifiant l'√©tat
- **Outil CLI de r√©cup√©ration Admin** pour la r√©initialisation du mot de passe en cas de verrouillage

### Outils de d√©veloppement {#developer-tools}

- **Script CLI de r√©cup√©ration Admin** (`admin-recovery`) pour une ex√©cution facile dans les conteneurs Docker
- **Fonctionne √† la fois localement et dans Docker** avec d√©tection automatique des chemins
- **Interfaces TypeScript compl√®tes** (sans types `any`)
- **Middleware d'authentification** pour la protection des routes
- **Classe utilitaire de journalisation d'audit** avec des m√©thodes pratiques

---

## üöÄ Notes de migration {#migration-notes}

### √Ä partir de la Version 0.8.x {#from-version-08x}

Cette version introduit l'authentification et n√©cessite que tous les utilisateurs se connectent. Lors de la mise √† niveau √† partir de la version 0.8.x :

1. **Migration automatique de la base de donn√©es** : L'application migrera automatiquement votre sch√©ma de base de donn√©es de la v3.1 √† la v4.0
2. **Sauvegarde de la base de donn√©es** : Une sauvegarde automatique est cr√©√©e avant la migration
3. **Compte Admin par d√©faut** : Un compte admin par d√©faut est cr√©√© :
   - Nom d'utilisateur : `admin`
   - Mot de passe : `Duplistatus09`
   - **Vous devez modifier ce mot de passe lors de votre premi√®re connexion**
4. **Invalidation des sessions** : Toutes les sessions existantes sont invalid√©es
5. **Connexion utilisateur requise** : Tous les utilisateurs doivent se connecter apr√®s la mise √† niveau
6. **Authentification API** : Les int√©grations externes doivent √™tre mises √† jour pour inclure l'authentification

### Consid√©rations de s√©curit√© {#security-considerations}

- **Modifier le mot de passe par d√©faut** : Modifiez le mot de passe admin par d√©faut imm√©diatement apr√®s la premi√®re connexion
- **Cr√©er l'utilisateur Comptes** : Cr√©ez des comptes utilisateur individuels pour chaque personne qui a besoin d'acc√®s
- **Examiner les journaux d'audit** : V√©rifiez r√©guli√®rement les journaux d'audit pour la surveillance de la s√©curit√©
- **Configurer la r√©tention** : D√©finissez une p√©riode de r√©tention du journal d'audit appropri√©e en fonction de vos exigences de conformit√©
- **Sauvegarder la cl√© ma√Ætre** : Si vous effectuez une mise √† niveau √† partir de 0.8.x, assurez-vous que le fichier `.duplistatus.key` est sauvegard√©

### Premi√®res √©tapes de connexion {#first-login-steps}

1. **Se connecter** avec les identifiants par d√©faut (`admin` / `Duplistatus09`)
2. **Changer le mot de passe** quand vous y √™tes invit√© (obligatoire √† la premi√®re connexion)
3. **Cr√©er l'utilisateur** pour les autres utilisateurs (Param√®tres ‚Üí Utilisateurs)
4. **Configurer** la r√©tention du journal d'audit si n√©cessaire (Param√®tres ‚Üí Journal d'Audit)
5. **Consulter les journaux d'audit** pour v√©rifier que le syst√®me fonctionne correctement

---

## üêõ Corrections de bogues {#bug-fixes}

- Correction des probl√®mes de persistance de session lors des red√©marrages du serveur
- Am√©lioration de la gestion des erreurs pour les √©checs d'authentification
- Am√©lioration des commentaires de validation du mot de passe
- Correction des incoh√©rences de l'interface utilisateur dans la page des param√®tres
- Am√©lioration des performances du filtrage du journal d'audit

---

## Points de terminaison API {#api-endpoints}

### Points de terminaison d'authentification {#authentication-endpoints}

- `POST /api/auth/login` - Authentification de l'utilisateur
- `POST /api/auth/logout` - Terminaison de session
- `GET /api/auth/me` - Informations de l'utilisateur actuel
- `POST /api/auth/change-password` - Modification du mot de passe

### Gestion des utilisateurs - Points de terminaison (Admin uniquement) {#user-management-endpoints-admin-only}

- `GET /api/users` - Lister les utilisateurs
- `POST /api/users` - Cr√©er l'utilisateur
- `PATCH /api/users/{id}` - Mettre √† jour l'utilisateur
- `DELETE /api/users/{id}` - Supprimer l'utilisateur

### Points de terminaison du Journal d'Audit {#audit-log-endpoints}

- `GET /api/audit-log` - Interroger les journaux d'audit
- `GET /api/audit-log/download` - Exporter les journaux d'audit
- `GET /api/audit-log/stats` - Statistiques d'audit
- `POST /api/audit-log/cleanup` - Nettoyage manuel (Admin uniquement)
- `GET /api/audit-log/retention` - Obtenir le param√®tre de r√©tention
- `PATCH /api/audit-log/retention` - Mettre √† jour la r√©tention (Admin uniquement)

:::note
Tous les points de terminaison de l'API n√©cessitent maintenant une authentification. Consultez la [R√©f√©rence API](../api-reference/authentication-security.md) pour plus de d√©tails sur l'authentification.
:::

---

## Support {#support}

### Obtenir de l'aide {#getting-help}

- **Documentation** : [Guide Utilisateur](../user-guide/overview.md)
- **R√©f√©rence API** : [Documentation API](../api-reference/authentication-security.md)
- **Guide de Migration** : [Migration de Mise √† Jour de Version](../migration/version_upgrade.md)
- **R√©cup√©ration Admin** : [R√©cup√©ration de Compte Admin](../user-guide/admin-recovery.md)
- **Communaut√©** : [Discussions GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Probl√®mes** : [Probl√®mes GitHub](https://github.com/wsj-br/duplistatus/issues)

### Signaler des bogues {#reporting-bugs}

Quand signaler des bogues, veuillez inclure :
- Version : 0.9.x
- Syst√®me d'exploitation et version
- Version de Docker
- Messages d'erreur et journaux
- √âtapes de reproduction
- R√¥le d'utilisateur (admin/utilisateur) le cas √©ch√©ant

---

## Historique des modifications {#changelog}

### Modifications d√©taill√©es {#detailed-changes}

- **Ajout√©** : Syst√®me complet d'authentification et d'autorisation
- **Ajout√©** : Gestion des utilisateurs avec contr√¥le d'acc√®s bas√© sur les r√¥les
- **Ajout√©** : Syst√®me complet de journalisation d'audit
- **Ajout√©** : Refonte de la page Param√®tres avec barre lat√©rale repliable
- **Ajout√©** : Outil CLI de r√©cup√©ration Admin
- **Ajout√©** : Application de la politique de mot de passe
- **Ajout√©** : M√©canisme de verrouillage de compte
- **Ajout√©** : Gestion des sessions avec persistance en base de donn√©es
- **Modifi√©** : Toutes les pages n√©cessitent maintenant une authentification
- **Modifi√©** : Sch√©ma de base de donn√©es de v3.1 √† v4.0
- **Modifi√©** : Stockage des sessions de la m√©moire √† la base de donn√©es
- **Modifi√©** : Disposition et navigation de la page Param√®tres
- **Corrig√©** : Persistance des sessions apr√®s red√©marrage du serveur
- **Corrig√©** : Diverses incoh√©rences d'interface utilisateur
- **Am√©lior√©** : Posture de s√©curit√© avec syst√®me complet de journalisation d'audit
- **Am√©lior√©** : Exp√©rience utilisateur avec pages de connexion et param√®tres modernes
- **Am√©lior√©** : Qualit√© du code avec interfaces TypeScript et principes DRY

---

## Licence {#license}

Ce projet est sous licence [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright ¬© 2025 Waldemar Scudeller Jr.**
