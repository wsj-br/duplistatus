# Version 1.0.x

## vue d'ensemble

Version 1.0.x est une version de fonctionnalit√©s qui introduit des am√©liorations significatives √† la Configuration e-mail, √† la Gestion des serveurs et aux outils de Maintenance de la base de donn√©es. Cette version se concentre sur l'am√©lioration de la fiabilit√© des Notifications par e-mail, l'expansion des options de connexion SMTP et la fourniture de meilleurs outils pour g√©rer les Serveurs et l'int√©grit√© de la base de donn√©es.

## Nouvelles fonctionnalit√©s

### Am√©liorations de la Gestion des serveurs

- **Fonctionnalit√© de changement de mot de passe du serveur** - Les Utilisateurs peuvent maintenant changer les Mots de passe des Serveurs directement √† partir de la Page de D√©tails du serveur en cliquant sur l'ic√¥ne de cl√©
- **D√©tection et fusion des serveurs en double** - Nouvelle fonction dans le formulaire de Maintenance de la base de donn√©es pour d√©tecter les Serveurs en double et les fusionner en une seule entr√©e de serveur

### Am√©liorations de la journalisation d'audit

- **Journalisation d'audit du t√©l√©versement de sauvegarde** - Tous les t√©l√©versements de journaux de sauvegarde via le point de terminaison `/api/upload` sont maintenant automatiquement enregistr√©s dans le Journal d'Audit. Chaque entr√©e inclut les D√©tails de sauvegarde (ID du serveur, Nom du serveur, Nom de sauvegarde, Statut, Date, Dur√©e, Nombre de fichiers, Taille, Avertissements et Erreurs) ainsi que l'Adresse IP du client et les informations de l'Agent utilisateur √† des fins de suivi et de S√©curit√©

### Am√©liorations de la Configuration e-mail

- **Avis de configuration incompl√®te** - Alerte visuelle affich√©e lorsque les Param√®tres e-mail ne sont pas correctement configur√©s
- **Indicateurs d'√©tat du service** - √âtiquettes "(D√©sactiv√©)" affich√©es sur les cases √† cocher de Notifications lorsque les services e-mail ne sont pas configur√©s
- **Informations d'exp√©diteur personnalisables**:
  - `Sender Name` champ pour personnaliser le nom d'affichage affich√© comme exp√©diteur dans les Notifications par e-mail
  - `Adresse d'exp√©diteur` champ pour sp√©cifier l'Adresse e-mail affich√©e comme exp√©diteur
  - Note: Certains fournisseurs e-mail remplaceront l'`Adresse d'exp√©diteur` par le `Nom d'utilisateur du serveur SMTP`
- **Basculement d'authentification SMTP** - Option pour activer ou d√©sactiver l'authentification SMTP, prenant en charge les Serveurs qui ne n√©cessitent pas d'authentification
- **Validation du format e-mail** - Validation des champs d'adresse du destinataire et d'exp√©diteur pour assurer un format d'Adresse e-mail appropri√©
- **E-mail de test am√©lior√©** - L'e-mail de test affiche maintenant des d√©tails de connexion complets, notamment le Nom d'h√¥te du serveur SMTP, le Port, le Type de connexion, le Statut d'authentification, le Nom d'utilisateur (le cas √©ch√©ant), l'E-mail du destinataire, l'Adresse d'exp√©diteur, le nom de l'exp√©diteur et l'Horodatage du test

### Support du type de connexion SMTP

- **Plusieurs types de connexion** - Support pour trois types de connexion:
  - `SMTP simple` (pas de Chiffrement) sur le Port 25
  - `STARTTLS` (mise √† niveau vers TLS) sur le Port 587
  - `SSL/TLS direct` (chiffr√© d√®s le D√©marrage) sur le Port 465
- **Type de connexion par d√©faut** - Chang√© en `SSL/TLS direct` pour les nouvelles configurations
- **Exigences sp√©cifiques √† la connexion** - Le champ `Adresse d'exp√©diteur` est requis pour les connexions `SMTP simple` pour assurer une identification appropri√©e de l'exp√©diteur e-mail et la conformit√© RFC 5322

---

## üêõ Corrections de bogues

### Corrections du syst√®me E-mail

- **En-t√™te `From` manquant corrig√©** - R√©solution des erreurs de conformit√© RFC 5322 en s'assurant que Tous les Messages e-mail incluent les en-t√™tes `From` appropri√©s
- **Chiffrement e-mail corrig√© pour STARTTLS** - Correction de la gestion du Chiffrement pour les connexions `STARTTLS` (Port 587)
- **Connexions SMTP simple corrig√©es** - R√©solution des Erreurs de n√©gociation TLS qui causaient l'√©chec des connexions `SMTP simple`
- **Perte de configuration non enregistr√©e corrig√©e** - Pr√©vention de l'effacement de la Configuration e-mail non enregistr√©e lors du Changement du mot de passe
- **Configuration SMTP obsol√®te corrig√©e** - R√©solution du probl√®me o√π le point de terminaison d'e-mail de Tester utilisait une configuration SMTP obsol√®te

### Corrections de l'interface utilisateur

- **Basculement de visibilit√© du mot de passe corrig√©** - Correction du comportement de la fonction Afficher le mot de passe dans le formulaire de Changement du mot de passe; cliquer sur l'ic√¥ne d'≈ìil affiche maintenant le Mot de passe pour les deux champs de mot de passe simultan√©ment

### Corrections du syst√®me

- **Journalisation du point d'entr√©e Docker corrig√©e** - R√©solution du probl√®me o√π le script de point d'entr√©e Docker supprimait les Messages de Journaux
- **Calcul de la date de Prochaine ex√©cution corrig√©** - Ajout du recalcul automatique de la date `Prochaine ex√©cution` apr√®s la collecte des Journaux de sauvegarde, en s'assurant que la Date est mise √† jour correctement apr√®s la collecte des journaux

---

## üöÄ Notes de migration

### De la Version 0.9.x

Cette version inclut des am√©liorations √† la Configuration e-mail et √† la Gestion des serveurs. Lors de la mise √† niveau √† partir de la Version 0.9.x:

1. **Aucune migration de base de donn√©es requise** - Cette version ne n√©cessite aucune modification du sch√©ma de base de donn√©es
2. **Mises √† jour de la Configuration e-mail** - Les Configurations e-mail existantes continueront √† fonctionner, mais vous pouvez examiner et mettre √† jour vos Param√®tres pour profiter des nouvelles fonctionnalit√©s:
   - Envisagez de d√©finir un `Sender Name` personnalis√© pour une meilleure identification e-mail
   - V√©rifiez que votre `Adresse d'exp√©diteur` est correctement d√©finie, en particulier si vous utilisez des connexions `SMTP simple`
   - Testez votre Configuration e-mail √† l'aide de la fonction d'e-mail de Tester am√©lior√©e
3. **Type de connexion par d√©faut** - Les nouvelles Configurations e-mail utiliseront par d√©faut le type de connexion `SSL/TLS direct`
4. **Gestion des mots de passe des serveurs** - Vous pouvez maintenant changer les Mots de passe des Serveurs directement √† partir de la Page de D√©tails du serveur sans avoir besoin de collecter √† nouveau les Sauvegardes

### Recommandations de Configuration e-mail

- **Pour une utilisation en production**: Utilisez les connexions `STARTTLS` ou `SSL/TLS direct` pour une livraison e-mail s√©curis√©e
- **Pour les tests locaux**: Les connexions `SMTP simple` sont disponibles pour les r√©seaux locaux de confiance
- **Exigence de l'Adresse d'exp√©diteur**: Lors de l'utilisation de `SMTP simple` ou lorsque l'authentification est D√©sactiv√©e, assurez-vous que le champ `Adresse d'exp√©diteur` est correctement configur√©
- **Testez votre configuration**: Utilisez toujours le bouton "Envoyer un e-mail de test" pour v√©rifier que votre Configuration e-mail fonctionne correctement

---

## Points de terminaison API

### Points de terminaison de Configuration e-mail

- `GET /api/email/config` - Obtenir la Configuration e-mail
- `POST /api/email/config` - Mettre √† jour la Configuration e-mail
- `POST /api/email/test` - Envoyer un e-mail de test
- `DELETE /api/email/config` - Supprimer la Configuration e-mail

### Points de terminaison de Gestion des serveurs

- `PATCH /api/servers/{id}/password` - Mettre √† jour le Mot de passe du serveur
- `POST /api/database/maintenance/merge-duplicate-servers` - Fusionner les Serveurs en double

---

## Support

### Obtenir de l'aide

- **Documentation**: [Guide de l'Utilisateur](../user-guide/overview.md)
- **Param√®tres e-mail**: [Guide de Configuration e-mail](../user-guide/settings/email-settings.md)
- **R√©f√©rence API**: [Documentation API](../api-reference/overview.md)
- **Guide de migration**: [Migration de mise √† niveau de version](../migration/version_upgrade.md)
- **Communaut√©**: [Discussions GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Probl√®mes**: [Probl√®mes GitHub](https://github.com/wsj-br/duplistatus/issues)

### Signaler des bogues

Lors de la signalisation de bogues, veuillez inclure:

- Version: 1.0.x (sp√©cifiez la version exacte, par exemple 1.0.3)
- Syst√®me d'exploitation et Version
- Version de Docker/podman
- Type de conteneur (Docker ou podman/Pod)
- Messages d'Erreur et Journaux
- √âtapes √† reproduire
- D√©tails de Configuration e-mail (si li√© √† e-mail)
- D√©tails de configuration de Podman (si ex√©cution dans podman/Pod)

---

## Journal des modifications

### Modifications d√©taill√©es

- **Ajout√©**: Fonctionnalit√© de changement de mot de passe du serveur √† partir de la Page de D√©tails du serveur
- **Ajout√©**: D√©tection et fusion des Serveurs en double dans la maintenance de la base de donn√©es
- **Ajout√©**: Champs `Sender Name` et `Adresse d'exp√©diteur` √† la Configuration e-mail
- **Ajout√©**: Support pour les connexions `SMTP simple` (Port 25)
- **Ajout√©**: S√©lection du Type de connexion (`SMTP simple`, `STARTTLS`, `SSL/TLS direct`)
- **Ajout√©**: Basculement de l'exigence d'authentification SMTP
- **Ajout√©**: Validation du format e-mail pour les champs d'adresse du destinataire et d'exp√©diteur
- **Ajout√©**: E-mail de Tester am√©lior√© avec D√©tails de connexion complets
- **Ajout√©**: Avis de configuration incompl√®te pour les Param√®tres e-mail
- **Ajout√©**: √âtiquettes "(D√©sactiv√©)" sur les cases √† cocher de Notifications lorsque les services ne sont pas configur√©s
- **Ajout√©**: Entr√©es du Journal d'Audit pour les t√©l√©versements de Journaux de sauvegarde via le point de terminaison `/api/upload`
- **Modifi√©**: Type de connexion par d√©faut en `SSL/TLS direct` pour les nouvelles configurations
- **Modifi√©**: Le champ `Adresse d'exp√©diteur` est maintenant requis pour les connexions `SMTP simple`
- **Corrig√©**: En-t√™te `From` manquant dans les Messages e-mail (conformit√© RFC 5322)
- **Corrig√©**: Chiffrement e-mail pour les connexions `STARTTLS`
- **Corrig√©**: Connexions `SMTP simple` √©chouant avec des Erreurs de n√©gociation TLS
- **Corrig√©**: Configuration e-mail non enregistr√©e √©tant effac√©e lors du Changement du mot de passe
- **Corrig√©**: Configuration SMTP obsol√®te dans le point de terminaison d'e-mail de Tester
- **Corrig√©**: Basculement de visibilit√© du Mot de passe dans le formulaire de changement de mot de passe
- **Corrig√©**: Script de point d'entr√©e Docker supprimant les Messages de Journaux
- **Corrig√©**: Date `Prochaine ex√©cution` non recalcul√©e apr√®s la collecte des Journaux de sauvegarde
- **Am√©lior√©**: Exp√©rience utilisateur de Configuration e-mail avec une meilleure validation et r√©troaction

---

## Licence

Ce projet est sous licence [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright ¬© 2025 Waldemar Scudeller Jr.**
