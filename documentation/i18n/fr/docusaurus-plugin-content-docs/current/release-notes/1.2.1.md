---
translation_last_updated: '2026-02-14T04:57:38.268Z'
source_file_mtime: '2026-01-25T02:45:42.747Z'
source_file_hash: 0687484e1f3f39cb
translation_language: fr
source_file_path: release-notes/1.2.1.md
---
# Version 1.2.1 {#version-121}

## Vue d'ensemble {#overview}

La version 1.2.1 est une version mineure qui introduit des am√©liorations significatives √† la gestion des notifications de sauvegarde, am√©liore les capacit√©s de journalisation d'audit, corrige la d√©tection de prochaine ex√©cution/en retard sur les cas limites et ajoute la fonctionnalit√© de sauvegarde et de restauration de la base de donn√©es. Cette version se concentre sur l'am√©lioration de l'exp√©rience utilisateur avec les param√®tres de notification.

## Nouvelles fonctionnalit√©s {#new-features}

### Gestion am√©lior√©e des notifications de sauvegarde {#enhanced-backup-notifications-management}

- **Syst√®me d'h√©ritage et valeurs par d√©faut au niveau du serveur** : Configurez les destinations suppl√©mentaires par d√©faut (√©v√©nements de notification, e-mails et rubriques NTFY) au niveau du serveur que toutes les sauvegardes h√©ritent automatiquement. Les sauvegardes peuvent remplacer ces valeurs par d√©faut si n√©cessaire, avec des indicateurs visuels clairs montrant le statut d'h√©ritage.
- **Hi√©rarchie visuelle am√©lior√©e** : Les sauvegardes sont maintenant regroup√©es par serveur avec des lignes d'en-t√™te de serveur distinctes. Les valeurs h√©rit√©es sont clairement marqu√©es avec des ic√¥nes de lien, et les valeurs remplac√©es peuvent √™tre facilement r√©tablies √† l'h√©ritage.
- **Op√©rations en masse** : Le bouton ¬´ Synchroniser avec tous ¬ª efface tous les remplacements de sauvegarde pour que toutes les sauvegardes h√©ritent des valeurs par d√©faut du serveur. Le bouton ¬´ Effacer tous ¬ª efface toutes les destinations suppl√©mentaires tout en maintenant la structure d'h√©ritage.
- **Fonctionnalit√© de test** : Ajout de boutons de test d'e-mail et de test de notification directement dans la page Param√®tres des notifications de sauvegarde. Les boutons de test sont disponibles pour les param√®tres de sauvegarde individuels et les op√©rations de modification en masse, ce qui vous permet de v√©rifier la livraison des notifications avant d'appliquer les modifications.
- **Support des codes QR** : Ajout d'un bouton de code QR pour les rubriques NTFY afin de partager facilement les rubriques de notification avec les appareils mobiles.

### Am√©liorations des mod√®les de notification {#notification-template-enhancements}

- **Nouvelle variable `{log_text}`** : Ajout de la variable `{log_text}` aux mod√®les de notification, permettant l'acc√®s aux messages de texte de journal pour utilisation dans les messages de notification. La variable contient le texte complet des avertissements et erreurs combin√©s, format√© en texte brut avec un √©l√©ment par ligne.
- **Migration automatique des mod√®les** : Le syst√®me inclut un m√©canisme de mise √† niveau diff√©r√©e qui d√©tecte et met √† jour automatiquement les anciens mod√®les par d√©faut lors de leur premi√®re lecture apr√®s une mise √† niveau. Les mod√®les personnalis√©s sont conserv√©s inchang√©s.

### Gestion des bases de donn√©es {#database-management}

- **Fonctionnalit√© de Sauvegarde de la base de donn√©es** : Les administrateurs peuvent maintenant cr√©er des sauvegardes de l'int√©gralit√© de la base de donn√©es √† partir de la page Param√®tres de Maintenance de la base de donn√©es. Supporte les formats binaire (.db) et texte SQL (.sql) pour plus de flexibilit√©.
- **Fonctionnalit√© de Restauration de la base de donn√©es** : Restaurez la base de donn√©es √† partir de fichiers de sauvegarde pr√©c√©demment cr√©√©s avec cr√©ation automatique de sauvegarde de s√©curit√©, validation de l'int√©grit√© et restauration en cas d'√©chec. Toutes les sessions sont effac√©es apr√®s la restauration pour des raisons de s√©curit√©.

### D√©tection de cl√© ma√Ætre {#master-key-detection}

- **D√©tection automatique du changement de cl√© ma√Ætre** : Apr√®s la connexion, le syst√®me v√©rifie automatiquement si le fichier `.duplistatus.key` a chang√©. Si d√©tect√©, tous les mots de passe chiffr√©s sont supprim√©s et une fen√™tre contextuelle modale informe les utilisateurs que les mots de passe doivent √™tre reconfigur√©s. Cela pr√©vient les erreurs lors de la restauration √† partir de sauvegardes ou de la migration vers un nouveau syst√®me.

### Surveillance des sauvegardes en retard {#overdue-monitoring-improvements}

- **Exportation CSV am√©lior√©e** : Ajout de la colonne ¬´ Horodatage de la derni√®re sauvegarde (BD) ¬ª au fichier CSV g√©n√©r√© par le bouton ¬´ T√©l√©charger CSV ¬ª dans les param√®tres de surveillance des sauvegardes en retard. Cela permet aux utilisateurs de comparer l'horodatage r√©el de la derni√®re sauvegarde de la base de donn√©es avec l'horodatage configur√© ¬´ Derni√®re sauvegarde ¬ª.
- **Infobulle Prochaine ex√©cution** : Le survol de la valeur ¬´ Prochaine ex√©cution ¬ª dans chaque ligne affiche d√©sormais une infobulle montrant l'horodatage de la derni√®re sauvegarde de la base de donn√©es, format√© de la m√™me mani√®re que l'affichage ¬´ Prochaine ex√©cution ¬ª.

### Am√©liorations de la journalisation d'audit {#audit-logging-enhancements}

- **Entr√©es d'audit de notification individuelle** : Chaque notification et e-mail envoy√© g√©n√®re maintenant une entr√©e de journal d'audit distincte avec des d√©tails sur le canal, la configuration et le r√©sultat (succ√®s ou √©chec). Cela inclut les notifications de test, offrant une meilleure tra√ßabilit√© pour la livraison des notifications.
- **Journalisation robuste des √©checs** : Tous les op√©rations de journalisation d'audit pour les √©checs de notification sont maintenant encapsul√©es dans des blocs try-catch pour emp√™cher les erreurs de journalisation d'audit de perturber les flux de notification. Le syst√®me tente de r√©cup√©rer la configuration SMTP si elle n'est pas imm√©diatement disponible lors de la journalisation des √©checs d'e-mail.
- **Journalisation d'audit am√©lior√©e pour les mises √† jour de configuration** : Les entr√©es de journal d'audit `email_config_updated` et `ntfy_config_updated` enregistrent maintenant uniquement quand il y a des modifications r√©elles de la configuration. Quand des modifications sont d√©tect√©es, le journal d'audit inclut les anciennes et nouvelles valeurs pour chaque champ modifi√©, ce qui facilite le suivi des modifications sp√©cifiques.

### Am√©liorations de la documentation {#documentation-improvements}

- Le style de la documentation a √©t√© mis √† jour pour s'aligner avec l'apparence et la convivialit√© de l'application. La barre lat√©rale a √©galement √©t√© r√©vis√©e pour am√©liorer la visibilit√© et faciliter la navigation.

---

## üêõ Corrections de bogues {#bug-fixes}

- **Horodatages du Journal d'Audit corrig√©s** : Les horodatages dans le Visualiseur de journal d'audit s'affichent d√©sormais correctement dans le fuseau horaire du navigateur de l'utilisateur au lieu de GMT. Les horodatages SQLite (stock√©s en UTC) sont d√©sormais correctement analys√©s en tant qu'UTC et convertis au fuseau horaire local du navigateur pour l'affichage.
- **Calcul de ¬´ Prochaine ex√©cution ¬ª corrig√© et d√©tection des sauvegardes en retard** : La colonne ¬´ Prochaine ex√©cution ¬ª dans les param√®tres de Surveillance des sauvegardes en retard calcule et affiche d√©sormais avec pr√©cision la date de sauvegarde attendue suivante, en tenant compte √† la fois de la planification de sauvegarde et de l'horodatage de la derni√®re sauvegarde. Ceci s'applique aux t√¢ches de sauvegarde planifi√©es et ex√©cut√©es manuellement, ce qui permet une d√©tection plus fiable des sauvegardes en retard.

---

## üöÄ Notes de Migration {#migration-notes}

### √Ä partir de la Version 1.1.x {#from-version-11x}

Lors de la mise √† niveau vers la version 1.2.1 :

1. **Mod√®les de notification** : Le syst√®me mettra automatiquement √† jour les mod√®les de notification par d√©faut pour inclure la nouvelle variable `{log_text}` lors de leur premier acc√®s apr√®s la mise √† niveau. Les mod√®les personnalis√©s resteront inchang√©s. Si vous souhaitez utiliser la nouvelle variable `{log_text}` dans vos propres mod√®les, vous devrez les mettre √† jour ou restaurer les mod√®les par d√©faut manuellement.

2. **Modifications de la cl√© ma√Ætre** : Si vous restaurez √† partir d'une sauvegarde ou migrez vers un nouveau syst√®me avec un fichier `.duplistatus.key` diff√©rent, le syst√®me d√©tectera automatiquement cela et vous invitera √† reconfigurer les mots de passe chiffr√©s (mots de passe SMTP et mots de passe du serveur Duplicati).

3. **Sauvegarde de la base de donn√©es/Restauration** : Une nouvelle fonctionnalit√© de sauvegarde et de restauration de la base de donn√©es est disponible dans la page Param√®tres de Maintenance de la base de donn√©es. Il est recommand√© de cr√©er une sauvegarde avant la mise √† niveau, bien qu'aucune modification du sch√©ma de la base de donn√©es ne soit requise pour cette version.

4. **Non migration de base de donn√©es requise** : Cette version ne n√©cessite aucune modification du sch√©ma de base de donn√©es.

---

## Points de terminaison API {#api-endpoints}

Les points de terminaison API suivants ont √©t√© introduits dans cette version.

### Points de terminaison d'authentification et de s√©curit√© {#authentication-security-endpoints}

- `GET /api/auth/admin-must-change-password` - V√©rifier si l'utilisateur administrateur doit changer le mot de passe

### Points de terminaison de gestion de base de donn√©es {#database-management-endpoints}

- `GET /api/database/backup` - Cr√©er une sauvegarde de la base de donn√©es (format binaire ou SQL)
- `POST /api/database/restore` - Restaurer la base de donn√©es √† partir d'un fichier de sauvegarde

### Points de terminaison de gestion des sauvegardes {#backup-management-endpoints}

- `GET /api/backups/last-timestamps` - Obtenir les derniers horodatages de sauvegarde pour toutes les combinaisons serveur-sauvegarde

---

## Support {#support}

### Aide {#getting-help}

- **Documentation** : [Guide utilisateur](../user-guide/overview.md)
- **Param√®tres e-mail** : [Guide de configuration e-mail](../user-guide/settings/email-settings.md)
- **R√©f√©rence API** : [Documentation API](../api-reference/overview.md)
- **Guide de migration** : [Migration de mise √† niveau de version](../migration/version_upgrade.md)
- **Communaut√©** : [Discussions GitHub](https://github.com/wsj-br/duplistatus/discussions)
- **Probl√®mes** : [Probl√®mes GitHub](https://github.com/wsj-br/duplistatus/issues)

### Signaler des bogues {#reporting-bugs}

Lors de la signalement de bogues, veuillez inclure :
- Version : 1.2.1
- Syst√®me d'exploitation et version
- Version de Docker/podman
- Type de conteneur (Docker ou podman/Pod)
- Messages d'erreur et journaux
- √âtapes de reproduction

---

## Journal des modifications {#changelog}

### Modifications de la Version 1.2.1 {#version-121-changes}

- **Ajout√©** : Syst√®me de valeurs par d√©faut et d'h√©ritage au niveau du serveur pour les notifications de sauvegarde
- **Ajout√©** : Fonctionnalit√© de test d'e-mail et de test de notification dans les param√®tres de Notifications de sauvegarde
- **Ajout√©** : Bouton de code QR pour les sujets NTFY
- **Ajout√©** : Colonne ¬´ Horodatage de la derni√®re sauvegarde (BD) ¬ª √† l'export CSV de surveillance des sauvegardes en retard
- **Ajout√©** : Infobulle au texte ¬´ Prochaine ex√©cution ¬ª dans les param√®tres de surveillance des sauvegardes en retard
- **Ajout√©** : Entr√©es de journal d'audit individuelles pour chaque notification et e-mail envoy√©s
- **Ajout√©** : Robustesse am√©lior√©e du journal d'audit pour les √©checs de notification
- **Ajout√©** : Variable `{log_text}` dans les mod√®les de notification avec migration automatique des mod√®les
- **Ajout√©** : D√©tection automatique des modifications de fichier de cl√© ma√Ætre
- **Ajout√©** : Fonctionnalit√© de sauvegarde de la base de donn√©es (formats binaire et SQL)
- **Ajout√©** : Fonctionnalit√© de restauration de la base de donn√©es avec sauvegardes de s√©curit√© et validation d'int√©grit√©
- **Ajout√©** : Point de terminaison API `GET /api/auth/admin-must-change-password` pour v√©rifier l'exigence de modification du mot de passe administrateur
- **Ajout√©** : Point de terminaison API `GET /api/database/backup` pour cr√©er des sauvegardes de la base de donn√©es
- **Ajout√©** : Point de terminaison API `POST /api/database/restore` pour restaurer la base de donn√©es √† partir d'une sauvegarde
- **Ajout√©** : Point de terminaison API `GET /api/backups/last-timestamps` pour r√©cup√©rer les horodatages des derni√®res sauvegardes
- **Modifi√©** : Journal d'audit am√©lior√© pour les mises √† jour de configuration d'e-mail et NTFY (enregistre uniquement les modifications r√©elles)
- **Modifi√©** : Les formulaires de modification de mot de passe ne n√©cessitent plus de confirmation lors de l'affichage des mots de passe non masqu√©s.
- **Modifi√©** : Les mots de passe sont effac√©s de mani√®re s√©curis√©e de la m√©moire lorsque les formulaires de modification de mot de passe sont ferm√©s.
- **Modifi√©** : Ajout d'un bouton d'affichage du mot de passe dans le formulaire Collecter les sauvegardes.
- **Modifi√©** : La variable `{server_alias}` affiche maintenant le nom du serveur entre crochets
- **Modifi√©** : Documentation mise √† jour, style align√© avec l'application et barre lat√©rale refactoris√©e.
- **Corrig√©** : Horodatages du journal d'audit s'affichant en GMT au lieu du fuseau horaire du navigateur
- **Corrig√©** : Journal d'audit des √©checs d'e-mail et NTFY
- **Corrig√©** : Affichage de ¬´ Prochaine ex√©cution ¬ª dans les param√®tres de surveillance des sauvegardes en retard affichant des dates incorrectes

---

## Licence {#licence}

Ce projet est licenci√© sous la [Licence Apache 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright ¬© 2025 Waldemar Scudeller Jr.**
