# Version 1.3.0 {#version-130}

## Overview {#overview}

Version 1.3.0 introduces configurable password policies, a new application logs viewer for administrators, locale-aware weekday display, and several user experience improvements. This release focuses on enhanced administrative tools and improved internationalisation support.

## New Features {#new-features}

### Configurable Password Policy {#configurable-password-policy}

- **Password policy environment variables**: Configure password validation requirements via environment variables:
  - `PWD_ENFORCE`: Set to `false` to disable password complexity requirements (uppercase, lowercase, numbers). Defaults to enforcing all rules. When disabled, only minimum length is enforced.
  - `PWD_MIN_LEN`: Sets minimum password length in characters. Defaults to 8 characters.
  - The default password check (preventing use of default admin password) is always enforced regardless of `PWD_ENFORCE` setting.

### Application Logs Viewer {#application-logs-viewer}

- **New admin-only logs viewer**: View and download application logs directly from the Settings page:
  - Access the consolidated `application.log` file and rotated log versions
  - Configurable line count selector (100, 500, 1000, 5000, 10000 lines)
  - Real-time search filter with case-insensitive text matching
  - Auto-scroll toggle for real-time log monitoring with automatic polling
  - Copy to clipboard and export filtered logs as text file
  - File metadata display showing line count, file size, and last modified timestamp
  - Log rotation on container startup (configurable via `LOG_ROTATION_VERSIONS`, default: 5)

### Context-Aware User Guide {#context-aware-user-guide}

- **Dynamic help button**: The User Guide button in the app header now opens documentation relevant to the current page. The tooltip updates to show "Help for `Page Name`" to indicate which documentation will be opened.

### Server Configuration Enhancement {#server-configuration-enhancement}

- **Quick access to Duplicati UI**: Right-clicking the server configuration button or any server item in the server selection popover opens the Duplicati legacy UI (`/ngax`) in a new tab.

---

## ðŸ”§ Improvements {#improvements}

### Locale-Aware Weekday Display {#locale-aware-weekday-display}

- **Internationalised weekday ordering**: Weekday display in the backup monitoring form now respects your browser's locale settings. Weekdays are displayed in the correct order based on locale (Monday-Sunday for UK/Europe, Sunday-Saturday for US/Brazil).

### Enhanced SMTP Error Handling {#enhanced-smtp-error-handling}

- **Improved error messages**: SMTP error messages now provide more accurate guidance:
  - Authentication errors clearly indicate username/password issues
  - SSL/TLS version errors are correctly identified
  - Connection type suggestions only appear when genuinely relevant

### Toast Notification Behaviour {#toast-notification-behaviour}

- **Persistent error notifications**: Error toasts now persist until manually closed, ensuring you don't miss important error messages. Success and informational toasts auto-dismiss after 3 seconds.

### Notification Settings Table {#notification-settings-table}

- **Simplified layout**: The notification settings table has been streamlined with a combined "Server / Backup" column and contextual icons indicating additional destination configuration status.

---

## ðŸš€ Migration Notes {#migration-notes}

### From Version 1.2.x {#from-version-12x}

When upgrading to version 1.3.0:

1. **Password Policy**: The new password policy defaults to enforcing all complexity requirements. If you need a simpler password policy, configure the `PWD_ENFORCE` and `PWD_MIN_LEN` environment variables.

2. **Application Logs**: All container output (server and cron service) is now consolidated into a single `data/logs/application.log` file. 

3. **Log Rotation**: Log rotation is configurable via the `LOG_ROTATION_VERSIONS` environment variable (default: 5 versions).

4. **No Database Migration Required**: This release does not require any database schema changes.

---

## API Endpoints {#api-endpoints}

The following API endpoint has been introduced in this version:

### Password Policy Endpoint {#password-policy-endpoint}

- `GET /api/auth/password-policy` - Returns current password policy configuration

### Application Logs Endpoints {#application-logs-endpoints}

- `GET /api/application-logs` - View logs with file selection and tail functionality
- `GET /api/application-logs/export` - Export filtered logs as text file

### Removed Endpoints {#removed-endpoints}

The following unused API endpoints have been removed in this version:

- `DELETE /api/backups/[backupId]` - Development-only endpoint that was never used
- `GET /api/audit-log/stats` - Endpoint was not called by the audit log viewer

---

## Support {#support}

### Getting Help {#getting-help}

- **Documentation**: [User Guide](../user-guide/overview.md)
- **Email Settings**: [Email Configuration Guide](../user-guide/settings/email-settings.md)
- **API Reference**: [API Documentation](../api-reference/overview.md)
- **Migration Guide**: [Version Upgrade Migration](../migration/version_upgrade.md)
- **Community**: [GitHub Discussions](https://github.com/wsj-br/duplistatus/discussions)
- **Issues**: [GitHub Issues](https://github.com/wsj-br/duplistatus/issues)

### Reporting Bugs {#reporting-bugs}

When reporting bugs, please include:
- Version: 1.3.0
- Operating system and version
- Docker/podman version
- Container type (Docker or podman/Pod)
- Error messages and logs
- Steps to reproduce

---

## Changelog {#changelog}

### Version 1.3.0 Changes {#version-130-changes}

- **Added**: Configurable password policy via `PWD_ENFORCE` and `PWD_MIN_LEN` environment variables
- **Added**: Application logs viewer in Settings (admin-only)
- **Added**: Log rotation with configurable version count (`LOG_ROTATION_VERSIONS`)
- **Added**: Context-aware User Guide button that opens relevant documentation
- **Added**: Right-click on server configuration to open Duplicati legacy UI
- **Added**: API endpoint `GET /api/auth/password-policy` for password policy configuration
- **Added**: API endpoints for application logs viewing and export
- **Changed**: Weekday display now respects browser locale settings
- **Changed**: Error toasts persist until manually closed
- **Changed**: Success toasts auto-dismiss after 3 seconds (previously 5 seconds)
- **Changed**: Notification settings table simplified with combined "Server / Backup" column
- **Changed**: Consolidated all container logs into single `application.log` file
- **Improved**: SMTP error messages provide more accurate guidance
- **Removed**: Unused API endpoints (`DELETE /api/backups/[backupId]` and `GET /api/audit-log/stats`) that were not being called by the application

---

## License {#license}

This project is licensed under the [Apache License 2.0](https://github.com/wsj-br/duplistatus/blob/main/LICENSE).

**Copyright Â© 2026 Waldemar Scudeller Jr.**
