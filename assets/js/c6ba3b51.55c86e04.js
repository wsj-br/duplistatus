"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[938],{3370:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var t=s(3303);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},6477:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"development/devel","title":"Most used commands","description":"Run in dev mode","source":"@site/docs/development/devel.md","sourceDirName":"development","slug":"/development/devel","permalink":"/duplistatus/development/devel","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Development Setup","permalink":"/duplistatus/development/setup"},"next":{"title":"Database Schema","permalink":"/duplistatus/development/database"}}');var r=s(7711),o=s(3370);const a={},i="Most used commands",l={},d=[{value:"Run in dev mode",id:"run-in-dev-mode",level:2},{value:"Start the production server (in development environment)",id:"start-the-production-server-in-development-environment",level:2},{value:"Start a Docker stack (Docker Compose)",id:"start-a-docker-stack-docker-compose",level:2},{value:"Stop a Docker stack (Docker Compose)",id:"stop-a-docker-stack-docker-compose",level:2},{value:"Clean Docker environment",id:"clean-docker-environment",level:2},{value:"Create a development image (to test locally or with Podman)",id:"create-a-development-image-to-test-locally-or-with-podman",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"most-used-commands",children:"Most used commands"})}),"\n",(0,r.jsx)(n.h2,{id:"run-in-dev-mode",children:"Run in dev mode"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm dev\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"JSON File Storage"}),": All received backup data is stored as JSON files in the ",(0,r.jsx)(n.code,{children:"data"})," directory. These files are named using the timestamp of when they were received, in the format ",(0,r.jsx)(n.code,{children:"YYYY-MM-DDTHH-mm-ss-sssZ.json"})," (UTC time). This feature is only active in development mode and helps with debugging by preserving the raw data received from Duplicati."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Verbose Logging"}),": The application logs more detailed information about database operations and API requests when running in development mode."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Version Update"}),": The development server automatically updates the version information before starting, ensuring the latest version is displayed in the application."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Backup Deletion"}),": On the server detail page, a delete button appears in the backups table that allows you to delete individual backups. This feature is especially useful for testing and debugging the overdue backups functionality."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"start-the-production-server-in-development-environment",children:"Start the production server (in development environment)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm start-local\n"})}),"\n",(0,r.jsx)(n.h2,{id:"start-a-docker-stack-docker-compose",children:"Start a Docker stack (Docker Compose)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm docker-up\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker compose up --build -d\n"})}),"\n",(0,r.jsx)(n.h2,{id:"stop-a-docker-stack-docker-compose",children:"Stop a Docker stack (Docker Compose)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm docker-down\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker compose down\n"})}),"\n",(0,r.jsx)(n.h2,{id:"clean-docker-environment",children:"Clean Docker environment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm docker-clean\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./scripts/clean-docker.sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"This script performs a complete Docker cleanup, which is useful for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Freeing up disk space"}),"\n",(0,r.jsx)(n.li,{children:"Removing old/unused Docker artefacts"}),"\n",(0,r.jsx)(n.li,{children:"Cleaning up after development or testing sessions"}),"\n",(0,r.jsx)(n.li,{children:"Maintaining a clean Docker environment"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"create-a-development-image-to-test-locally-or-with-podman",children:"Create a development image (to test locally or with Podman)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"export $(grep -v '^#' .env | xargs) && docker build . -t wsj-br/duplistatus:devel-$VERSION\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);