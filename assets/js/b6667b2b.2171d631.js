"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7796],{92727(e,t,s){s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"user-guide/collect-backup-logs","title":"Collect Backup Logs","description":"collect-backup-logs}","source":"@site/docs/user-guide/collect-backup-logs.md","sourceDirName":"user-guide","slug":"/user-guide/collect-backup-logs","permalink":"/duplistatus/user-guide/collect-backup-logs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Backup Metrics","permalink":"/duplistatus/user-guide/backup-metrics"},"next":{"title":"Backup Monitoring","permalink":"/duplistatus/user-guide/backup-monitoring"}}');var o=s(36259),l=s(73230);const i={},r="Collect Backup Logs {#collect-backup-logs}",c={},a=[{value:"Steps to Collect Backup Logs",id:"steps-to-collect-backup-logs",level:2},{value:"Manual Collection",id:"manual-collection",level:3},{value:"Bulk Collection",id:"bulk-collection",level:3},{value:"How the Collection Process Works",id:"how-the-collection-process-works",level:2},{value:"Troubleshooting Collection Issues",id:"troubleshooting-collection-issues",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{IconButton:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("IconButton",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"collect-backup-logs",children:"Collect Backup Logs"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"duplistatus"})," can retrieve backup logs directly from Duplicati servers to populate the database or restore missing log data. The application automatically skips any duplicate logs that already exist in the database."]}),"\n",(0,o.jsx)(t.h2,{id:"steps-to-collect-backup-logs",children:"Steps to Collect Backup Logs"}),"\n",(0,o.jsx)(t.h3,{id:"manual-collection",children:"Manual Collection"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["Click the ",(0,o.jsx)(n,{icon:"lucide:download"})," ",(0,o.jsx)(t.strong,{children:"Collect Backup Logs"})," icon on the ",(0,o.jsx)(t.a,{href:"overview#application-toolbar",children:"Application Toolbar"}),"."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Collect Backup Logs Popup",src:s(80701).A+"",width:"420",height:"560"})}),"\n",(0,o.jsxs)(t.ol,{start:"2",children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Select Server"}),"\n",(0,o.jsxs)(t.p,{children:["If you have server addresses configured in ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/settings/server-settings",children:"Settings \u2192 Server Settings"}),", select one from the dropdown list for instant collection. If you don't have any servers configured, you can enter the Duplicati server details manually."]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"Enter the Duplicati server details:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Hostname"}),": The hostname or IP address of the Duplicati server. You can enter multiple hostnames separated by commas, for example ",(0,o.jsx)(t.code,{children:"192.168.1.23,someserver.local,192.168.1.89"})]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Port"}),": The port number used by the Duplicati server (default: ",(0,o.jsx)(t.code,{children:"8200"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Password"}),": Enter the authentication password if required."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Download collected JSON data"}),": Enable this option to download the data collected by duplistatus."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:["Click ",(0,o.jsx)(t.strong,{children:"Collect Backups"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.em,{children:(0,o.jsx)(t.strong,{children:"Notes:"})})}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"If you enter multiple hostnames, the collection will be performed using the same port and password for all servers."}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"duplistatus"})," will automatically detect the best connection protocol (HTTPS or HTTP). It tries HTTPS first (with proper SSL validation), then HTTPS with self-signed certificates, and finally HTTP as a fallback."]}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:[(0,o.jsx)(n,{icon:"lucide:download"})," buttons are available in ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/settings/backup-monitoring-settings",children:"Settings \u2192 Backup Monitoring"})," and ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/settings/server-settings",children:"Settings \u2192 Server Settings"})," for single-server collection."]})}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h3,{id:"bulk-collection",children:"Bulk Collection"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.em,{children:"Right-click"})," the ",(0,o.jsx)(n,{icon:"lucide:download"})," ",(0,o.jsx)(t.strong,{children:"Collect Backup Logs"})," button in the application toolbar to collect from all configured servers."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Collect All Right-Click Menu",src:s(99203).A+"",width:"468",height:"218"})}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["You can also use the ",(0,o.jsx)(n,{icon:"lucide:import",label:"Collect All"})," button in the ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/settings/backup-monitoring-settings",children:"Settings \u2192 Backup Monitoring"})," and ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/settings/server-settings",children:"Settings \u2192 Server Settings"})," pages to collect from all configured servers."]})}),"\n",(0,o.jsx)(t.h2,{id:"how-the-collection-process-works",children:"How the Collection Process Works"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"duplistatus"})," automatically detects the best connection protocol and connects to the specified Duplicati server."]}),"\n",(0,o.jsx)(t.li,{children:"It retrieves backup history, log information, and backup settings (for backup monitoring)."}),"\n",(0,o.jsxs)(t.li,{children:["Any logs already present in the ",(0,o.jsx)(t.strong,{children:"duplistatus"})," database are skipped."]}),"\n",(0,o.jsx)(t.li,{children:"New data is processed and stored in the local database."}),"\n",(0,o.jsx)(t.li,{children:"The URL used (with the detected protocol) will be stored or updated in the local database."}),"\n",(0,o.jsxs)(t.li,{children:["If the download option is selected, it will download the JSON data collected. The file name will be in this format: ",(0,o.jsx)(t.code,{children:"[serverName]_collected_[Timestamp].json"}),". The timestamp uses the ISO 8601 date format (YYYY-MM-DDTHH:MM",":SS",")."]}),"\n",(0,o.jsx)(t.li,{children:"The dashboard updates to reflect the new information."}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"troubleshooting-collection-issues",children:"Troubleshooting Collection Issues"}),"\n",(0,o.jsxs)(t.p,{children:["Backup log collection requires the Duplicati server to be accessible from the ",(0,o.jsx)(t.strong,{children:"duplistatus"})," installation. If you encounter issues, please verify the following:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Confirm that the hostname (or IP address) and port number are correct. You can test this by accessing the Duplicati server UI in your browser (e.g., ",(0,o.jsx)(t.code,{children:"http://hostname:port"}),")."]}),"\n",(0,o.jsxs)(t.li,{children:["Check that ",(0,o.jsx)(t.strong,{children:"duplistatus"})," can connect to the Duplicati server. A common problem is DNS name resolution (the system cannot find the server by its hostname). See more in ",(0,o.jsx)(t.a,{href:"/duplistatus/user-guide/troubleshooting#collect-backup-logs-not-working",children:"troubleshooting section"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"Ensure the password you provided is correct."}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},80701(e,t,s){s.d(t,{A:()=>n});const n=s.p+"assets/images/screen-collect-button-popup-dc8f2c96888d5c62484a609d36021341.png"},99203(e,t,s){s.d(t,{A:()=>n});const n=s.p+"assets/images/screen-collect-button-right-click-popup-788573591dd5b5ff2d2ae717df50edbd.png"},73230(e,t,s){s.d(t,{R:()=>i,x:()=>r});var n=s(71299);const o={},l=n.createContext(o);function i(e){const t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);