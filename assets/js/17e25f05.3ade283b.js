"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2758],{99718(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"development/documentation-tools","title":"Documentation Tools","description":"documentation-tools}","source":"@site/docs/development/documentation-tools.md","sourceDirName":"development","slug":"/development/documentation-tools","permalink":"/duplistatus/development/documentation-tools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Database Schema","permalink":"/duplistatus/development/database"},"next":{"title":"Translation Maintenance Workflow","permalink":"/duplistatus/development/translation-workflow"}}');var i=s(36259),o=s(73230);const r={},l="Documentation Tools {#documentation-tools}",d={},c=[{value:"Folder Structure",id:"folder-structure",level:2},{value:"Internationalization (i18n)",id:"internationalization-i18n",level:3},{value:"Supported Locales",id:"supported-locales",level:3},{value:"Translate the Documentation",id:"translate-the-documentation",level:2},{value:"How Translation Works",id:"how-translation-works",level:3},{value:"Running Translation",id:"running-translation",level:3},{value:"Manual Translation Overrides",id:"manual-translation-overrides",level:3},{value:"Common Commands",id:"common-commands",level:2},{value:"Development",id:"development",level:3},{value:"Build",id:"build",level:3},{value:"Serve Production Build",id:"serve-production-build",level:3},{value:"Other Useful Commands",id:"other-useful-commands",level:3},{value:"Generating README.md",id:"generating-readmemd",level:2},{value:"Update README for Docker Hub",id:"update-readme-for-docker-hub",level:2},{value:"Generate GitHub Release Notes",id:"generate-github-release-notes",level:2},{value:"Take screenshots for documentation",id:"take-screenshots-for-documentation",level:2},{value:"Deploying the Documentation",id:"deploying-the-documentation",level:2},{value:"Working with Documentation",id:"working-with-documentation",level:2},{value:"Source Files",id:"source-files",level:3},{value:"Adding New Components",id:"adding-new-components",level:3},{value:"Adding New Documentation Pages",id:"adding-new-documentation-pages",level:3},{value:"Static Assets",id:"static-assets",level:3},{value:"Build &amp; Test",id:"build-test",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"documentation-tools",children:"Documentation Tools"})}),"\n",(0,i.jsxs)(n.p,{children:["The documentation is built using ",(0,i.jsx)(n.a,{href:"https://docusaurus.io/",children:"Docusaurus"})," and is located in the ",(0,i.jsx)(n.code,{children:"documentation"})," folder. The documentation is hosted on ",(0,i.jsx)(n.a,{href:"https://wsj-br.github.io/duplistatus/",children:"GitHub Pages"})," and is no longer included in the Docker container image."]}),"\n",(0,i.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"documentation/\n\u251c\u2500\u2500 docs/              # Documentation markdown files (English source)\n\u2502   \u251c\u2500\u2500 api-reference/\n\u2502   \u251c\u2500\u2500 development/\n\u2502   \u251c\u2500\u2500 installation/\n\u2502   \u251c\u2500\u2500 migration/\n\u2502   \u251c\u2500\u2500 release-notes/\n\u2502   \u2514\u2500\u2500 user-guide/\n\u251c\u2500\u2500 i18n/              # Translations (auto-generated by translation workflow)\n\u2502   \u251c\u2500\u2500 de/            # German\n\u2502   \u251c\u2500\u2500 es/            # Spanish\n\u2502   \u251c\u2500\u2500 fr/            # French\n\u2502   \u2514\u2500\u2500 pt-BR/         # Brazilian Portuguese\n\u251c\u2500\u2500 src/               # React components and pages\n\u2502   \u251c\u2500\u2500 components/    # Custom React components\n\u2502   \u251c\u2500\u2500 css/           # Custom styles\n\u2502   \u2514\u2500\u2500 pages/         # Additional pages (e.g., 404)\n\u251c\u2500\u2500 static/            # Static assets (images, files)\n\u251c\u2500\u2500 docusaurus.config.ts  # Docusaurus configuration\n\u251c\u2500\u2500 sidebars.ts        # Sidebar navigation configuration\n\u251c\u2500\u2500 package.json       # Dependencies and scripts\n\u2514\u2500\u2500 .intlayer/         # Intlayer generated UI translation files (auto-generated)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"internationalization-i18n",children:"Internationalization (i18n)"}),"\n",(0,i.jsxs)(n.p,{children:["The documentation uses Docusaurus's built-in i18n system with English as the default locale. Translated content lives in ",(0,i.jsx)(n.code,{children:"i18n/{locale}/docusaurus-plugin-content-docs/current/"}),", mirroring the structure of the ",(0,i.jsx)(n.code,{children:"docs/"})," folder."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Source files"}),": ",(0,i.jsx)(n.code,{children:"docs/**/*.md"})," (English)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Translated files"}),": ",(0,i.jsx)(n.code,{children:"i18n/{locale}/docusaurus-plugin-content-docs/current/**/*.md"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UI translations"}),": ",(0,i.jsx)(n.code,{children:"i18n/{locale}/docusaurus-theme-classic/*.json"})," and other JSON files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Localised Screenshots"}),": ",(0,i.jsx)(n.code,{children:"i18n/{locale}/docusaurus-plugin-content-docs/current/**/assets"}),", generated by ",(0,i.jsx)(n.code,{children:"pnpm take-screenhots"})," in the basedir."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"pnpm write-translations"})," command extracts UI strings (from Docusaurus theme and custom components) into JSON translation files. The ",(0,i.jsx)(n.code,{children:"pnpm translate"})," script uses AI to translate both the markdown documentation and UI JSON files."]}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsxs)(n.p,{children:["Only edit files in ",(0,i.jsx)(n.code,{children:"docs/"})," and the source JSON files in ",(0,i.jsx)(n.code,{children:"i18n/en/"}),". The translated markdown files in ",(0,i.jsx)(n.code,{children:"i18n/{other-locales}/"})," are auto-generated and should not be edited manually."]})}),"\n",(0,i.jsx)(n.h3,{id:"supported-locales",children:"Supported Locales"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Locale"}),(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"Directory"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"en"})}),(0,i.jsx)(n.td,{children:"English (default)"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"docs/"})," (source)"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"de"})}),(0,i.jsx)(n.td,{children:"German"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i18n/de/docusaurus-plugin-content-docs/current/"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"es"})}),(0,i.jsx)(n.td,{children:"Spanish"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i18n/es/docusaurus-plugin-content-docs/current/"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"fr"})}),(0,i.jsx)(n.td,{children:"French"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i18n/fr/docusaurus-plugin-content-docs/current/"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pt-BR"})}),(0,i.jsx)(n.td,{children:"Brazilian Portuguese"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"i18n/pt-BR/docusaurus-plugin-content-docs/current/"})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"translate-the-documentation",children:"Translate the Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["The documentation uses an AI-powered translation system to translate both content (markdown files) and UI strings (from Docusaurus and custom components). The source content is in English (",(0,i.jsx)(n.code,{children:"docs/"}),"), and translations are generated for German, French, Spanish, and Brazilian Portuguese."]}),"\n",(0,i.jsx)(n.h3,{id:"how-translation-works",children:"How Translation Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"UI strings extraction"}),": ",(0,i.jsx)(n.code,{children:"pnpm write-translations"})," extracts translatable strings from Docusaurus UI and custom components into JSON files in ",(0,i.jsx)(n.code,{children:"i18n/en/"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Content translation"}),": ",(0,i.jsx)(n.code,{children:"pnpm translate"})," uses OpenRouter AI to translate:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Markdown files from ",(0,i.jsx)(n.code,{children:"docs/"})," \u2192 ",(0,i.jsx)(n.code,{children:"i18n/{locale}/docusaurus-plugin-content-docs/current/"})]}),"\n",(0,i.jsxs)(n.li,{children:["JSON UI strings from ",(0,i.jsx)(n.code,{children:"i18n/en/"})," \u2192 ",(0,i.jsx)(n.code,{children:"i18n/{locale}/"})]}),"\n",(0,i.jsxs)(n.li,{children:["SVG files from ",(0,i.jsx)(n.code,{children:"static/img/duplistatus*.svg"})," (translates text inside SVGs and exports to PNG via Inkscape)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build"}),": ",(0,i.jsx)(n.code,{children:"pnpm build"})," generates static HTML for all locales in ",(0,i.jsx)(n.code,{children:"build/"})," (one subdirectory per locale)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"running-translation",children:"Running Translation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd documentation\npnpm translate                       # Translate everything to all locales\npnpm translate --force               # force the translation of all files\npnpm translate --locale fr           # Translate only to French\npnpm translate --no-svg              # Skip SVG translation\npnpm translate --path docs/intro.md  # Translate specific file\npnpm translate:status                # Show the status of translation of all files\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For detailed options, cache management, troubleshooting, and the glossary system, see ",(0,i.jsx)(n.a,{href:"/duplistatus/development/translation-workflow",children:"Translation Workflow"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"manual-translation-overrides",children:"Manual Translation Overrides"}),"\n",(0,i.jsx)(n.p,{children:"If you need to manually adjust a translation:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["add the terms to ",(0,i.jsx)(n.code,{children:"glossary-user.csv"})]}),"\n",(0,i.jsxs)(n.li,{children:["delete the cache entries for these terms using the ",(0,i.jsx)(n.a,{href:"/duplistatus/development/translation-workflow#manual-review-of-the-cache",children:"the web-based cache editing tool"})]}),"\n",(0,i.jsxs)(n.li,{children:["rerun the translation with ",(0,i.jsx)(n.code,{children:"pnpm translate --force"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"common-commands",children:"Common Commands"}),"\n",(0,i.jsxs)(n.p,{children:["All commands should be run from the ",(0,i.jsx)(n.code,{children:"documentation"})," directory:"]}),"\n",(0,i.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,i.jsx)(n.p,{children:"Start the development server with hot-reload for a specific locale:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd documentation\npnpm start:en    # English (default)\npnpm start:fr    # French\npnpm start:de    # German\npnpm start:es    # Spanish\npnpm start:pt-br # Brazilian Portuguese\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The site will be available at ",(0,i.jsx)(n.code,{children:"http://localhost:3000"})," (or the next available port)."]}),"\n",(0,i.jsx)(n.h3,{id:"build",children:"Build"}),"\n",(0,i.jsx)(n.p,{children:"Build the documentation site for production:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd documentation\npnpm build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This generates static HTML files in the ",(0,i.jsx)(n.code,{children:"documentation/build"})," directory."]}),"\n",(0,i.jsx)(n.h3,{id:"serve-production-build",children:"Serve Production Build"}),"\n",(0,i.jsx)(n.p,{children:"Preview the production build locally:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd documentation\npnpm serve\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This serves the built site from the ",(0,i.jsx)(n.code,{children:"documentation/build"})," directory."]}),"\n",(0,i.jsx)(n.h3,{id:"other-useful-commands",children:"Other Useful Commands"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm clear"})," - Clear Docusaurus cache"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm typecheck"})," - Run TypeScript type checking"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm write-heading-ids"})," - Generate heading IDs in Docusaurus internal format (does not modify markdown files)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm heading-ids"})," - Add explicit anchor IDs ",(0,i.jsx)(n.code,{children:"{#id}"})," to all markdown headings (modifies files; ensures consistent IDs across translations)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"generating-readmemd",children:"Generating README.md"}),"\n",(0,i.jsxs)(n.p,{children:["The project's ",(0,i.jsx)(n.code,{children:"README.md"})," file is automatically generated from ",(0,i.jsx)(n.code,{children:"documentation/docs/intro.md"})," to keep the GitHub repository README synchronised with the Docusaurus documentation."]}),"\n",(0,i.jsx)(n.p,{children:"To generate or update the README.md file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./scripts/generate-readme-from-intro.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"This script:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Extracts the current version from ",(0,i.jsx)(n.code,{children:"package.json"})," and adds a version badge"]}),"\n",(0,i.jsxs)(n.li,{children:["Copies content from ",(0,i.jsx)(n.code,{children:"documentation/docs/intro.md"})]}),"\n",(0,i.jsx)(n.li,{children:"Converts Docusaurus admonitions (note, tip, warning, etc.) to GitHub-style alerts"}),"\n",(0,i.jsxs)(n.li,{children:["Converts all relative Docusaurus links to absolute GitHub docs URLs (",(0,i.jsx)(n.code,{children:"https://wsj-br.github.io/duplistatus/..."}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Converts image paths from ",(0,i.jsx)(n.code,{children:"/img/"})," to ",(0,i.jsx)(n.code,{children:"documentation/static/img/"})," for GitHub compatibility"]}),"\n",(0,i.jsx)(n.li,{children:"Removes the migration IMPORTANT block and adds a Migration Information section with a link to the Docusaurus docs"}),"\n",(0,i.jsxs)(n.li,{children:["Generates a table of contents using ",(0,i.jsx)(n.code,{children:"doctoc"})]}),"\n",(0,i.jsxs)(n.li,{children:["Generates ",(0,i.jsx)(n.code,{children:"README_dockerhub.md"})," with Docker Hub-compatible formatting (converts images and links to absolute URLs, converts GitHub alerts to emoji-based format)"]}),"\n",(0,i.jsxs)(n.li,{children:["Generates GitHub release notes (",(0,i.jsx)(n.code,{children:"RELEASE_NOTES_github_VERSION.md"}),") from ",(0,i.jsx)(n.code,{children:"documentation/docs/release-notes/VERSION.md"})," (converts links and images to absolute URLs)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"update-readme-for-docker-hub",children:"Update README for Docker Hub"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"generate-readme-from-intro.sh"})," script automatically generates ",(0,i.jsx)(n.code,{children:"README_dockerhub.md"})," with Docker Hub-compatible formatting. It:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Copies ",(0,i.jsx)(n.code,{children:"README.md"})," to ",(0,i.jsx)(n.code,{children:"README_dockerhub.md"})]}),"\n",(0,i.jsx)(n.li,{children:"Converts relative image paths to absolute GitHub raw URLs"}),"\n",(0,i.jsx)(n.li,{children:"Converts relative document links to absolute GitHub blob URLs"}),"\n",(0,i.jsxs)(n.li,{children:["Converts GitHub-style alerts (",(0,i.jsx)(n.code,{children:"[!NOTE]"}),", ",(0,i.jsx)(n.code,{children:"[!WARNING]"}),", etc.) to emoji-based format for better Docker Hub compatibility"]}),"\n",(0,i.jsx)(n.li,{children:"Ensures all images and links work correctly on Docker Hub"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"generate-github-release-notes",children:"Generate GitHub Release Notes"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"generate-readme-from-intro.sh"})," script automatically generates GitHub release notes when run. It:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Reads the release notes from ",(0,i.jsx)(n.code,{children:"documentation/docs/release-notes/VERSION.md"})," (where VERSION is extracted from ",(0,i.jsx)(n.code,{children:"package.json"}),")"]}),"\n",(0,i.jsx)(n.li,{children:'Changes the title from "# Version xxxx" to "# Release Notes - Version xxxxx"'}),"\n",(0,i.jsxs)(n.li,{children:["Converts relative markdown links to absolute GitHub docs URLs (",(0,i.jsx)(n.code,{children:"https://wsj-br.github.io/duplistatus/..."}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Converts image paths to GitHub raw URLs (",(0,i.jsx)(n.code,{children:"https://raw.githubusercontent.com/wsj-br/duplistatus/main/documentation/static/img/..."}),") for proper display in release descriptions"]}),"\n",(0,i.jsxs)(n.li,{children:["Handles relative paths with ",(0,i.jsx)(n.code,{children:"../"})," prefix"]}),"\n",(0,i.jsx)(n.li,{children:"Preserves absolute URLs (http:// and https://) unchanged"}),"\n",(0,i.jsxs)(n.li,{children:["Creates ",(0,i.jsx)(n.code,{children:"RELEASE_NOTES_github_VERSION.md"})," in the project root"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# This will generate both README.md and RELEASE_NOTES_github_VERSION.md\n./scripts/generate-readme-from-intro.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"The generated release notes file can be copied and pasted directly into the GitHub release description. All links and images will work correctly in the GitHub release context."}),"\n",(0,i.jsx)(n.h2,{id:"take-screenshots-for-documentation",children:"Take screenshots for documentation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm take-screenshots\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Or run directly: ",(0,i.jsx)(n.code,{children:"pnpm take-screenshots"})," (use ",(0,i.jsx)(n.code,{children:"--env-file=.env"})," if needed for environment variables)."]}),"\n",(0,i.jsx)(n.p,{children:"This script automatically takes screenshots of the application for documentation purposes. It:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Launches a headless browser (Puppeteer)"}),"\n",(0,i.jsx)(n.li,{children:"Logs in as admin and regular user"}),"\n",(0,i.jsx)(n.li,{children:"Navigates through various pages (dashboard, server details, settings, etc.)"}),"\n",(0,i.jsx)(n.li,{children:"Takes screenshots at different viewport sizes"}),"\n",(0,i.jsxs)(n.li,{children:["Saves screenshots to ",(0,i.jsx)(n.code,{children:"documentation/static/assets/"})," (English) or ",(0,i.jsx)(n.code,{children:"documentation/i18n/{locale}/docusaurus-plugin-content-docs/current/assets"})," (other locales)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The development server must be running on ",(0,i.jsx)(n.code,{children:"http://localhost:8666"})]}),"\n",(0,i.jsxs)(n.li,{children:["Environment variables must be set, add these to your ",(0,i.jsx)(n.code,{children:".env"})," file or export them:","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ADMIN_PASSWORD"}),": Password for admin account"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"USER_PASSWORD"}),": Password for regular user account"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Options:"})," ",(0,i.jsx)(n.code,{children:"--locale"})," limits screenshots to one or more locales (comma-separated). If omitted, all locales are captured. Valid locales: ",(0,i.jsx)(n.code,{children:"en"}),", ",(0,i.jsx)(n.code,{children:"de"}),", ",(0,i.jsx)(n.code,{children:"fr"}),", ",(0,i.jsx)(n.code,{children:"es"}),", ",(0,i.jsx)(n.code,{children:"pt-BR"}),". Use ",(0,i.jsx)(n.code,{children:"-h"})," or ",(0,i.jsx)(n.code,{children:"--help"})," to print usage."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'export ADMIN_PASSWORD="your-admin-password"\nexport USER_PASSWORD="your-user-password"\npnpm take-screenshots\n# All locales (default):\npnpm take-screenshots\n# Single locale:\npnpm take-screenshots --locale en\n# Multiple locales:\npnpm take-screenshots --locale en,de,pt-BR\n'})}),"\n",(0,i.jsx)(n.h2,{id:"deploying-the-documentation",children:"Deploying the Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["To deploy the documentation to GitHub Pages, you will need to generate a GitHub Personal Access Token. Go to ",(0,i.jsx)(n.a,{href:"https://github.com/settings/tokens",children:"GitHub Personal Access Tokens"})," and create a new token with the ",(0,i.jsx)(n.code,{children:"repo"})," scope."]}),"\n",(0,i.jsxs)(n.p,{children:["When you have the token, store it in the Git credential store (e.g. using ",(0,i.jsx)(n.code,{children:"git config credential.helper store"})," or your system's credential manager)."]}),"\n",(0,i.jsxs)(n.p,{children:["Then, to deploy the documentation to GitHub Pages, run the following command from the ",(0,i.jsx)(n.code,{children:"documentation"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm run deploy\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will build the documentation and push it to the ",(0,i.jsx)(n.code,{children:"gh-pages"})," branch of the repository, and the documentation will be available at ",(0,i.jsx)(n.a,{href:"https://wsj-br.github.io/duplistatus/",children:"https://wsj-br.github.io/duplistatus/"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"working-with-documentation",children:"Working with Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["For the complete translation workflow (glossary management, AI translation, cache management), see ",(0,i.jsx)(n.a,{href:"/duplistatus/development/translation-workflow",children:"Translation Workflow"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"source-files",children:"Source Files"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Documentation content"}),": English markdown files in ",(0,i.jsx)(n.code,{children:"documentation/docs/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UI translations"}),": English JSON files in ",(0,i.jsx)(n.code,{children:"documentation/i18n/en/"})," (auto-generated by ",(0,i.jsx)(n.code,{children:"pnpm write-translations"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sidebar navigation"}),": ",(0,i.jsx)(n.code,{children:"documentation/sidebars.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Docusaurus configuration"}),": ",(0,i.jsx)(n.code,{children:"documentation/docusaurus.config.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Custom React components"}),": ",(0,i.jsx)(n.code,{children:"documentation/src/components/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Static assets"}),": ",(0,i.jsx)(n.code,{children:"documentation/static/"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Main homepage"}),": ",(0,i.jsx)(n.code,{children:"documentation/docs/intro.md"})," (source for generating ",(0,i.jsx)(n.code,{children:"README.md"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"adding-new-components",children:"Adding New Components"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create your React component in ",(0,i.jsx)(n.code,{children:"documentation/src/components/"})]}),"\n",(0,i.jsxs)(n.li,{children:["Export it from ",(0,i.jsx)(n.code,{children:"documentation/src/theme/MDXComponents.js"})," to make it available in MDX"]}),"\n",(0,i.jsxs)(n.li,{children:["If the component includes translatable UI strings, run ",(0,i.jsx)(n.code,{children:"pnpm write-translations"})," to extract them"]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"pnpm translate"})," to translate the new strings to all locales"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"adding-new-documentation-pages",children:"Adding New Documentation Pages"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a new ",(0,i.jsx)(n.code,{children:".md"})," file in ",(0,i.jsx)(n.code,{children:"documentation/docs/"})," (or a subdirectory)"]}),"\n",(0,i.jsxs)(n.li,{children:["Add it to the sidebar in ",(0,i.jsx)(n.code,{children:"documentation/sidebars.ts"})]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"pnpm write-translations"})," to update the translation files structure"]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"pnpm heading-ids"})," to generate heading IDs (anchors)"]}),"\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"pnpm translate"})," to translate the new page to all locales"]}),"\n",(0,i.jsxs)(n.li,{children:["Build and test: ",(0,i.jsx)(n.code,{children:"pnpm build"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"static-assets",children:"Static Assets"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Images"}),": Place in ",(0,i.jsx)(n.code,{children:"documentation/static/img/"})," and reference with ",(0,i.jsx)(n.code,{children:"/img/filename.png"})," in markdown"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Downloads/PDFs"}),": Place in ",(0,i.jsx)(n.code,{children:"documentation/static/"})," and reference with ",(0,i.jsx)(n.code,{children:"/filename.pdf"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Per-locale assets"}),": If an asset needs to be locale-specific (e.g., screenshots), place it in ",(0,i.jsx)(n.code,{children:"documentation/i18n/{locale}/docusaurus-plugin-content-docs/current/assets/"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"build-test",children:"Build & Test"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd documentation\npnpm build            # Builds all locales\npnpm serve            # Preview the built site locally\npnpm start:en         # Development server for English\npnpm start:pt-br      # Development server for Portuguese\n"})}),"\n",(0,i.jsx)(n.p,{children:"Always test your changes in at least the default English locale and one other locale to ensure translations appear correctly."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},73230(e,n,s){s.d(n,{R:()=>r,x:()=>l});var t=s(71299);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);