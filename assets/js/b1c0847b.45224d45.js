"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1398],{51052(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"installation/duplicati-server-configuration","title":"Duplicati Server Configuration (Required)","description":"duplicati-server-configuration-required}","source":"@site/docs/installation/duplicati-server-configuration.md","sourceDirName":"installation","slug":"/installation/duplicati-server-configuration","permalink":"/duplistatus/installation/duplicati-server-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Environment Variables","permalink":"/duplistatus/installation/environment-variables"},"next":{"title":"HTTPS Setup (Optional)","permalink":"/duplistatus/installation/https-setup"}}');var s=n(36259),r=n(73230);const l={},o="Duplicati Server Configuration (Required) {#duplicati-server-configuration-required}",c={},a=[];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"duplicati-server-configuration-required",children:"Duplicati Server Configuration (Required)"})}),"\n",(0,s.jsxs)(t.p,{children:["In order for this application to work properly, each of your Duplicati servers needs to be configured to send HTTP reports for each backup run to the ",(0,s.jsx)(t.strong,{children:"duplistatus"})," server."]}),"\n",(0,s.jsx)(t.p,{children:"Apply this configuration to each of your Duplicati servers:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Allow remote access:"})," Log in to ",(0,s.jsx)(t.a,{href:"https://docs.duplicati.com/getting-started/set-up-a-backup-in-the-ui",children:"Duplicati's UI"}),", select ",(0,s.jsx)(t.code,{children:"Settings"}),", and allow remote access, including a list of hostnames (or use ",(0,s.jsx)(t.code,{children:"*"}),")."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Duplicati settings",src:n(56879).A+"",width:"1243",height:"403"})}),"\n",(0,s.jsx)(t.admonition,{type:"caution",children:(0,s.jsx)(t.p,{children:"Only enable remote access if your Duplicati server is protected by a secure network\n(e.g., VPN, private LAN, or firewall rules). Exposing the Duplicati interface to the public Internet\nwithout proper security measures could lead to unauthorised access."})}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Configure backup result reporting:"})," On the Duplicati configuration page, select ",(0,s.jsx)(t.code,{children:"Settings"})," and, in the ",(0,s.jsx)(t.code,{children:"Default Options"})," section, include the following options. Replace 'my.local.server' with your server name or IP address where ",(0,s.jsx)(t.strong,{children:"duplistatus"})," is running."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Advanced option"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"send-http-url"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"http://my.local.server:9666/api/upload"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"send-http-result-output-format"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Json"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"send-http-log-level"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"Information"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"send-http-max-log-lines"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"0"})})]})]})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Alternativelly, you can click on ",(0,s.jsx)(t.code,{children:"Edit as text"})," and copy the lines below, replacing ",(0,s.jsx)(t.code,{children:"my.local.server"})," with your actual server address."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"--send-http-url=http://my.local.server:9666/api/upload\n--send-http-result-output-format=Json\n--send-http-log-level=Information\n--send-http-max-log-lines=0\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Duplicati configuration",src:n(70376).A+"",width:"1254",height:"564"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Important notes on messages sent by Duplicati:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If you omit ",(0,s.jsx)(t.code,{children:"--send-http-log-level=Information"}),", no log messages will be sent to ",(0,s.jsx)(t.strong,{children:"duplistatus"}),", only statistics. This will prevent the available versions feature from working."]}),"\n",(0,s.jsxs)(t.li,{children:["The recommended configuration is ",(0,s.jsx)(t.code,{children:"--send-http-max-log-lines=0"})," for unlimited messages, since the Duplicati default of 100 messages may prevent the available versions from being received in the log."]}),"\n",(0,s.jsx)(t.li,{children:"If you limit the number of messages, the log messages required to obtain the available backup versions may not be received. This will prevent those versions from being displayed for that backup run."}),"\n"]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["After configuring the ",(0,s.jsx)(t.strong,{children:"duplistatus"})," server, collect the backup logs for all your Duplicati servers using ",(0,s.jsx)(t.a,{href:"/duplistatus/user-guide/collect-backup-logs",children:"Collect Backup Logs"}),"."]})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},70376(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/duplicati-options-88c3390baa86562697c9b85fe0a6291e.png"},56879(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/duplicati-settings-78a687c3a32f9fb5f1432a7c6e65030a.png"},73230(e,t,n){n.d(t,{R:()=>l,x:()=>o});var i=n(71299);const s={},r=i.createContext(s);function l(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);