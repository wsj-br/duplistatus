"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[7225],{6493(e,n,t){t.d(n,{R:()=>r,x:()=>o});var i=t(2128);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},7584(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api-reference/monitoring-apis","title":"Monitoring & Health","description":"Health Check - /api/health","source":"@site/docs/api-reference/monitoring-apis.md","sourceDirName":"api-reference","slug":"/api-reference/monitoring-apis","permalink":"/duplistatus/api-reference/monitoring-apis","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"External APIs","permalink":"/duplistatus/api-reference/external-apis"},"next":{"title":"Notification System","permalink":"/duplistatus/api-reference/notification-apis"}}');var s=t(7900),a=t(6493);const r={},o="Monitoring & Health",l={},c=[{value:"Health Check - <code>/api/health</code>",id:"health-check---apihealth",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"monitoring--health",children:"Monitoring & Health"})}),"\n",(0,s.jsxs)(n.h2,{id:"health-check---apihealth",children:["Health Check - ",(0,s.jsx)(n.code,{children:"/api/health"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Endpoint"}),": ",(0,s.jsx)(n.code,{children:"/api/health"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Method"}),": GET"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Description"}),": Checks the health status of the application and database."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Response"})," (healthy):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "healthy",\n  "database": "connected",\n  "basicConnection": true,\n  "tablesFound": 2,\n  "tables": [\n    "servers",\n    "backups"\n  ],\n  "preparedStatements": true,\n  "initializationStatus": "complete",\n  "initializationComplete": true,\n  "connectionHealth": true,\n  "timestamp": "2024-03-20T10:00:00Z"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Response"})," (degraded):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "degraded",\n  "database": "connected",\n  "basicConnection": true,\n  "tablesFound": 2,\n  "tables": [\n    "servers",\n    "backups"\n  ],\n  "preparedStatements": false,\n  "preparedStatementsError": "Prepared statement error details",\n  "initializationStatus": "complete",\n  "initializationComplete": true,\n  "connectionHealth": false,\n  "connectionHealthError": "Connection health check failed",\n  "connectionDetails": {\n    "additional": "diagnostic information"\n  },\n  "timestamp": "2024-03-20T10:00:00Z"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Error Response"})," (503):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "status": "unhealthy",\n  "error": "Database connection failed",\n  "message": "Connection timeout",\n  "stack": "Error: Connection timeout\\n    at...",\n  "timestamp": "2024-03-20T10:00:00Z"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Notes"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Returns 200 status for healthy systems"}),"\n",(0,s.jsx)(n.li,{children:"Returns 503 status for unhealthy systems or prepared statement failures"}),"\n",(0,s.jsxs)(n.li,{children:["Includes ",(0,s.jsx)(n.code,{children:"preparedStatementsError"})," field when prepared statements fail"]}),"\n",(0,s.jsxs)(n.li,{children:["Includes ",(0,s.jsx)(n.code,{children:"initializationError"})," field when database initialization fails"]}),"\n",(0,s.jsxs)(n.li,{children:["Includes ",(0,s.jsx)(n.code,{children:"connectionHealthError"})," and ",(0,s.jsx)(n.code,{children:"connectionDetails"})," when connection health checks fail"]}),"\n",(0,s.jsx)(n.li,{children:"Stack trace only included in development mode"}),"\n",(0,s.jsx)(n.li,{children:"Tests basic database connection, prepared statements, initialization status, and connection health"}),"\n",(0,s.jsx)(n.li,{children:"Provides comprehensive health diagnostics for troubleshooting"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);