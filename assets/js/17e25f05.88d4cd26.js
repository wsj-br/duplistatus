"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2758],{1285:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var i=s(3303);const t={},o=i.createContext(t);function d(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(o.Provider,{value:n},e.children)}},5509:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"development/documentation-tools","title":"Documentation Tools","description":"The documentation is built using Docusaurus and is located in the website folder.","source":"@site/docs/development/documentation-tools.md","sourceDirName":"development","slug":"/development/documentation-tools","permalink":"/duplistatus/development/documentation-tools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Database Schema","permalink":"/duplistatus/development/database"},"next":{"title":"Podman Testing","permalink":"/duplistatus/development/podman-testing"}}');var t=s(7711),o=s(1285);const d={},c="Documentation Tools",r={},l=[{value:"Folder Structure",id:"folder-structure",level:2},{value:"Common Commands",id:"common-commands",level:2},{value:"Development",id:"development",level:3},{value:"Build",id:"build",level:3},{value:"Serve Production Build",id:"serve-production-build",level:3},{value:"Other Useful Commands",id:"other-useful-commands",level:3},{value:"Generating README.md",id:"generating-readmemd",level:2},{value:"Working with Documentation",id:"working-with-documentation",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"documentation-tools",children:"Documentation Tools"})}),"\n",(0,t.jsxs)(n.p,{children:["The documentation is built using ",(0,t.jsx)(n.a,{href:"https://docusaurus.io/",children:"Docusaurus"})," and is located in the ",(0,t.jsx)(n.code,{children:"website"})," folder."]}),"\n",(0,t.jsx)(n.h2,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"website/\n\u251c\u2500\u2500 docs/              # Documentation markdown files\n\u2502   \u251c\u2500\u2500 api-reference/\n\u2502   \u251c\u2500\u2500 development/\n\u2502   \u251c\u2500\u2500 installation/\n\u2502   \u251c\u2500\u2500 migration/\n\u2502   \u251c\u2500\u2500 release-notes/\n\u2502   \u2514\u2500\u2500 user-guide/\n\u251c\u2500\u2500 src/               # React components and pages\n\u2502   \u251c\u2500\u2500 components/    # Custom React components\n\u2502   \u251c\u2500\u2500 css/           # Custom styles\n\u2502   \u2514\u2500\u2500 pages/         # Additional pages (e.g., 404)\n\u251c\u2500\u2500 static/            # Static assets (images, files)\n\u251c\u2500\u2500 docusaurus.config.ts  # Docusaurus configuration\n\u251c\u2500\u2500 sidebars.ts        # Sidebar navigation configuration\n\u2514\u2500\u2500 package.json       # Dependencies and scripts\n"})}),"\n",(0,t.jsx)(n.h2,{id:"common-commands",children:"Common Commands"}),"\n",(0,t.jsxs)(n.p,{children:["All commands should be run from the ",(0,t.jsx)(n.code,{children:"website"})," directory:"]}),"\n",(0,t.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,t.jsx)(n.p,{children:"Start the development server with hot-reload:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd website\npnpm start\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The site will be available at ",(0,t.jsx)(n.code,{children:"http://localhost:3000"})," (or the next available port)."]}),"\n",(0,t.jsx)(n.h3,{id:"build",children:"Build"}),"\n",(0,t.jsx)(n.p,{children:"Build the documentation site for production:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd website\npnpm build\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This generates static HTML files in the ",(0,t.jsx)(n.code,{children:"website/build"})," directory."]}),"\n",(0,t.jsx)(n.h3,{id:"serve-production-build",children:"Serve Production Build"}),"\n",(0,t.jsx)(n.p,{children:"Preview the production build locally:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd website\npnpm serve\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This serves the built site from the ",(0,t.jsx)(n.code,{children:"website/build"})," directory."]}),"\n",(0,t.jsx)(n.h3,{id:"other-useful-commands",children:"Other Useful Commands"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pnpm clear"})," - Clear Docusaurus cache"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pnpm typecheck"})," - Run TypeScript type checking"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pnpm write-heading-ids"})," - Add heading IDs to markdown files for anchor links"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"generating-readmemd",children:"Generating README.md"}),"\n",(0,t.jsxs)(n.p,{children:["The project's ",(0,t.jsx)(n.code,{children:"README.md"})," file is automatically generated from ",(0,t.jsx)(n.code,{children:"website/docs/intro.md"})," to keep the GitHub repository README synchronized with the Docusaurus documentation."]}),"\n",(0,t.jsx)(n.p,{children:"To generate or update the README.md file:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"./scripts/generate-readme-from-intro.sh\n"})}),"\n",(0,t.jsx)(n.p,{children:"This script:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Extracts the current version from ",(0,t.jsx)(n.code,{children:"package.json"})," and adds a version badge"]}),"\n",(0,t.jsxs)(n.li,{children:["Copies content from ",(0,t.jsx)(n.code,{children:"website/docs/intro.md"})]}),"\n",(0,t.jsxs)(n.li,{children:["Converts all relative Docusaurus links to absolute GitHub docs URLs (",(0,t.jsx)(n.code,{children:"https://wsj-br.github.io/duplistatus/..."}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["Converts image paths from ",(0,t.jsx)(n.code,{children:"/img/"})," to ",(0,t.jsx)(n.code,{children:"docs/img/"})," for GitHub compatibility"]}),"\n",(0,t.jsx)(n.li,{children:"Removes the migration IMPORTANT block and adds a Migration Information section with a link to the Docusaurus docs"}),"\n",(0,t.jsxs)(n.li,{children:["Generates a table of contents using ",(0,t.jsx)(n.code,{children:"doctoc"})]}),"\n",(0,t.jsxs)(n.li,{children:["Automatically runs ",(0,t.jsx)(n.code,{children:"update-readme-for-dockerhub.sh"})," to create ",(0,t.jsx)(n.code,{children:"README.tmp"})," for Docker Hub"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note:"})," You need to have ",(0,t.jsx)(n.code,{children:"doctoc"})," installed globally for the TOC generation:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -g doctoc\n"})}),"\n",(0,t.jsx)(n.h2,{id:"working-with-documentation",children:"Working with Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Documentation files are written in Markdown (",(0,t.jsx)(n.code,{children:".md"}),") and located in ",(0,t.jsx)(n.code,{children:"website/docs/"})]}),"\n",(0,t.jsxs)(n.li,{children:["The sidebar navigation is configured in ",(0,t.jsx)(n.code,{children:"website/sidebars.ts"})]}),"\n",(0,t.jsxs)(n.li,{children:["Docusaurus configuration is in ",(0,t.jsx)(n.code,{children:"website/docusaurus.config.ts"})]}),"\n",(0,t.jsxs)(n.li,{children:["Custom React components can be added to ",(0,t.jsx)(n.code,{children:"website/src/components/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Static assets (images, PDFs, etc.) go in ",(0,t.jsx)(n.code,{children:"website/static/"})]}),"\n",(0,t.jsxs)(n.li,{children:["The main documentation homepage is ",(0,t.jsx)(n.code,{children:"website/docs/intro.md"}),", which is used as the source for generating ",(0,t.jsx)(n.code,{children:"README.md"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);