"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4917],{1142(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api-reference/configuration-apis","title":"Configuration Management","description":"Get Email Configuration - /api/configuration/email","source":"@site/docs/api-reference/configuration-apis.md","sourceDirName":"api-reference","slug":"/api-reference/configuration-apis","permalink":"/duplistatus/api-reference/configuration-apis","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Chart Data","permalink":"/duplistatus/api-reference/chart-data-apis"},"next":{"title":"Cron Service Management","permalink":"/duplistatus/api-reference/cron-service-apis"}}');var r=i(7900),o=i(6493);const t={},c="Configuration Management",l={},a=[{value:"Get Email Configuration - <code>/api/configuration/email</code>",id:"get-email-configuration---apiconfigurationemail",level:2},{value:"Update Email Configuration - <code>/api/configuration/email</code>",id:"update-email-configuration---apiconfigurationemail",level:2},{value:"Delete Email Configuration - <code>/api/configuration/email</code>",id:"delete-email-configuration---apiconfigurationemail",level:2},{value:"Update Email Password - <code>/api/configuration/email/password</code>",id:"update-email-password---apiconfigurationemailpassword",level:2},{value:"Get Email Password CSRF Token - <code>/api/configuration/email/password</code>",id:"get-email-password-csrf-token---apiconfigurationemailpassword",level:2},{value:"Get Unified Configuration - <code>/api/configuration/unified</code>",id:"get-unified-configuration---apiconfigurationunified",level:2},{value:"Get NTFY Configuration - <code>/api/configuration/ntfy</code>",id:"get-ntfy-configuration---apiconfigurationntfy",level:2},{value:"Get Notification Configuration - <code>/api/configuration/notifications</code>",id:"get-notification-configuration---apiconfigurationnotifications",level:2},{value:"Update Notification Configuration - <code>/api/configuration/notifications</code>",id:"update-notification-configuration---apiconfigurationnotifications",level:2},{value:"Update Backup Settings - <code>/api/configuration/backup-settings</code>",id:"update-backup-settings---apiconfigurationbackup-settings",level:2},{value:"Update Notification Templates - <code>/api/configuration/templates</code>",id:"update-notification-templates---apiconfigurationtemplates",level:2},{value:"Get Overdue Tolerance - <code>/api/configuration/overdue-tolerance</code>",id:"get-overdue-tolerance---apiconfigurationoverdue-tolerance",level:2},{value:"Update Overdue Tolerance - <code>/api/configuration/overdue-tolerance</code>",id:"update-overdue-tolerance---apiconfigurationoverdue-tolerance",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"configuration-management",children:"Configuration Management"})}),"\n",(0,r.jsxs)(e.h2,{id:"get-email-configuration---apiconfigurationemail",children:["Get Email Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves the current email notification configuration and whether email notifications are enabled/configured."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"})," (configured):","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "configured": true,\n  "config": {\n    "host": "smtp.example.com",\n    "port": 465,\n    "secure": true,\n    "username": "user@example.com",\n    "mailto": "admin@example.com",\n    "hasPassword": true\n  },\n  "message": "Email is configured and ready to use."\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"})," (not configured):","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "configured": false,\n  "config": null,\n  "message": "Email is not configured. Please configure SMTP settings."\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": Master key is invalid - All encrypted passwords and settings must be reconfigured"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to get email configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returns configuration without password for security"}),"\n",(0,r.jsxs)(e.li,{children:["Includes ",(0,r.jsx)(e.code,{children:"hasPassword"})," field to indicate if password is set"]}),"\n",(0,r.jsx)(e.li,{children:"Indicates if email notifications are available for test and production use"}),"\n",(0,r.jsx)(e.li,{children:"Handles master key validation errors gracefully"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-email-configuration---apiconfigurationemail",children:["Update Email Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates the SMTP email notification configuration."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "host": "smtp.example.com",\n  "port": 465,\n  "secure": true,\n  "username": "user@example.com",\n  "password": "password",\n  "mailto": "admin@example.com"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "SMTP configuration saved successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": Missing required fields or invalid port number"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to save SMTP configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"All fields (host, port, username, password, mailto) are required"}),"\n",(0,r.jsx)(e.li,{children:"Port must be a valid number between 1 and 65535"}),"\n",(0,r.jsx)(e.li,{children:"Secure field is boolean (true for SSL/TLS)"}),"\n",(0,r.jsx)(e.li,{children:"Password is managed separately through the password endpoint"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"delete-email-configuration---apiconfigurationemail",children:["Delete Email Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/email"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": DELETE"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Deletes the SMTP email notification configuration."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "SMTP configuration deleted successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid Session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"404"}),": No SMTP configuration found to delete"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to delete SMTP configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"This operation permanently removes the SMTP configuration"}),"\n",(0,r.jsx)(e.li,{children:"Returns 404 if no configuration exists to delete"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-email-password---apiconfigurationemailpassword",children:["Update Email Password - ",(0,r.jsx)(e.code,{children:"/api/configuration/email/password"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/email/password"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": PATCH"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates the email password for SMTP authentication."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "password": "new-password",\n  "config": {\n    "host": "smtp.example.com",\n    "port": 465,\n    "secure": true,\n    "username": "user@example.com",\n    "mailto": "admin@example.com"\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Email password updated successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": Password must be a string or missing required config fields"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to update email password"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Password can be an empty string to clear the password"}),"\n",(0,r.jsx)(e.li,{children:"If no SMTP config exists, creates a minimal one from provided config"}),"\n",(0,r.jsx)(e.li,{children:"Config parameter is required when no existing SMTP configuration exists"}),"\n",(0,r.jsx)(e.li,{children:"Password is stored securely using encryption"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"get-email-password-csrf-token---apiconfigurationemailpassword",children:["Get Email Password CSRF Token - ",(0,r.jsx)(e.code,{children:"/api/configuration/email/password"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/email/password"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves a CSRF token for email password operations."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "csrfToken": "csrf-token-string"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Invalid or expired session"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to generate CSRF token"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returns CSRF token for use with password update operations"}),"\n",(0,r.jsx)(e.li,{children:"Session must be valid to generate token"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"get-unified-configuration---apiconfigurationunified",children:["Get Unified Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/unified"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/unified"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves a unified configuration object containing all configuration data including cron settings, notification frequency, and servers with backups."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "ntfy": {\n    "url": "https://ntfy.sh",\n    "topic": "duplistatus-notifications",\n    "accessToken": ""\n  },\n  "email": {\n    "host": "smtp.example.com",\n    "port": 465,\n    "secure": true,\n    "username": "user@example.com",\n    "mailto": "admin@example.com",\n    "enabled": true,\n    "hasPassword": true\n  },\n  "backupSettings": {\n    "Server Name:Backup Name": {\n      "notificationEvent": "all",\n      "expectedInterval": 24,\n      "overdueBackupCheckEnabled": true,\n      "intervalUnit": "hours"\n    }\n  },\n  "templates": {\n    "success": {\n      "title": "\u2705 {status} - {backup_name} @ {server_name}",\n      "message": "Backup {backup_name} on {server_name} completed with status \'{status}\' at {backup_date} in {duration}.",\n      "priority": "default",\n      "tags": "duplicati, duplistatus, success"\n    },\n    "warning": {\n      "title": "\u26a0\ufe0f {status} - {backup_name} @ {server_name}",\n      "message": "Backup {backup_name} on {server_name} completed with status \'{status}\' at {backup_date}.",\n      "priority": "high",\n      "tags": "duplicati, duplistatus, warning, error"\n    },\n    "overdueBackup": {\n      "title": "\ud83d\udd51 Overdue - {backup_name} @ {server_name}",\n      "message": "The backup {backup_name} is overdue on {server_name}.",\n      "priority": "default",\n      "tags": "duplicati, duplistatus, overdue"\n    }\n  },\n  "overdue_tolerance": "1h",\n  "serverAddresses": [\n    {\n      "id": "server-id",\n      "name": "Server Name",\n      "server_url": "http://localhost:8200"\n    }\n  ],\n  "cronConfig": {\n    "cronExpression": "*/20 * * * *",\n    "enabled": true\n  },\n  "notificationFrequency": "every_day",\n  "serversWithBackups": [\n    {\n      "id": "server-id",\n      "name": "Server Name",\n      "backupName": "Backup Name",\n      "server_url": "http://localhost:8200"\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Server error fetching unified configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returns all configuration data in a single response"}),"\n",(0,r.jsx)(e.li,{children:"Includes cron settings, notification frequency, and servers with backups"}),"\n",(0,r.jsxs)(e.li,{children:["Email configuration includes ",(0,r.jsx)(e.code,{children:"hasPassword"})," field but not the actual password"]}),"\n",(0,r.jsx)(e.li,{children:"Fetches all data in parallel for better performance"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"get-ntfy-configuration---apiconfigurationntfy",children:["Get NTFY Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/ntfy"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/ntfy"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves the current NTFY configuration settings."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "ntfy": {\n    "url": "https://ntfy.sh",\n    "topic": "duplistatus-notifications",\n    "accessToken": "optional-access-token"\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to fetch NTFY configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returns current NTFY configuration settings"}),"\n",(0,r.jsx)(e.li,{children:"Used for notification system management"}),"\n",(0,r.jsx)(e.li,{children:"Requires authentication for accessing configuration data"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"get-notification-configuration---apiconfigurationnotifications",children:["Get Notification Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/notifications"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/notifications"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves the current notification frequency configuration."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "value": "every_day"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to fetch config"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Retrieves current notification frequency configuration"}),"\n",(0,r.jsx)(e.li,{children:"Used for overdue backup notification management"}),"\n",(0,r.jsxs)(e.li,{children:["Returns one of: ",(0,r.jsx)(e.code,{children:'"onetime"'}),", ",(0,r.jsx)(e.code,{children:'"every_day"'}),", ",(0,r.jsx)(e.code,{children:'"every_week"'}),", ",(0,r.jsx)(e.code,{children:'"every_month"'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-notification-configuration---apiconfigurationnotifications",children:["Update Notification Configuration - ",(0,r.jsx)(e.code,{children:"/api/configuration/notifications"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/notifications"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates notification configuration (NTFY settings or notification frequency)."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":\nFor NTFY configuration:","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "ntfy": {\n    "enabled": true,\n    "url": "https://ntfy.sh",\n    "topic": "duplistatus-notifications",\n    "accessToken": "optional-access-token"\n  }\n}\n'})}),"\n","For notification frequency:","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "value": "every_week"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":\nFor NTFY configuration:","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Notification config updated successfully",\n  "ntfy": {\n    "enabled": true,\n    "url": "https://ntfy.sh",\n    "topic": "duplistatus-notifications",\n    "accessToken": "optional-access-token"\n  }\n}\n'})}),"\n","For notification frequency:","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "value": "every_week"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Available Values"}),": ",(0,r.jsx)(e.code,{children:'"onetime"'}),", ",(0,r.jsx)(e.code,{children:'"every_day"'}),", ",(0,r.jsx)(e.code,{children:'"every_week"'}),", ",(0,r.jsx)(e.code,{children:'"every_month"'})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": NTFY configuration is required or invalid value"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Server error updating notification configuration"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Supports both NTFY configuration and notification frequency updates"}),"\n",(0,r.jsx)(e.li,{children:"Updates only the NTFY configuration when ntfy field is provided"}),"\n",(0,r.jsx)(e.li,{children:"Updates notification frequency when value field is provided"}),"\n",(0,r.jsx)(e.li,{children:"Generates default topic if none provided"}),"\n",(0,r.jsx)(e.li,{children:"Preserves existing configuration settings"}),"\n",(0,r.jsxs)(e.li,{children:["Uses ",(0,r.jsx)(e.code,{children:"accessToken"})," field instead of separate username/password fields"]}),"\n",(0,r.jsx)(e.li,{children:"Validates notification frequency value against allowed options"}),"\n",(0,r.jsx)(e.li,{children:"Affects how often overdue notifications are sent"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-backup-settings---apiconfigurationbackup-settings",children:["Update Backup Settings - ",(0,r.jsx)(e.code,{children:"/api/configuration/backup-settings"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/backup-settings"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates the backup notification settings for specific servers/backups."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "backupSettings": {\n    "Server Name:Backup Name": {\n      "notificationEvent": "all",\n      "expectedInterval": 24,\n      "overdueBackupCheckEnabled": true,\n      "intervalUnit": "hours"\n    }\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Backup settings updated successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": backupSettings is required"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Server error updating backup settings"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Updates backup notification settings for specific servers/backups"}),"\n",(0,r.jsx)(e.li,{children:"Cleans up overdue backup notifications for disabled backups"}),"\n",(0,r.jsx)(e.li,{children:"Clears notifications when timeout settings change"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-notification-templates---apiconfigurationtemplates",children:["Update Notification Templates - ",(0,r.jsx)(e.code,{children:"/api/configuration/templates"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/templates"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates the notification templates."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "templates": {\n    "success": {\n      "title": "\u2705 {status} - {backup_name} @ {server_name}",\n      "message": "Backup {backup_name} on {server_name} completed with status \'{status}\' at {backup_date} in {duration}.",\n      "priority": "default",\n      "tags": "duplicati, duplistatus, success"\n    }\n  }\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Notification templates updated successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": templates are required"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Server error updating notification templates"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Updates notification templates for different backup statuses"}),"\n",(0,r.jsx)(e.li,{children:"Preserves existing configuration settings"}),"\n",(0,r.jsx)(e.li,{children:"Templates support variable substitution"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"get-overdue-tolerance---apiconfigurationoverdue-tolerance",children:["Get Overdue Tolerance - ",(0,r.jsx)(e.code,{children:"/api/configuration/overdue-tolerance"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/overdue-tolerance"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Retrieves the current overdue tolerance setting."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "overdue_tolerance": "1h"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Failed to get overdue tolerance"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Returns the current overdue tolerance setting"}),"\n",(0,r.jsx)(e.li,{children:"Used for displaying current configuration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"update-overdue-tolerance---apiconfigurationoverdue-tolerance",children:["Update Overdue Tolerance - ",(0,r.jsx)(e.code,{children:"/api/configuration/overdue-tolerance"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Endpoint"}),": ",(0,r.jsx)(e.code,{children:"/api/configuration/overdue-tolerance"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Description"}),": Updates the overdue tolerance setting."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "overdue_tolerance": "1h"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Response"}),":","\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "message": "Overdue tolerance updated successfully"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"400"}),": overdue_tolerance is required"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"500"}),": Server error updating overdue tolerance"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Notes"}),":","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:'Updates the overdue tolerance setting (accepts string format like "1h", "2h", etc.)'}),"\n",(0,r.jsx)(e.li,{children:"Affects when backups are considered overdue"}),"\n",(0,r.jsx)(e.li,{children:"Used by the overdue backup checker"}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},6493(n,e,i){i.d(e,{R:()=>t,x:()=>c});var s=i(2128);const r={},o=s.createContext(r);function t(n){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);