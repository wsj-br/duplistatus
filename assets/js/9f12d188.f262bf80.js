"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9298],{1285:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var r=s(3303);const i={},l=r.createContext(i);function d(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(l.Provider,{value:n},e.children)}},1439:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"api-reference/administration-apis","title":"Administration","description":"Collect Backups - /api/backups/collect","source":"@site/docs/api-reference/administration-apis.md","sourceDirName":"api-reference","slug":"/api-reference/administration-apis","permalink":"/duplistatus/api-reference/administration-apis","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Core Operations","permalink":"/duplistatus/api-reference/core-operations"},"next":{"title":"Chart Data","permalink":"/duplistatus/api-reference/chart-data-apis"}}');var i=s(7711),l=s(1285);const d={},c="Administration",o={},t=[{value:"Collect Backups - <code>/api/backups/collect</code>",id:"collect-backups---apibackupscollect",level:2},{value:"Cleanup Backups - <code>/api/backups/cleanup</code>",id:"cleanup-backups---apibackupscleanup",level:2},{value:"Delete Backup - <code>/api/backups/:backupId</code>",id:"delete-backup---apibackupsbackupid",level:2},{value:"Delete Backup Job - <code>/api/backups/delete-job</code>",id:"delete-backup-job---apibackupsdelete-job",level:2},{value:"Test Server Connection - <code>/api/servers/test-connection</code>",id:"test-server-connection---apiserverstest-connection",level:2},{value:"Get Server URL - <code>/api/servers/:serverId/server-url</code>",id:"get-server-url---apiserversserveridserver-url",level:2},{value:"Update Server URL - <code>/api/servers/:serverId/server-url</code>",id:"update-server-url---apiserversserveridserver-url",level:2},{value:"Get Server Password - <code>/api/servers/:serverId/password</code>",id:"get-server-password---apiserversserveridpassword",level:2},{value:"Update Server Password - <code>/api/servers/:serverId/password</code>",id:"update-server-password---apiserversserveridpassword",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"administration",children:"Administration"})}),"\n",(0,i.jsxs)(n.h2,{id:"collect-backups---apibackupscollect",children:["Collect Backups - ",(0,i.jsx)(n.code,{children:"/api/backups/collect"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/backups/collect"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": POST"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Collects backup data directly from a Duplicati server via its API. This endpoint automatically detects the best connection protocol (HTTPS with SSL validation, HTTPS with self-signed certificates, or HTTP as fallback) and connects to the Duplicati server to retrieve backup information and process it into the local database."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "hostname": "duplicati-server.local",\n  "port": 8200,\n  "password": "your-password",\n  "downloadJson": false\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "serverName": "Server Name",\n  "serverAlias": "My Server",\n  "stats": {\n    "processed": 5,\n    "skipped": 2,\n    "errors": 0\n  },\n  "backupSettings": {\n    "added": 2,\n    "total": 7\n  }\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Invalid request parameters or connection failed"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during backup collection"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The endpoint automatically detects the optimal connection protocol (HTTPS \u2192 HTTPS with self-signed \u2192 HTTP)"}),"\n",(0,i.jsx)(n.li,{children:"Protocol detection attempts are made in order of security preference"}),"\n",(0,i.jsx)(n.li,{children:"Connection timeouts are configurable via environment variables"}),"\n",(0,i.jsx)(n.li,{children:"Logs collected data in development mode for debugging"}),"\n",(0,i.jsx)(n.li,{children:"Ensures backup settings are complete for all servers and backups"}),"\n",(0,i.jsx)(n.li,{children:"Uses default port 8200 if not specified"}),"\n",(0,i.jsx)(n.li,{children:"The detected protocol and server URL are automatically stored in the database"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serverAlias"})," is retrieved from the database and may be empty if no alias is set"]}),"\n",(0,i.jsxs)(n.li,{children:["The frontend should use ",(0,i.jsx)(n.code,{children:"serverAlias || serverName"})," for display purposes"]}),"\n",(0,i.jsx)(n.li,{children:"Supports both JSON download and direct API collection methods"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"cleanup-backups---apibackupscleanup",children:["Cleanup Backups - ",(0,i.jsx)(n.code,{children:"/api/backups/cleanup"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/backups/cleanup"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": POST"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Deletes old backup data based on retention period. This endpoint helps manage database size by removing outdated backup records while preserving recent and important data."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "retentionPeriod": "6 months"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Retention Periods"}),": ",(0,i.jsx)(n.code,{children:'"6 months"'}),", ",(0,i.jsx)(n.code,{children:'"1 year"'}),", ",(0,i.jsx)(n.code,{children:'"2 years"'}),", ",(0,i.jsx)(n.code,{children:'"Delete all data"'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Successfully deleted 15 old backups",\n  "status": 200\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:'For "Delete all data" option:'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Successfully deleted all 15 backups and 3 servers, and cleared configuration settings",\n  "status": 200\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Invalid retention period specified"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during cleanup operation with detailed error information"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The cleanup operation is irreversible"}),"\n",(0,i.jsx)(n.li,{children:"Backup data is permanently deleted from the database"}),"\n",(0,i.jsx)(n.li,{children:"Machine records are preserved even if all backups are deleted"}),"\n",(0,i.jsx)(n.li,{children:'When "Delete all data" is selected, all machines and backups are removed and configuration is cleared'}),"\n",(0,i.jsx)(n.li,{children:"Enhanced error reporting includes details and stack trace in development mode"}),"\n",(0,i.jsx)(n.li,{children:"Supports both time-based retention and complete data deletion"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"delete-backup---apibackupsbackupid",children:["Delete Backup - ",(0,i.jsx)(n.code,{children:"/api/backups/:backupId"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/backups/:backupId"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": DELETE"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Deletes a specific backup record. This endpoint is only available in development mode."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"backupId"}),": the backup identifier"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Successfully deleted backup Files from 2024-03-20T10:00:00Z",\n  "status": 200,\n  "deletedBackup": {\n    "id": "backup-id",\n    "server_id": "server-id",\n    "backup_name": "Files",\n    "date": "2024-03-20T10:00:00Z"\n  }\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"403"}),": Backup deletion is only available in development mode"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Invalid backup ID"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404"}),": Backup not found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during deletion with detailed error information"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This operation is only available in development mode"}),"\n",(0,i.jsx)(n.li,{children:"This operation is irreversible"}),"\n",(0,i.jsx)(n.li,{children:"The backup data will be permanently deleted from the database"}),"\n",(0,i.jsx)(n.li,{children:"Enhanced error reporting includes details and timestamp"}),"\n",(0,i.jsx)(n.li,{children:"Returns information about the deleted backup"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"delete-backup-job---apibackupsdelete-job",children:["Delete Backup Job - ",(0,i.jsx)(n.code,{children:"/api/backups/delete-job"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/backups/delete-job"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": DELETE"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Deletes all backup records for a specific server-backup combination. This endpoint is only available in development mode."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "serverId": "server-id",\n  "backupName": "Backup Name"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Successfully deleted 5 backup record(s) for \\"Files\\" from server \\"My Server\\"",\n  "status": 200,\n  "deletedCount": 5,\n  "serverName": "My Server",\n  "backupName": "Files"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"403"}),": Backup job deletion is only available in development mode"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Server ID and backup name are required"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404"}),": No backups found to delete"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during deletion with detailed error information"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This operation is only available in development mode"}),"\n",(0,i.jsx)(n.li,{children:"This operation is irreversible"}),"\n",(0,i.jsx)(n.li,{children:"All backup records for the specified server-backup combination will be permanently deleted"}),"\n",(0,i.jsx)(n.li,{children:"Returns count of deleted backups and server information"}),"\n",(0,i.jsx)(n.li,{children:"Uses server alias for display if available, otherwise falls back to server name"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"test-server-connection---apiserverstest-connection",children:["Test Server Connection - ",(0,i.jsx)(n.code,{children:"/api/servers/test-connection"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/servers/test-connection"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": POST"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Tests the connection to a Duplicati server to verify it's accessible."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "server_url": "http://localhost:8200"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Connection successful"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Invalid URL format or missing server URL"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during connection test"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The endpoint validates URL format and tests connectivity"}),"\n",(0,i.jsx)(n.li,{children:"Returns success if the server responds with a 401 status (expected for login endpoint without credentials)"}),"\n",(0,i.jsx)(n.li,{children:"Tests connection to the Duplicati server's login endpoint"}),"\n",(0,i.jsx)(n.li,{children:"Supports both HTTP and HTTPS protocols"}),"\n",(0,i.jsx)(n.li,{children:"Uses timeout configuration for connection testing"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"get-server-url---apiserversserveridserver-url",children:["Get Server URL - ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/server-url"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/server-url"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": GET"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Retrieves the server URL for a specific server."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serverId"}),": the server identifier"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "serverId": "server-id",\n  "server_url": "http://localhost:8200"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404"}),": Server not found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Returns server URL for specific server"}),"\n",(0,i.jsx)(n.li,{children:"Used for server connection management"}),"\n",(0,i.jsx)(n.li,{children:"Returns empty string if no server URL is set"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"update-server-url---apiserversserveridserver-url",children:["Update Server URL - ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/server-url"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/server-url"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": PATCH"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Updates the server URL for a specific server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serverId"}),": the server identifier"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "server_url": "http://localhost:8200"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Server URL updated successfully",\n  "serverId": "server-id",\n  "serverName": "Server Name",\n  "server_url": "http://localhost:8200"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Invalid URL format"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404"}),": Server not found"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Server error during update"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The endpoint validates URL format before updating"}),"\n",(0,i.jsx)(n.li,{children:"Empty or null server URLs are allowed"}),"\n",(0,i.jsx)(n.li,{children:"Supports both HTTP and HTTPS protocols"}),"\n",(0,i.jsx)(n.li,{children:"Returns updated server information"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"get-server-password---apiserversserveridpassword",children:["Get Server Password - ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/password"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/password"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": GET"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Retrieves a CSRF token for server password operations."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serverId"}),": the server identifier"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "csrfToken": "csrf-token-string",\n  "serverId": "server-id"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Invalid or expired session"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Failed to generate CSRF token"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Returns CSRF token for use with password update operations"}),"\n",(0,i.jsx)(n.li,{children:"Session must be valid to generate token"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"update-server-password---apiserversserveridpassword",children:["Update Server Password - ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/password"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"/api/servers/:serverId/password"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Method"}),": PATCH"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Description"}),": Updates the password for a specific server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"serverId"}),": the server identifier"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Body"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "password": "new-password"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),":","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "message": "Password updated successfully",\n  "serverId": "server-id"\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Responses"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400"}),": Password must be a string"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401"}),": Unauthorized - Invalid session or CSRF token"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500"}),": Failed to update password"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notes"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Password can be an empty string to clear the password"}),"\n",(0,i.jsx)(n.li,{children:"Password is stored securely using the secrets management system"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);