"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1398],{4796(e,t,s){s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"installation/duplicati-server-configuration","title":"Duplicati Server Configuration (Required)","description":"In order for this application to work properly, each of your Duplicati servers needs to be configured to send HTTP reports for each backup run to the duplistatus server.","source":"@site/docs/installation/duplicati-server-configuration.md","sourceDirName":"installation","slug":"/installation/duplicati-server-configuration","permalink":"/duplistatus/installation/duplicati-server-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Environment Variables","permalink":"/duplistatus/installation/environment-variables"},"next":{"title":"HTTPS Setup (Optional)","permalink":"/duplistatus/installation/https-setup"}}');var n=s(7900),r=s(6493);const a={},o="Duplicati Server Configuration (Required)",l={},c=[];function d(e){const t={a:"a",code:"code",div:"div",h1:"h1",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"duplicati-server-configuration-required",children:"Duplicati Server Configuration (Required)"})}),"\n",(0,n.jsxs)(t.p,{children:["In order for this application to work properly, each of your Duplicati servers needs to be configured to send HTTP reports for each backup run to the ",(0,n.jsx)(t.strong,{children:"duplistatus"})," server."]}),"\n",(0,n.jsx)(t.p,{children:"Apply this configuration to each of your Duplicati servers:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Allow remote access:"})," Log in to ",(0,n.jsx)(t.a,{href:"https://docs.duplicati.com/getting-started/set-up-a-backup-in-the-ui",children:"Duplicati's UI"}),", select ",(0,n.jsx)(t.code,{children:"Settings"}),", and allow remote access, including a list of hostnames (or use ",(0,n.jsx)(t.code,{children:"*"}),")."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Duplicati settings",src:s(6960).A+"",width:"1243",height:"403"})}),"\n",(0,n.jsxs)(t.div,{className:"markdown-alert markdown-alert-caution",children:["\n",(0,n.jsxs)(t.p,{className:"markdown-alert-title",children:[(0,n.jsx)(t.span,{className:"octicon octicon-caution",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-stop mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Caution"]}),"\n",(0,n.jsx)(t.p,{children:"Only enable remote access if your Duplicati server is protected by a secure network\n(e.g., VPN, private LAN, or firewall rules). Exposing the Duplicati interface to the public Internet\nwithout proper security measures could lead to unauthorised access."}),"\n"]}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Configure backup result reporting:"})," On the Duplicati configuration page, select ",(0,n.jsx)(t.code,{children:"Settings"})," and, in the ",(0,n.jsx)(t.code,{children:"Default Options"})," section, include the following options. Replace 'my.local.server' with your server name or IP address where ",(0,n.jsx)(t.strong,{children:"duplistatus"})," is running."]}),"\n"]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Advanced option"}),(0,n.jsx)(t.th,{children:"Value"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"send-http-url"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"http://my.local.server:9666/api/upload"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"send-http-result-output-format"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Json"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"send-http-log-level"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Information"})})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"send-http-max-log-lines"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"0"})})]})]})]}),"\n",(0,n.jsxs)(t.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,n.jsxs)(t.p,{className:"markdown-alert-title",children:[(0,n.jsx)(t.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,n.jsxs)(t.p,{children:["Click on ",(0,n.jsx)(t.code,{children:"Edit as text"})," and copy the lines below, replacing ",(0,n.jsx)(t.code,{children:"my.local.server"})," with your actual server address."]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"--send-http-url=http://my.local.server:9666/api/upload\n--send-http-result-output-format=Json\n--send-http-log-level=Information\n--send-http-max-log-lines=0\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Duplicati configuration",src:s(6813).A+"",width:"1254",height:"564"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Important notes on messages sent by Duplicati:"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["If you omit ",(0,n.jsx)(t.code,{children:"--send-http-log-level=Information"}),", no log messages will be sent to ",(0,n.jsx)(t.strong,{children:"duplistatus"}),", only statistics. This will prevent the available versions feature from working."]}),"\n",(0,n.jsxs)(t.li,{children:["The recommended configuration is ",(0,n.jsx)(t.code,{children:"--send-http-max-log-lines=0"})," for unlimited messages, since the Duplicati default of 100 messages may prevent the available versions from being received in the log."]}),"\n",(0,n.jsx)(t.li,{children:"If you limit the number of messages, the log messages required to obtain the available backup versions may not be received. This will prevent those versions from being displayed for that backup run."}),"\n"]}),"\n",(0,n.jsxs)(t.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,n.jsxs)(t.p,{className:"markdown-alert-title",children:[(0,n.jsx)(t.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,n.jsxs)(t.p,{children:["After configuring the ",(0,n.jsx)(t.strong,{children:"duplistatus"})," server, collect the backup logs for all your Duplicati servers using ",(0,n.jsx)(t.a,{href:"/duplistatus/user-guide/collect-backup-logs",children:"Collect Backup Logs"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},6493(e,t,s){s.d(t,{R:()=>a,x:()=>o});var i=s(2128);const n={},r=i.createContext(n);function a(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(r.Provider,{value:t},e.children)}},6813(e,t,s){s.d(t,{A:()=>i});const i=s.p+"assets/images/duplicati-options-88c3390baa86562697c9b85fe0a6291e.png"},6960(e,t,s){s.d(t,{A:()=>i});const i=s.p+"assets/images/duplicati-settings-78a687c3a32f9fb5f1432a7c6e65030a.png"}}]);