"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5782],{1285:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var s=n(3303);const i={},a=s.createContext(i);function r(e){const t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:t},e.children)}},7952:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"development/test-scripts","title":"Test Scripts","description":"The project includes several test scripts to help with development and testing:","source":"@site/docs/development/test-scripts.md","sourceDirName":"development","slug":"/development/test-scripts","permalink":"/duplistatus/development/test-scripts","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Release Management","permalink":"/duplistatus/development/release-management"},"next":{"title":"Workspace Admin Scripts & Commands","permalink":"/duplistatus/development/workspace-admin-scripts-commands"}}');var i=n(7711),a=n(1285);const r={},c="Test Scripts",o={},d=[{value:"Generate Test Data",id:"generate-test-data",level:2},{value:"Show the overdue notifications contents (to debug notification system)",id:"show-the-overdue-notifications-contents-to-debug-notification-system",level:2},{value:"Run overdue-check at a specific date/time (to debug notification system)",id:"run-overdue-check-at-a-specific-datetime-to-debug-notification-system",level:2},{value:"Test cron service port connectivity",id:"test-cron-service-port-connectivity",level:2}];function l(e){const t={code:"code",div:"div",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"test-scripts",children:"Test Scripts"})}),"\n",(0,i.jsx)(t.p,{children:"The project includes several test scripts to help with development and testing:"}),"\n",(0,i.jsx)(t.h2,{id:"generate-test-data",children:"Generate Test Data"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"pnpm generate-test-data --servers=N\n"})}),"\n",(0,i.jsx)(t.p,{children:"This script generates test backup data for multiple servers and backups."}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"--servers=N"})," parameter is ",(0,i.jsx)(t.strong,{children:"mandatory"})," and specifies the number of servers to generate (1-30)."]}),"\n",(0,i.jsxs)(t.p,{children:["Use the option ",(0,i.jsx)(t.code,{children:"--upload"})," to send the generated data to the ",(0,i.jsx)(t.code,{children:"/api/upload"})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"pnpm generate-test-data --servers=N --upload\n"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Examples:"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Generate data for 5 servers\npnpm generate-test-data --servers=5\n\n# Generate data for 1 server with upload mode\npnpm generate-test-data --upload --servers=1\n\n# Generate data for all 30 servers\npnpm generate-test-data --servers=30\n"})}),"\n",(0,i.jsxs)(t.div,{className:"markdown-alert markdown-alert-caution",children:["\n",(0,i.jsxs)(t.p,{className:"markdown-alert-title",children:[(0,i.jsx)(t.span,{className:"octicon octicon-caution",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-stop mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Caution"]}),"\n",(0,i.jsx)(t.p,{children:"This script delete all the previous data in the database and replace it with the test data.\nBackup your database before running this script."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"show-the-overdue-notifications-contents-to-debug-notification-system",children:"Show the overdue notifications contents (to debug notification system)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"pnpm show-overdue-notifications\n"})}),"\n",(0,i.jsx)(t.h2,{id:"run-overdue-check-at-a-specific-datetime-to-debug-notification-system",children:"Run overdue-check at a specific date/time (to debug notification system)"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'pnpm run-overdue-check "YYYY-MM-DD HH:MM:SS"\n'})}),"\n",(0,i.jsx)(t.h2,{id:"test-cron-service-port-connectivity",children:"Test cron service port connectivity"}),"\n",(0,i.jsx)(t.p,{children:"To test cron service connectivity, you can:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Check if the cron service is running:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:8667/health\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsx)(t.li,{children:"Or use the cron service API endpoints directly through the main application:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"curl http://localhost:8666/api/cron/health\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsx)(t.li,{children:"Use the test script to verify port connectivity:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"pnpm test-cron-port\n"})}),"\n",(0,i.jsx)(t.p,{children:"This script tests the connectivity to the cron service port and provides detailed information about the connection status."})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);