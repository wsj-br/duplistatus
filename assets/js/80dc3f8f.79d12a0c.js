"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5073],{57553(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"development/development-guidelines","title":"Development Reference","description":"development-reference}","source":"@site/docs/development/development-guidelines.md","sourceDirName":"development","slug":"/development/development-guidelines","permalink":"/duplistatus/development/development-guidelines","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Cron Service","permalink":"/duplistatus/development/cron-service"},"next":{"title":"How I Build this Application using AI tools","permalink":"/duplistatus/development/how-i-build-with-ai"}}');var r=i(36259),l=i(73230);const t={},c="Development Reference {#development-reference}",o={},d=[{value:"Code Organisation",id:"code-organisation",level:2},{value:"Testing &amp; Debugging",id:"testing-debugging",level:2},{value:"Development References",id:"development-references",level:2},{value:"Frameworks &amp; Libraries",id:"frameworks-libraries",level:2},{value:"Runtime &amp; Package Management",id:"runtime-package-management",level:3},{value:"Core Frameworks &amp; Libraries",id:"core-frameworks-libraries",level:3},{value:"Type Checking &amp; Linting",id:"type-checking-linting",level:3},{value:"Build &amp; Deployment",id:"build-deployment",level:3},{value:"Project Configuration",id:"project-configuration",level:3},{value:"System Features",id:"system-features",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"development-reference",children:"Development Reference"})}),"\n",(0,r.jsx)(n.h2,{id:"code-organisation",children:"Code Organisation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Components"}),": ",(0,r.jsx)(n.code,{children:"src/components/"})," with subdirectories:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ui/"})," - shadcn/ui components and reusable UI elements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dashboard/"})," - Dashboard-specific components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"settings/"})," - Settings page components"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"server-details/"})," - Server detail page components"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API Routes"}),": ",(0,r.jsx)(n.code,{children:"src/app/api/"})," with RESTful endpoint structure (see ",(0,r.jsx)(n.a,{href:"../api-reference/overview",children:"API Reference"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Database"}),": SQLite with better-sqlite3, utilities in ",(0,r.jsx)(n.code,{children:"src/lib/db-utils.ts"}),", migrations in ",(0,r.jsx)(n.code,{children:"src/lib/db-migrations.ts"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Types"}),": TypeScript interfaces in ",(0,r.jsx)(n.code,{children:"src/lib/types.ts"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configuration"}),": Default configs in ",(0,r.jsx)(n.code,{children:"src/lib/default-config.ts"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cron Service"}),": ",(0,r.jsx)(n.code,{children:"src/cron-service/"})," (runs on port 8667 dev, 9667 prod)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scripts"}),": Utility scripts in ",(0,r.jsx)(n.code,{children:"scripts/"})," directory"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security"}),": CSRF protection in ",(0,r.jsx)(n.code,{children:"src/lib/csrf-middleware.ts"}),", use ",(0,r.jsx)(n.code,{children:"withCSRF"})," middleware for protected endpoints"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"testing-debugging",children:"Testing & Debugging"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Test data generation: ",(0,r.jsx)(n.code,{children:"pnpm generate-test-data --servers=N"})]}),"\n",(0,r.jsxs)(n.li,{children:["Notification testing: ",(0,r.jsx)(n.code,{children:"/api/notifications/test"})," endpoint"]}),"\n",(0,r.jsxs)(n.li,{children:["Cron health checks: ",(0,r.jsx)(n.code,{children:"curl http://localhost:8667/health"})," or ",(0,r.jsx)(n.code,{children:"curl http://localhost:8666/api/cron/health"})]}),"\n",(0,r.jsxs)(n.li,{children:["Overdue backup testing: ",(0,r.jsx)(n.code,{children:"pnpm run-overdue-check"})]}),"\n",(0,r.jsx)(n.li,{children:"Development mode: verbose logging and JSON file storage"}),"\n",(0,r.jsx)(n.li,{children:"Database maintenance: use maintenance menu for cleanup operations"}),"\n",(0,r.jsxs)(n.li,{children:["Pre-checks: ",(0,r.jsx)(n.code,{children:"scripts/pre-checks.sh"})," for troubleshooting startup issues"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"development-references",children:"Development References"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["API endpoints: See ",(0,r.jsx)(n.a,{href:"../api-reference/overview",children:"API Reference"})]}),"\n",(0,r.jsxs)(n.li,{children:["Database schema: See ",(0,r.jsx)(n.a,{href:"database",children:"Database Schema"})]}),"\n",(0,r.jsxs)(n.li,{children:["Follow patterns in ",(0,r.jsx)(n.code,{children:"src/lib/db-utils.ts"})," for database operations"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"frameworks-libraries",children:"Frameworks & Libraries"}),"\n",(0,r.jsx)(n.h3,{id:"runtime-package-management",children:"Runtime & Package Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node.js >=24.12.0"}),"\n",(0,r.jsx)(n.li,{children:"pnpm >=10.24.0 (packageManager: pnpm@10.30.3)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"core-frameworks-libraries",children:"Core Frameworks & Libraries"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Next.js ^16.1.6 (App Router)"}),"\n",(0,r.jsx)(n.li,{children:"React ^19.2.4 & React-DOM ^19.2.4"}),"\n",(0,r.jsx)(n.li,{children:"Radix UI (@radix-ui/react-*): ^1.1.8 - ^2.2.6 (accordion ^1.2.12, alert-dialog ^1.1.15, avatar ^1.1.11, checkbox ^1.3.3, dialog ^1.1.15, dropdown-menu ^2.1.16, label ^2.1.8, menubar ^1.1.16, popover ^1.1.15, progress ^1.1.8, radio-group ^1.3.8, scroll-area ^1.2.10, select ^2.2.6, separator ^1.1.8, slider ^1.3.6, slot ^1.2.4, switch ^1.2.6, tabs ^1.1.13, toast ^1.2.15, tooltip ^1.2.8)"}),"\n",(0,r.jsx)(n.li,{children:"Tailwind CSS ^4.2.1 + tailwindcss-animate ^1.0.7"}),"\n",(0,r.jsx)(n.li,{children:"Better-sqlite3 ^12.6.2"}),"\n",(0,r.jsx)(n.li,{children:"Recharts ^3.7.0, react-day-picker ^9.14.0, react-hook-form ^7.71.2, react-datepicker ^9.1.0"}),"\n",(0,r.jsx)(n.li,{children:"lucide-react ^0.575.0, clsx ^2.1.1, class-variance-authority ^0.7.1"}),"\n",(0,r.jsx)(n.li,{children:"date-fns ^4.1.0, uuid ^13.0.0"}),"\n",(0,r.jsx)(n.li,{children:"express ^5.2.1 (cron service), node-cron ^4.2.1"}),"\n",(0,r.jsx)(n.li,{children:"nodemailer ^8.0.1, qrcode ^1.5.4"}),"\n",(0,r.jsx)(n.li,{children:"intlayer ^8.1.8, next-intlayer ^8.1.8, react-intlayer ^8.1.8, @intlayer/editor-react ^8.1.8, @intlayer/swc ^8.1.8"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"type-checking-linting",children:"Type Checking & Linting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TypeScript ^5.9.3"}),"\n",(0,r.jsx)(n.li,{children:"TSX ^4.21.0"}),"\n",(0,r.jsxs)(n.li,{children:["ESLint ^9.16.0 (via ",(0,r.jsx)(n.code,{children:"next lint"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"intlayer-editor ^8.1.8"}),"\n",(0,r.jsx)(n.li,{children:"webpack ^5.105.3"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-deployment",children:"Build & Deployment"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Next.js standalone output (",(0,r.jsx)(n.code,{children:"output: 'standalone'"}),") with container entrypoint starting ",(0,r.jsx)(n.code,{children:"server.js"})]}),"\n",(0,r.jsxs)(n.li,{children:["Docker (node",":alpine"," base) with multi-architecture builds (AMD64, ARM64)"]}),"\n",(0,r.jsx)(n.li,{children:"GitHub Actions workflows for CI/CD"}),"\n",(0,r.jsx)(n.li,{children:"Inkscape for logos and pictures"}),"\n",(0,r.jsx)(n.li,{children:"Docusaurus for documentation"}),"\n",(0,r.jsx)(n.li,{children:"Greenfish Icon Editor for icons"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"project-configuration",children:"Project Configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tsconfig.json"}),", ",(0,r.jsx)(n.code,{children:"next.config.ts"}),", ",(0,r.jsx)(n.code,{children:"tailwind.config.ts"}),", ",(0,r.jsx)(n.code,{children:"postcss.config.mjs"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pnpm-workspace.yaml"}),", ",(0,r.jsx)(n.code,{children:"components.json"})," (shadcn/ui)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"system-features",children:"System Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cron Service"}),": Separate service for scheduled tasks, started by ",(0,r.jsx)(n.code,{children:"docker-entrypoint.sh"})," in Docker deployments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Notifications"}),": ntfy.sh integration and SMTP email (nodemailer), configurable templates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Auto-refresh"}),": Configurable automatic refresh for dashboard and detail pages"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},73230(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(71299);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);