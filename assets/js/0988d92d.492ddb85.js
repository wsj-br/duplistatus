"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2485],{5050:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"development/release-management","title":"Release Management","description":"Versioning (Semantic Versioning)","source":"@site/docs/development/release-management.md","sourceDirName":"development","slug":"/development/release-management","permalink":"/duplistatus/development/release-management","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Podman Testing","permalink":"/duplistatus/development/podman-testing"},"next":{"title":"Test Scripts","permalink":"/duplistatus/development/test-scripts"}}');var i=s(2238),r=s(9371);const l={},a="Release Management",o={},c=[{value:"Versioning (Semantic Versioning)",id:"versioning-semantic-versioning",level:2},{value:"Merging <code>devel-MAJOR.MINOR.PATCH</code> to <code>master</code> using command line",id:"merging-devel-majorminorpatch-to-master-using-command-line",level:2},{value:"1. Merge the <code>devel-MAJOR.MINOR.PATCH</code> Branch into <code>master</code>",id:"1-merge-the-devel-majorminorpatch-branch-into-master",level:3},{value:"2. Tag the New Release",id:"2-tag-the-new-release",level:3},{value:"3. Push to GitHub",id:"3-push-to-github",level:3},{value:"Merging <code>devel-MAJOR.MINOR.PATCH</code> to <code>master</code> using GitHub",id:"merging-devel-majorminorpatch-to-master-using-github",level:2},{value:"Creating a GitHub Release",id:"creating-a-github-release",level:2},{value:"Manual Docker Image Build",id:"manual-docker-image-build",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"release-management",children:"Release Management"})}),"\n",(0,i.jsx)(n.h2,{id:"versioning-semantic-versioning",children:"Versioning (Semantic Versioning)"}),"\n",(0,i.jsxs)(n.p,{children:["The project follows Semantic Versioning (SemVer) with the format ",(0,i.jsx)(n.code,{children:"MAJOR.MINOR.PATCH"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"MAJOR"})," version (x.0.0): When you make incompatible API changes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"MINOR"})," version (0.x.0): When you add functionality in a backward-compatible manner"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PATCH"})," version (0.0.x): When you make backward-compatible bug fixes"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"merging-devel-majorminorpatch-to-master-using-command-line",children:["Merging ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," to ",(0,i.jsx)(n.code,{children:"master"})," using command line"]}),"\n",(0,i.jsxs)(n.p,{children:["To release your new version, you'll need to merge the ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," branch into the ",(0,i.jsx)(n.code,{children:"master"})," branch. This process incorporates all the new code from ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," into your stable ",(0,i.jsx)(n.code,{children:"master"})," branch, making it ready for a new release."]}),"\n",(0,i.jsxs)(n.h3,{id:"1-merge-the-devel-majorminorpatch-branch-into-master",children:["1. Merge the ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," Branch into ",(0,i.jsx)(n.code,{children:"master"})]}),"\n",(0,i.jsxs)(n.p,{children:["First, ensure your local ",(0,i.jsx)(n.code,{children:"master"})," branch is up to date with the remote repository. This prevents merge conflicts and ensures you're building on the latest released code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Checkout the master branch\ngit checkout master\n\n# Pull the latest changes from the remote repository\ngit pull origin master\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Next, merge the ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," branch into ",(0,i.jsx)(n.code,{children:"master"}),". This will apply all the changes from ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," to your ",(0,i.jsx)(n.code,{children:"master"})," branch."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Merge the devel-MAJOR.MINOR.PATCH branch into master\ngit merge devel-MAJOR.MINOR.PATCH\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Git will attempt to automatically merge the branches. If there are any ",(0,i.jsx)(n.strong,{children:"merge conflicts"}),", you'll need to manually resolve them in the affected files. After resolving conflicts, use ",(0,i.jsx)(n.code,{children:"git add"})," to stage the changes and ",(0,i.jsx)(n.code,{children:"git commit"})," to finalise the merge."]}),"\n",(0,i.jsx)(n.h3,{id:"2-tag-the-new-release",children:"2. Tag the New Release"}),"\n",(0,i.jsxs)(n.p,{children:["Once the ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," branch is successfully merged into ",(0,i.jsx)(n.code,{children:"master"}),", you should tag the new version. This creates a permanent reference point in your project's history, making it easy to find and revert to specific releases. Use a ",(0,i.jsx)(n.strong,{children:"lightweight"})," or ",(0,i.jsx)(n.strong,{children:"annotated"})," tag, with annotated tags being generally preferred for releases as they include more metadata like a message, author, and date."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create an annotated tag for the new version\ngit tag -a vMAJOR.MINOR.PATCH -m "Release vMAJOR.MINOR.PATCH - New Features and Bug Fixes"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"-a"})," flag creates an annotated tag, and the ",(0,i.jsx)(n.code,{children:"-m"})," flag lets you add a message describing the release."]}),"\n",(0,i.jsx)(n.h3,{id:"3-push-to-github",children:"3. Push to GitHub"}),"\n",(0,i.jsxs)(n.p,{children:["Finally, push both the updated ",(0,i.jsx)(n.code,{children:"master"})," branch and the new tag to your remote GitHub repository. This makes the changes and the new release visible to everyone."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Push the updated master branch\ngit push origin master\n\n# Push the new tag\ngit push origin vMAJOR.MINOR.PATCH\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also push all tags at once using ",(0,i.jsx)(n.code,{children:"git push --tags"}),". After this, the new version will be visible on GitHub, and you can create a new release on the GitHub UI associated with your new tag."]}),"\n",(0,i.jsxs)(n.h2,{id:"merging-devel-majorminorpatch-to-master-using-github",children:["Merging ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," to ",(0,i.jsx)(n.code,{children:"master"})," using GitHub"]}),"\n",(0,i.jsxs)(n.p,{children:["Instead of a direct merge, you will create a ",(0,i.jsx)(n.strong,{children:"Pull Request (PR)"})," from ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," to ",(0,i.jsx)(n.code,{children:"master"}),". A pull request is a formal way to propose and review changes before they're merged."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.a,{href:"https://github.com/wsj-br/duplistatus",children:"duplistatus repository"})," on GitHub."]}),"\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:'"Pull requests"'})," tab."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:'"New pull request."'})]}),"\n",(0,i.jsxs)(n.li,{children:["Set the ",(0,i.jsx)(n.strong,{children:"base branch"})," to ",(0,i.jsx)(n.code,{children:"master"})," and the ",(0,i.jsx)(n.strong,{children:"compare branch"})," to ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"GitHub will show a preview of all the changes. Review them and ensure there are no conflicts."}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:'"Create pull request."'})]}),"\n",(0,i.jsxs)(n.li,{children:["Add a title and description, then click ",(0,i.jsx)(n.strong,{children:'"Create pull request"'})," again."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After the pull request is created, you will see a green ",(0,i.jsx)(n.strong,{children:'"Merge pull request"'})," button if there are no conflicts. Clicking this button will merge all the commits from ",(0,i.jsx)(n.code,{children:"devel-MAJOR.MINOR.PATCH"})," into ",(0,i.jsx)(n.code,{children:"master"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"creating-a-github-release",children:"Creating a GitHub Release"}),"\n",(0,i.jsx)(n.p,{children:"Once the merge is complete, you can create a new release on GitHub, which automatically creates a tag for you."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.a,{href:"https://github.com/wsj-br/duplistatus",children:"duplistatus repository"})," on GitHub."]}),"\n",(0,i.jsxs)(n.li,{children:["Go to the ",(0,i.jsx)(n.strong,{children:'"Releases"'})," section"]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:'"Draft a new release."'})]}),"\n",(0,i.jsxs)(n.li,{children:["In the ",(0,i.jsx)(n.strong,{children:'"Choose a tag"'})," field, type your new version number in the format ",(0,i.jsx)(n.code,{children:"vMAJOR.MINOR.PATCH"}),", like ",(0,i.jsx)(n.code,{children:"v0.8.18"}),". This will create a new tag."]}),"\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.code,{children:"master"})," as the target branch."]}),"\n",(0,i.jsxs)(n.li,{children:["Add a ",(0,i.jsx)(n.strong,{children:"release title"})," and ",(0,i.jsx)(n.strong,{children:"description"})," to document the changes in this version."]}),"\n",(0,i.jsxs)(n.li,{children:["Click ",(0,i.jsx)(n.strong,{children:'"Publish release."'})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This will automatically:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create new Docker images (AMD64 and ARM64 architectures)"}),"\n",(0,i.jsx)(n.li,{children:"Push the images to Docker Hub"}),"\n",(0,i.jsxs)(n.li,{children:["Push the images to GitHub Container Registry (ghcr.io/wsj-br/duplistatus",":latest",")"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"manual-docker-image-build",children:"Manual Docker Image Build"}),"\n",(0,i.jsx)(n.p,{children:"To manually trigger the Docker image build workflow:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to ",(0,i.jsx)(n.a,{href:"https://github.com/wsj-br/duplistatus",children:"duplistatus repository"})," on GitHub."]}),"\n",(0,i.jsx)(n.li,{children:'Click on "Actions" tab'}),"\n",(0,i.jsx)(n.li,{children:'Select the "Build and Publish Docker Image" workflow'}),"\n",(0,i.jsx)(n.li,{children:'Click "Run workflow"'}),"\n",(0,i.jsx)(n.li,{children:"Select the branch to build from"}),"\n",(0,i.jsx)(n.li,{children:'Click "Run workflow"'}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},9371:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var t=s(3790);const i={},r=t.createContext(i);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);