"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9232],{64681(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"installation/installation","title":"Installation Guide","description":"installation-guide}","source":"@site/docs/installation/installation.md","sourceDirName":"installation","slug":"/installation/","permalink":"/duplistatus/installation/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Welcome to duplistatus","permalink":"/duplistatus/intro"},"next":{"title":"Timezone","permalink":"/duplistatus/installation/configure-tz"}}');var t=s(36259),o=s(73230);const a={},r="Installation Guide {#installation-guide}",d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Container Images",id:"container-images",level:3},{value:"Option 1: Using Docker Compose",id:"option-1-using-docker-compose",level:3},{value:"Option 2: Using Portainer Stacks (Docker Compose)",id:"option-2-using-portainer-stacks-docker-compose",level:3},{value:"Option 3: Using Portainer Stacks (GitHub Repository)",id:"option-3-using-portainer-stacks-github-repository",level:3},{value:"Option 4: Using Docker CLI",id:"option-4-using-docker-cli",level:3},{value:"Option 5: Using Podman (CLI) <code>rootless</code>",id:"option-5-using-podman-cli-rootless",level:3},{value:"Configuring DNS for Podman Containers",id:"configuring-dns-for-podman-containers",level:4},{value:"Option 6: Using Podman Pods",id:"option-6-using-podman-pods",level:3},{value:"Configuring DNS for Podman Pods",id:"configuring-dns-for-podman-pods",level:4},{value:"Essential Configuration",id:"essential-configuration",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"installation-guide",children:"Installation Guide"})}),"\n",(0,t.jsxs)(n.p,{children:["The application can be deployed using Docker, ",(0,t.jsx)(n.a,{href:"https://docs.portainer.io/user/docker/stacks",children:"Portainer Stacks"}),", or Podman. After the installation, you may want to configure the TIMEZONE, as described in the ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/configure-tz",children:"Configure Timezone"})," and need to configure the Duplicati servers to send backup logs to ",(0,t.jsx)(n.strong,{children:"duplistatus"}),", as outlined in the ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/duplicati-server-configuration",children:"Duplicati Configuration"})," section."]}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,t.jsx)(n.p,{children:"Ensure you have the following installed:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Docker Engine - ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/engine/install/debian/",children:"Debian installation guide"})]}),"\n",(0,t.jsxs)(n.li,{children:["Docker Compose - ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/compose/install/linux/",children:"Linux installation guide"})]}),"\n",(0,t.jsxs)(n.li,{children:["Portainer (optional) - ",(0,t.jsx)(n.a,{href:"https://docs.portainer.io/start/install-ce/server/docker/linux",children:"Docker installation guide"})]}),"\n",(0,t.jsxs)(n.li,{children:["Podman (optional) - ",(0,t.jsx)(n.a,{href:"http://podman.io/docs/installation#debian",children:"Installation guide"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"duplistatus"})," since version 0.9.x requires user authentication. A default ",(0,t.jsx)(n.code,{children:"admin"})," account is created automatically when installing the application for the first time or upgrading from an earlier version:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["username: ",(0,t.jsx)(n.code,{children:"admin"})]}),"\n",(0,t.jsxs)(n.li,{children:["password: ",(0,t.jsx)(n.code,{children:"Duplistatus09"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You can create additional users accounts in ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/settings/user-management-settings",children:"Settings > Users"})," after the first login."]}),"\n",(0,t.jsx)(n.admonition,{title:"IMPORTANT",type:"info",children:(0,t.jsxs)(n.p,{children:["The system enforces a minimum password length and complexity. These requirements can be adjusted using the ",(0,t.jsx)(n.code,{children:"PWD_ENFORCE"})," and ",(0,t.jsx)(n.code,{children:"PWD_MIN_LEN"})," ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/environment-variables",children:"environment variables"}),". Using a password without sufficient complexity or with a short length can compromise security. Please use these settings carefully."]})}),"\n",(0,t.jsx)(n.h3,{id:"container-images",children:"Container Images"}),"\n",(0,t.jsx)(n.p,{children:"You can use the images from:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docker Hub"}),": ",(0,t.jsx)(n.code,{children:"docker.io/wsjbr/duplistatus:latest"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"GitHub Container Registry"}),": ",(0,t.jsx)(n.code,{children:"ghcr.io/wsj-br/duplistatus:latest"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"option-1-using-docker-compose",children:"Option 1: Using Docker Compose"}),"\n",(0,t.jsxs)(n.p,{children:["This is the recommended method for local deployments or when you want to customise the configuration. It uses a ",(0,t.jsx)(n.code,{children:"docker compose"})," file to define and run the container with all its settings."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# download the compose file\nwget https://github.com/wsj-br/duplistatus/raw/refs/heads/master/production.yml -O duplistatus.yml\n# start the container\ndocker compose -f duplistatus.yml up -d\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Check ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/configure-tz",children:"Timezone"})," section to more details on how to adjust timezone and number/date/time format."]}),"\n",(0,t.jsx)(n.h3,{id:"option-2-using-portainer-stacks-docker-compose",children:"Option 2: Using Portainer Stacks (Docker Compose)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:['Go to "Stacks" in your ',(0,t.jsx)(n.a,{href:"https://docs.portainer.io/user/docker/stacks",children:"Portainer"}),' server and click "Add stack".']}),"\n",(0,t.jsx)(n.li,{children:'Name your stack (e.g., "duplistatus").'}),"\n",(0,t.jsx)(n.li,{children:'Choose "Build method" as "Web editor".'}),"\n",(0,t.jsx)(n.li,{children:"Copy and paste this in the web editor:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:'# duplistatus production compose.yml\nservices:\n  duplistatus:\n    image: ghcr.io/wsj-br/duplistatus:latest\n    container_name: duplistatus\n    restart: unless-stopped\n    environment:\n      - TZ=Europe/London\n      - PWD_ENFORCE=true\n      - PWD_MIN_LEN=8\n    ports:\n      - "9666:9666"\n    volumes:\n      - duplistatus_data:/app/data\n    networks:\n      - duplistatus_network\n\nnetworks:\n  duplistatus_network:\n    driver: bridge\n\nvolumes:\n  duplistatus_data:\n    name: duplistatus_data\n'})}),"\n",(0,t.jsxs)(n.ol,{start:"5",children:["\n",(0,t.jsxs)(n.li,{children:["Check the ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/configure-tz",children:"Timezone"})," section to more details on how to adjust the timezone and number/date/time format."]}),"\n",(0,t.jsx)(n.li,{children:'Click "Deploy the stack".'}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"option-3-using-portainer-stacks-github-repository",children:"Option 3: Using Portainer Stacks (GitHub Repository)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["In ",(0,t.jsx)(n.a,{href:"https://docs.portainer.io/user/docker/stacks",children:"Portainer"}),', go to "Stacks" and click "Add stack".']}),"\n",(0,t.jsx)(n.li,{children:'Name your stack (e.g., "duplistatus").'}),"\n",(0,t.jsx)(n.li,{children:'Choose "Build method" as "Repository".'}),"\n",(0,t.jsxs)(n.li,{children:["Enter the repository URL: ",(0,t.jsx)(n.code,{children:"https://github.com/wsj-br/duplistatus.git"})]}),"\n",(0,t.jsxs)(n.li,{children:['In the "Compose path" field, enter: ',(0,t.jsx)(n.code,{children:"production.yml"})]}),"\n",(0,t.jsxs)(n.li,{children:["(optional) Set the ",(0,t.jsx)(n.code,{children:"TZ"}),", ",(0,t.jsx)(n.code,{children:"LANG"}),", ",(0,t.jsx)(n.code,{children:"PWD_ENFORCE"})," and ",(0,t.jsx)(n.code,{children:"PWD_MIN_LEN"}),' environment variables in the "Environment variables" section. Check the ',(0,t.jsx)(n.a,{href:"/duplistatus/installation/configure-tz",children:"Timezone"})," section to more details on how to adjust the timezone and number/date/time format."]}),"\n",(0,t.jsx)(n.li,{children:'Click "Deploy the stack".'}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"option-4-using-docker-cli",children:"Option 4: Using Docker CLI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create the volume\ndocker volume create duplistatus_data\n\n# Start the container\ndocker run -d \\\n  --name duplistatus \\\n  -p 9666:9666 \\\n  -e TZ=Europe/London \\\n  -e LANG=en_GB \\\n  -v duplistatus_data:/app/data \\\n  ghcr.io/wsj-br/duplistatus:latest\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"duplistatus_data"})," volume is used for persistent storage. The container image uses ",(0,t.jsx)(n.code,{children:"Europe/London"})," as the default timezone and ",(0,t.jsx)(n.code,{children:"en_GB"})," as the default locale (language)."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"option-5-using-podman-cli-rootless",children:["Option 5: Using Podman (CLI) ",(0,t.jsx)(n.code,{children:"rootless"})]}),"\n",(0,t.jsx)(n.p,{children:"For basic setups, you can start the container without DNS configuration:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/duplistatus_data\n# Start the container (standalone)\npodman run -d \\\n  --name duplistatus \\\n  --userns=keep-id \\\n  -e TZ=Europe/London \\\n  -e LANG=en_GB \\\n  -p 9666:9666 \\\n  -v ~/duplistatus_data:/app/data \\\n  ghcr.io/wsj-br/duplistatus:latest\n"})}),"\n",(0,t.jsx)(n.h4,{id:"configuring-dns-for-podman-containers",children:"Configuring DNS for Podman Containers"}),"\n",(0,t.jsx)(n.p,{children:"If you need custom DNS configuration (e.g., for Tailscale MagicDNS, corporate networks, or custom DNS setups), you can manually configure DNS servers and search domains."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Finding your DNS configuration:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For systemd-resolved systems"})," (most modern Linux distributions):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Get DNS servers\nresolvectl status | grep "DNS Servers:" | awk \'{print "--dns " $3}\'\n\n# Get DNS search domains\nresolvectl status | grep "DNS Domain:" | awk \'{print "--dns-search " $3}\'\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"For non-systemd systems"})," or as a fallback:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cat /run/systemd/resolve/resolv.conf 2>/dev/null || cat /etc/resolv.conf\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Look for lines beginning with ",(0,t.jsx)(n.code,{children:"nameserver"})," (for DNS servers) and ",(0,t.jsx)(n.code,{children:"search"})," (for search domains). If you are unsure of your DNS settings or network search domains, consult your network administrator for this information."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example with DNS configuration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/duplistatus_data\n# Start the container with DNS configuration\npodman run -d \\\n  --name duplistatus \\\n  --userns=keep-id \\\n  --dns 100.100.100.100 \\\n  --dns-search example.com \\\n  -e TZ=Europe/London \\\n  -e LANG=en_GB \\\n  -p 9666:9666 \\\n  -v ~/duplistatus_data:/app/data \\\n  ghcr.io/wsj-br/duplistatus:latest\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can specify multiple DNS servers by adding multiple ",(0,t.jsx)(n.code,{children:"--dns"})," flags:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"--dns 8.8.8.8 --dns 1.1.1.1\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can specify multiple search domains by adding multiple ",(0,t.jsx)(n.code,{children:"--dns-search"})," flags:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"--dns-search example.com --dns-search internal.local\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": Skip IPv6 addresses (containing ",(0,t.jsx)(n.code,{children:":"}),") and localhost addresses (like ",(0,t.jsx)(n.code,{children:"127.0.0.53"}),") when configuring DNS servers."]}),"\n",(0,t.jsxs)(n.p,{children:["Check the ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/configure-tz",children:"Timezone"})," section for more details on how to adjust the timezone and number/date/time format."]}),"\n",(0,t.jsx)(n.h3,{id:"option-6-using-podman-pods",children:"Option 6: Using Podman Pods"}),"\n",(0,t.jsx)(n.p,{children:"Podman pods allow you to run multiple containers in a shared network namespace. This is useful for testing or when you need to run duplistatus alongside other containers."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Basic pod setup:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/duplistatus_data\n\n# Create the pod\npodman pod create --name duplistatus-pod --publish 9666:9666/tcp\n\n# Create the container in the pod\npodman create --name duplistatus \\\n  --pod duplistatus-pod \\\n  --user root \\\n  -e TZ=Europe/London \\\n  -e LANG=en_GB \\\n  -v ~/duplistatus_data:/app/data \\\n  ghcr.io/wsj-br/duplistatus:latest\n\n# Start the pod\npodman pod start duplistatus-pod\n"})}),"\n",(0,t.jsx)(n.h4,{id:"configuring-dns-for-podman-pods",children:"Configuring DNS for Podman Pods"}),"\n",(0,t.jsx)(n.p,{children:"When using pods, DNS configuration must be set at the pod level, not the container level.\nUse the same methods described in Option 5 to find your DNS servers and search domains."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example with DNS configuration:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mkdir -p ~/duplistatus_data\n\n# Create the pod with DNS configuration\npodman pod create --name duplistatus-pod \\\n  --publish 9666:9666/tcp \\\n  --dns 100.100.100.100 \\\n  --dns-search example.com\n\n# Create the container in the pod\npodman create --name duplistatus \\\n  --pod duplistatus-pod \\\n  --user root \\\n  -e TZ=Europe/London \\\n  -e LANG=en_GB \\\n  -v ~/duplistatus_data:/app/data \\\n  ghcr.io/wsj-br/duplistatus:latest\n\n# Start the pod\npodman pod start duplistatus-pod\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Managing the pod:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Stop the pod (stops all containers in the pod)\npodman pod stop duplistatus-pod\n\n# Start the pod\npodman pod start duplistatus-pod\n\n# Remove the pod and all containers\npodman pod rm -f duplistatus-pod\n"})}),"\n",(0,t.jsx)(n.h2,{id:"essential-configuration",children:"Essential Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Configure your ",(0,t.jsx)(n.a,{href:"/duplistatus/installation/duplicati-server-configuration",children:"Duplicati servers"})," to send backup log messages to duplistatus (required)."]}),"\n",(0,t.jsxs)(n.li,{children:["Log in to duplistatus \u2013 see instructions in the ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/overview#accessing-the-dashboard",children:"User Guide"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Collect initial backup logs \u2013 use the ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/collect-backup-logs",children:"Collect Backup Logs"})," feature to populate the database with historical backup data from all your Duplicati servers. This also automatically updates the backup monitoring intervals based on each server\u2019s configuration."]}),"\n",(0,t.jsxs)(n.li,{children:["Configure server settings \u2013 set up server aliases and notes in ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/settings/server-settings",children:"Settings \u2192 Server"})," to make your dashboard more informative."]}),"\n",(0,t.jsxs)(n.li,{children:["Configure NTFY settings \u2013 set up notifications via NTFY in ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/settings/ntfy-settings",children:"Settings \u2192 NTFY"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Configure email settings \u2013 set up email notifications in ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/settings/email-settings",children:"Settings \u2192 Email"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Configure backup notifications \u2013 set up per-backup or per-server notifications in ",(0,t.jsx)(n.a,{href:"/duplistatus/user-guide/settings/backup-notifications-settings",children:"Settings \u2192 Backup Notifications"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"See the following sections to configure optional settings such as timezone, number format, and HTTPS."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},73230(e,n,s){s.d(n,{R:()=>a,x:()=>r});var i=s(71299);const t={},o=i.createContext(t);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);