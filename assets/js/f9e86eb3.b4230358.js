"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2233],{1285:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(3303);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},7605:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"installation/https-setup","title":"HTTPS Setup (Optional)","description":"For production deployments, it\'s recommended to serve duplistatus over HTTPS using a reverse proxy. This section provides configuration examples for popular reverse proxy solutions.","source":"@site/docs/installation/https-setup.md","sourceDirName":"installation","slug":"/installation/https-setup","permalink":"/duplistatus/installation/https-setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Duplicati Server Configuration (Required)","permalink":"/duplistatus/installation/duplicati-server-configuration"},"next":{"title":"Overview","permalink":"/duplistatus/user-guide/overview"}}');var r=t(7711),i=t(1285);const o={},a="HTTPS Setup (Optional)",l={},c=[{value:"Option 1: Nginx with Certbot (Let&#39;s Encrypt)",id:"option-1-nginx-with-certbot-lets-encrypt",level:3},{value:"Option 2: Caddy",id:"option-2-caddy",level:3},{value:"Important Notes",id:"important-notes",level:3}];function d(e){const n={a:"a",code:"code",div:"div",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"https-setup-optional",children:"HTTPS Setup (Optional)"})}),"\n",(0,r.jsxs)(n.p,{children:["For production deployments, it's recommended to serve ",(0,r.jsx)(n.strong,{children:"duplistatus"})," over HTTPS using a reverse proxy. This section provides configuration examples for popular reverse proxy solutions."]}),"\n",(0,r.jsx)(n.h3,{id:"option-1-nginx-with-certbot-lets-encrypt",children:"Option 1: Nginx with Certbot (Let's Encrypt)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://nginx.org/",children:"Nginx"})," is a popular web server that can act as a reverse proxy, and ",(0,r.jsx)(n.a,{href:"https://certbot.eff.org/",children:"Certbot"})," provides free SSL certificates from Let's Encrypt."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Prerequisites:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Domain name pointing to your server"}),"\n",(0,r.jsx)(n.li,{children:"Nginx installed on your system"}),"\n",(0,r.jsx)(n.li,{children:"Certbot installed for your operating system"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Install Nginx and Certbot"})}),"\n",(0,r.jsx)(n.p,{children:"For Ubuntu/Debian:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install nginx certbot python3-certbot-nginx\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Create Nginx configuration"})}),"\n",(0,r.jsxs)(n.p,{children:["Create ",(0,r.jsx)(n.code,{children:"/etc/nginx/sites-available/duplistatus"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 80;\n    server_name your-domain.com;\n\n    location / {\n        proxy_pass http://localhost:9666;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Enable the site and obtain SSL certificate"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable the site\nsudo ln -s /etc/nginx/sites-available/duplistatus /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl reload nginx\n\n# Obtain SSL certificate\nsudo certbot --nginx -d your-domain.com\n"})}),"\n",(0,r.jsx)(n.p,{children:"Certbot will automatically update your Nginx configuration to include SSL settings and redirect HTTP to HTTPS."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Documentation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://nginx.org/en/docs/",children:"Nginx Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://certbot.eff.org/instructions",children:"Certbot Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://letsencrypt.org/docs/",children:"Let's Encrypt Documentation"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"option-2-caddy",children:"Option 2: Caddy"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://caddyserver.com/",children:"Caddy"})," is a modern web server with automatic HTTPS that simplifies SSL certificate management."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Prerequisites:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Domain name pointing to your server"}),"\n",(0,r.jsx)(n.li,{children:"Caddy installed on your system"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Install Caddy"})}),"\n",(0,r.jsxs)(n.p,{children:["Follow the ",(0,r.jsx)(n.a,{href:"https://caddyserver.com/docs/install",children:"official installation guide"})," for your operating system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Create Caddyfile"})}),"\n",(0,r.jsxs)(n.p,{children:["Create a ",(0,r.jsx)(n.code,{children:"Caddyfile"})," with the following content:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-caddy",children:"your-domain.com {\n    reverse_proxy localhost:9666\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Run Caddy"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo caddy run --config Caddyfile\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or use it as a system service:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo caddy start --config Caddyfile\n"})}),"\n",(0,r.jsx)(n.p,{children:"Caddy will automatically obtain and manage SSL certificates from Let's Encrypt."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Documentation:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://caddyserver.com/docs/",children:"Caddy Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://caddyserver.com/docs/caddyfile/directives/reverse_proxy",children:"Caddy Reverse Proxy Guide"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"important-notes",children:"Important Notes"}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-important",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,r.jsx)(n.span,{className:"octicon octicon-important",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-report mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Important"]}),"\n",(0,r.jsx)(n.p,{children:"After setting up HTTPS, remember to update your Duplicati server configuration to use the HTTPS URL:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"--send-http-url=https://your-domain.com/api/upload\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"markdown-alert markdown-alert-tip",children:["\n",(0,r.jsxs)(n.p,{className:"markdown-alert-title",children:[(0,r.jsx)(n.span,{className:"octicon octicon-tip",style:{"--oct-icon":"url(\"data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' class='octicon octicon-light-bulb mr-2' viewBox='0 0 16 16' version='1.1' width='16' height='16' aria-hidden='true'%3E%3Cpath d='M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z'%3E%3C/path%3E%3C/svg%3E\")"}}),"Tip"]}),"\n",(0,r.jsx)(n.p,{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Replace ",(0,r.jsx)(n.code,{children:"your-domain.com"})," with your actual domain name"]}),"\n",(0,r.jsx)(n.li,{children:"Ensure your domain's DNS A record points to your server's IP address"}),"\n",(0,r.jsx)(n.li,{children:"Both solutions will automatically renew SSL certificates"}),"\n",(0,r.jsx)(n.li,{children:"Consider setting up a firewall to only allow HTTP/HTTPS traffic"}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);