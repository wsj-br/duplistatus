<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-development/translation-workflow" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Translation Maintenance Workflow | duplistatus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wsj-br.github.io/duplistatus/img/duplistatus_banner.png"><meta data-rh="true" name="twitter:image" content="https://wsj-br.github.io/duplistatus/img/duplistatus_banner.png"><meta data-rh="true" property="og:url" content="https://wsj-br.github.io/duplistatus/development/translation-workflow"><meta data-rh="true" property="og:locale" content="en_GB"><meta data-rh="true" property="og:locale:alternate" content="fr_FR"><meta data-rh="true" property="og:locale:alternate" content="de_DE"><meta data-rh="true" property="og:locale:alternate" content="es_ES"><meta data-rh="true" property="og:locale:alternate" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Translation Maintenance Workflow | duplistatus"><meta data-rh="true" name="description" content="translation-maintenance-workflow}"><meta data-rh="true" property="og:description" content="translation-maintenance-workflow}"><link data-rh="true" rel="icon" href="/duplistatus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wsj-br.github.io/duplistatus/development/translation-workflow"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/development/translation-workflow" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/fr/development/translation-workflow" hreflang="fr-FR"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/de/development/translation-workflow" hreflang="de-DE"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/es/development/translation-workflow" hreflang="es-ES"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/pt-BR/development/translation-workflow" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/development/translation-workflow" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Translation Maintenance Workflow","item":"https://wsj-br.github.io/duplistatus/development/translation-workflow"}]}</script><link rel="stylesheet" href="/duplistatus/assets/css/styles.aed85881.css">
<script src="/duplistatus/assets/js/runtime~main.bc85f67b.js" defer="defer"></script>
<script src="/duplistatus/assets/js/main.d5f2541b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/duplistatus/img/duplistatus_logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_SZKn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/duplistatus/"><div class="navbar__logo"><img src="/duplistatus/img/duplistatus_logo.png" alt="duplistatus Logo" class="themedComponent_cTri themedComponent--light_TKVi" height="40" width="40"><img src="/duplistatus/img/duplistatus_logo.png" alt="duplistatus Logo" class="themedComponent_cTri themedComponent--dark_SYJk" height="40" width="40"></div><b class="navbar__title text--truncate">duplistatus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/duplistatus/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_LkYb"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/duplistatus/development/translation-workflow" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-GB">English</a></li><li><a href="/duplistatus/fr/development/translation-workflow" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr-FR">Français</a></li><li><a href="/duplistatus/de/development/translation-workflow" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de-DE">Deutsch</a></li><li><a href="/duplistatus/es/development/translation-workflow" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es-ES">Español</a></li><li><a href="/duplistatus/pt-BR/development/translation-workflow" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt-BR">Português (Brasil)</a></li></ul></div><div class="navbarSearchContainer_JmwV"><div class="navbar__search searchBarContainer_aFde" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_CzRB" value=""><div class="loadingRing_x5At searchBarLoadingRing_l9zA"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item"><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="GitHub repository" class="navbar__item navbar__link github-icon-link"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div><button class="colorModeToggle_jR5Q dark_W2Sb" type="button" title="Switch to light mode" aria-label="Switch to light mode"><div class="track_brXu"><div class="slider_GjI5"><span></span></div></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_oMjM"><div class="docsWrapper_UMlk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_BAOb" type="button"></button><div class="docRoot_THYd"><aside class="theme-doc-sidebar-container docSidebarContainer_H1qq"><div class="sidebarViewport_k2uA"><div class="sidebar_JWm2"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_ZQir"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/duplistatus/intro"><span title="Welcome to duplistatus" class="linkLabel_P901">Welcome to duplistatus</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/installation"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Installation</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/user-guide/overview"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>User Guide</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/migration/version_upgrade"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Migration</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/api-reference/overview"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>API Reference</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/duplistatus/development/setup"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Development</span></span></span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/setup"><span title="Development Setup" class="linkLabel_P901">Development Setup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/devel"><span title="Most used commands" class="linkLabel_P901">Most used commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/database"><span title="Database Schema" class="linkLabel_P901">Database Schema</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/documentation-tools"><span title="Documentation Tools" class="linkLabel_P901">Documentation Tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/duplistatus/development/translation-workflow"><span title="Translation Maintenance Workflow" class="linkLabel_P901">Translation Maintenance Workflow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/podman-testing"><span title="Podman Testing" class="linkLabel_P901">Podman Testing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/release-management"><span title="Release Management" class="linkLabel_P901">Release Management</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/test-scripts"><span title="Test Scripts" class="linkLabel_P901">Test Scripts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/workspace-admin-scripts-commands"><span title="Workspace Admin Scripts &amp; Commands" class="linkLabel_P901">Workspace Admin Scripts &amp; Commands</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/cron-service"><span title="Cron Service" class="linkLabel_P901">Cron Service</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/development-guidelines"><span title="Development Reference" class="linkLabel_P901">Development Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/development/how-i-build-with-ai"><span title="How I Build this Application using AI tools" class="linkLabel_P901">How I Build this Application using AI tools</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/release-notes/1.3.1"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Release Notes</span></span></span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_bKGx"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_pCMQ"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_SsdW"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_FZ0Z"><div class="docItemContainer_rmlx"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_vUay" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/duplistatus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_X05m"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Translation Maintenance Workflow</span></li></ul></nav><div class="tocCollapsible_FvtO theme-doc-toc-mobile tocMobile_VLZk"><button type="button" class="clean-btn tocCollapsibleButton_J0_X">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Translation Maintenance Workflow</h1></header>
<p>For general documentation commands (build, deploy, screenshots, README generation), see <a class="" href="/duplistatus/development/documentation-tools">Documentation Tools</a>.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>The documentation uses Docusaurus i18n with English as the default locale. Source documentation lives in <code>docs/</code>; translations are written to <code>i18n/{locale}/docusaurus-plugin-content-docs/current/</code>. Supported locales: en (default), fr, de, es, pt-BR.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="when-english-documentation-changes">When English Documentation Changes<a href="#when-english-documentation-changes" class="hash-link" aria-label="Direct link to When English Documentation Changes" title="Direct link to When English Documentation Changes" translate="no">​</a></h2>
<ol>
<li class=""><strong>Update source files</strong> in <code>docs/</code></li>
<li class=""><strong>Run extraction</strong> (if Docusaurus UI strings changed): <code>pnpm write-translations</code></li>
<li class=""><strong>Update glossary</strong> (if intlayer translations changed): <code>pnpm translate:glossary-ui</code></li>
<li class=""><strong>Add the Heading IDs</strong>: <code>pnpm heading-ids</code></li>
<li class=""><strong>Run AI translation</strong>: <code>pnpm translate</code> (translates docs, JSON UI strings, and SVGs; use <code>--no-svg</code> for docs only, <code>--no-json</code> to skip UI strings)</li>
<li class=""><strong>UI strings</strong> (if Docusaurus UI changed): <code>pnpm write-translations</code> extracts new keys; docs, JSON UI strings, and SVGs are translated by the AI scripts above</li>
<li class=""><strong>Test builds</strong>: <code>pnpm build</code> (builds all locales)</li>
<li class=""><strong>Deploy</strong>: Use your deployment process (e.g. <code>pnpm deploy</code> for GitHub Pages)</li>
</ol>
<br>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="adding-new-languages">Adding New Languages<a href="#adding-new-languages" class="hash-link" aria-label="Direct link to Adding New Languages" title="Direct link to Adding New Languages" translate="no">​</a></h2>
<ol>
<li class="">Add locale to <code>docusaurus.config.ts</code> in the <code>i18n.locales</code> array</li>
<li class="">Add locale config in <code>localeConfigs</code> object</li>
<li class="">Update search plugin <code>language</code> array (use appropriate language code, e.g. <code>pt</code> for pt-BR)</li>
<li class="">Add locale to <code>translate.config.json</code> in <code>locales.targets</code> (for AI translation)</li>
<li class="">Run AI translation: <code>pnpm translate</code> (translates docs, JSON UI strings, and SVGs)</li>
<li class="">Create UI translation files: <code>pnpm write-translations</code> (generates structure); translate docs, JSON UI strings, and SVGs with <code>pnpm translate</code></li>
</ol>
<br>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="ai-powered-translation">AI-Powered Translation<a href="#ai-powered-translation" class="hash-link" aria-label="Direct link to AI-Powered Translation" title="Direct link to AI-Powered Translation" translate="no">​</a></h2>
<p>The project includes an automated translation system using the OpenRouter API that can translate documentation to French, German, Spanish, and Brazilian Portuguese with intelligent caching and glossary enforcement.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h3>
<ol>
<li class="">
<p><strong>OpenRouter API Key</strong>: Set the <code>OPENROUTER_API_KEY</code> environment variable:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(214, 222, 235)">OPENROUTER_API_KEY</span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain">sk-or-v1-your-key-here</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Install Dependencies</strong>: Dependencies are in <code>package.json</code>. Install with:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> documentation</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Configuration</strong>: The <code>translate.config.json</code> file contains default settings. You can customize models, locales, and paths as needed.</p>
<p>To see a summary of all translation commands and the translate script options:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">help</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:help</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="basic-usage">Basic Usage<a href="#basic-usage" class="hash-link" aria-label="Direct link to Basic Usage" title="Direct link to Basic Usage" translate="no">​</a></h3>
<p><strong>Translate all documentation to all locales:</strong></p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> documentation</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate</span><br></span></code></pre></div></div>
<p><strong>Translate to a specific locale:</strong></p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--locale</span><span class="token plain"> fr    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># French</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--locale</span><span class="token plain"> de    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># German</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--locale</span><span class="token plain"> es    </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Spanish</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--locale</span><span class="token plain"> pt-br </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Brazilian Portuguese</span><br></span></code></pre></div></div>
<p><strong>Translate a specific file or directory:</strong></p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--path</span><span class="token plain"> docs/intro.md</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--path</span><span class="token plain"> docs/development/</span><br></span></code></pre></div></div>
<p><strong>Preview without making changes (dry run):</strong></p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate --dry-run</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="model-configuration">Model Configuration<a href="#model-configuration" class="hash-link" aria-label="Direct link to Model Configuration" title="Direct link to Model Configuration" translate="no">​</a></h3>
<p>The translation system uses models configured in <code>translate.config.json</code>, one primary and a fallback.</p>
<table><thead><tr><th>Configuration</th><th>Notes</th><th>Default Model</th></tr></thead><tbody><tr><td>defaultModel</td><td>Main model for translations</td><td><code>anthropic/claude-3.5-haiku</code></td></tr><tr><td>fallbackModel</td><td>Fallback used if primary model fail</td><td><code>anthropic/claude-haiku-4.5</code></td></tr></tbody></table>
<p>Check a list of all available models and cost associated at <a href="https://openrouter.ai/models" target="_blank" rel="noopener noreferrer" class="">Openrouter.ai page</a></p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="testing-the-quality-of-the-translation">Testing the quality of the translation<a href="#testing-the-quality-of-the-translation" class="hash-link" aria-label="Direct link to Testing the quality of the translation" title="Direct link to Testing the quality of the translation" translate="no">​</a></h3>
<p>To test the quality of a new model, change the <code>defaultModel</code> in the <code>translate.config.json</code> and run the translation for one file, for instance:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--force</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--path</span><span class="token plain"> docs/intro.md --no-cache </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--locale</span><span class="token plain"> pt-BR</span><br></span></code></pre></div></div>
<p>and check the translated file in the <code>i18n/pt-BR/docusaurus-plugin-content-docs/current/intro.md</code></p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="ignore-files">Ignore Files<a href="#ignore-files" class="hash-link" aria-label="Direct link to Ignore Files" title="Direct link to Ignore Files" translate="no">​</a></h3>
<p>Add the files to skip during AI translation be in the <code>.translate-ignore</code> file (same style of <code>.gitignore</code>).</p>
<p>Example:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Documentation files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Keep the license in English</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">LICENSE.md</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Don&#x27;t translate the API reference</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">api-reference/*</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Dashboard/table diagram - not referenced in docs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">duplistatus_dash-table.svg</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="glossary-management">Glossary Management<a href="#glossary-management" class="hash-link" aria-label="Direct link to Glossary Management" title="Direct link to Glossary Management" translate="no">​</a></h3>
<p>The terminology glossary is automatically generated from intlayer dictionaries to maintain consistency between the application UI and documentation translations.</p>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="generating-the-glossary">Generating the Glossary<a href="#generating-the-glossary" class="hash-link" aria-label="Direct link to Generating the Glossary" title="Direct link to Generating the Glossary" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> documentation</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:glossary-ui</span><br></span></code></pre></div></div>
<p>This script:</p>
<ul>
<li class="">Runs <code>pnpm intlayer build</code> in the project root to generate dictionaries</li>
<li class="">Extracts terminology from <code>.intlayer/dictionary/*.json</code> files</li>
<li class="">Generates <code>glossary-ui.csv</code></li>
<li class="">Updates the glossary table in <code>CONTRIBUTING-TRANSLATIONS.md</code> (if that file exists)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="when-to-regenerate">When to Regenerate<a href="#when-to-regenerate" class="hash-link" aria-label="Direct link to When to Regenerate" title="Direct link to When to Regenerate" translate="no">​</a></h4>
<ul>
<li class="">After updating intlayer translations in the application</li>
<li class="">When adding new technical terms to the application</li>
<li class="">Before major translation work to ensure consistency</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="user-glossary-overrides">User Glossary Overrides<a href="#user-glossary-overrides" class="hash-link" aria-label="Direct link to User Glossary Overrides" title="Direct link to User Glossary Overrides" translate="no">​</a></h4>
<p><code>glossary-user.csv</code> lets you override or add terms without modifying the generated UI glossary. Format: <code>en</code>, <code>locale</code>, <code>translation</code> (one row per term per locale). Use <code>*</code> as the locale to apply a term to all configured locales. Entries take precedence over <code>glossary-ui.csv</code>.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="cache-management">Cache Management<a href="#cache-management" class="hash-link" aria-label="Direct link to Cache Management" title="Direct link to Cache Management" translate="no">​</a></h3>
<p>The translation system uses a two-level cache (file-level and segment-level) stored in <code>.translation-cache/cache.db</code> to minimize API costs. This file is included in the Git repository to reduce future translation costs.</p>
<p>Cache Management Commands:</p>
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>pnpm translate --clear-cache &lt;locale&gt;</code></td><td>Clear cache for specific locale</td></tr><tr><td><code>pnpm translate --clear-cache</code></td><td>Clear <strong>all</strong> cache (both file and segment)</td></tr><tr><td><code>pnpm translate --force</code></td><td>Force re-translation (clears file cache, keeps segment cache)</td></tr><tr><td><code>pnpm translate --no-cache</code></td><td>Bypass cache entirely (force API calls, still saves new translations)</td></tr><tr><td><code>pnpm translate:editor</code></td><td>Manual review, delete or edit cache entries</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="remove-orphaned-and-stale-cache">Remove orphaned and stale cache<a href="#remove-orphaned-and-stale-cache" class="hash-link" aria-label="Direct link to Remove orphaned and stale cache" title="Direct link to Remove orphaned and stale cache" translate="no">​</a></h3>
<p>When changes are made to existing documents, cache entries may become orphaned or outdated. Use the commands to delete entries that are no longer required, reducing the size of the translation cache.</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--force</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:cleanup</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_BMXJ alert alert--warning"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>warning</div><div class="admonitionContent_tn6v"><p>Before running the cleanup script, ensure you have executed <code>pnpm translate --force</code>. This step is crucial to avoid accidentally deleting valid entries that are marked as stale.</p><p>The script automatically creates a backup in the <code>.translation-cache</code> folder, allowing you to recover any deleted data if necessary.</p></div></div>
<br>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="manual-review-of-the-cache">Manual review of the cache<a href="#manual-review-of-the-cache" class="hash-link" aria-label="Direct link to Manual review of the cache" title="Direct link to Manual review of the cache" translate="no">​</a></h3>
<p>When reviewing translations, use the web-based cache editing tool to view translations of specific terms, delete cache entries, delete entries using the available filters, or delete specific files. This allows you to retranslate only the desired texts or files.</p>
<p>For example, if a model has translated a term incorrectly, you can filter all entries for that term, change the model in the <code>translate.config.json</code> file, and retranslate only the lines containing those terms using the new model.</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:editor</span><br></span></code></pre></div></div>
<p>This will open a web UI to browse and edit cache manually (port 4000 or 4000+), so you can:</p>
<ul>
<li class="">Table view with filtering capabilities</li>
<li class="">Inline editing of translated text</li>
<li class="">Delete a single entry, translations for a specific file or filtered entries</li>
<li class="">Prints source and translated file paths to the terminal for quick editor access</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Translate Edit-Cache App" src="/duplistatus/assets/images/screenshot-translate-edit-cache-914b708a720390171a81c4cf8ccfe0ae.png" width="1586" height="413" class="img_Y2gD"></p>
<br>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="heading-ids-and-anchors">Heading IDs and Anchors<a href="#heading-ids-and-anchors" class="hash-link" aria-label="Direct link to Heading IDs and Anchors" title="Direct link to Heading IDs and Anchors" translate="no">​</a></h3>
<p>Consistent anchor links (IDs) are crucial for cross-references, table of contents, and deep linking. When content is translated, heading text changes, which would normally cause auto-generated anchor IDs to differ between languages.</p>
<div class="language-markdown codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-markdown codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token plain"> </span><span class="token title important punctuation" style="color:rgb(199, 146, 234)">##</span><span class="token title important"> This is a Heading {#this-is-a-heading}</span><br></span></code></pre></div></div>
<p>After updating or creating a new English source file, run this to ensure explicit IDs:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token builtin class-name" style="color:rgb(255, 203, 139)">cd</span><span class="token plain"> documentation</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> heading-ids   </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Adds {#id} to all headings without explicit IDs</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_BMXJ alert alert--secondary"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>note</div><div class="admonitionContent_tn6v"><p>Always use the generated ID when cross-refencing sections of the documentation.</p></div></div>
<br>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="svg-translation">SVG Translation<a href="#svg-translation" class="hash-link" aria-label="Direct link to SVG Translation" title="Direct link to SVG Translation" translate="no">​</a></h3>
<p>SVG translation is included in <code>pnpm translate</code> by default (runs after docs). SVG files in <code>static/img/</code> whose names start with <code>duplistatus</code> are translated.</p>
<p><strong>Skip SVG</strong> (docs only):</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate --no-svg</span><br></span></code></pre></div></div>
<p><strong>SVG-only</strong> (standalone script):</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:svg</span><br></span></code></pre></div></div>
<p>Options: <code>--locale</code>, <code>--path</code>, <code>--dry-run</code>, <code>--no-cache</code>, <code>--force</code>, <code>--no-export-png</code>. Uses <code>.translate-ignore</code> for exclusions.</p>
<br>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="ui-strings-translation-json">UI Strings Translation (JSON)<a href="#ui-strings-translation-json" class="hash-link" aria-label="Direct link to UI Strings Translation (JSON)" title="Direct link to UI Strings Translation (JSON)" translate="no">​</a></h3>
<p>Docusaurus UI strings and custom component labels are stored in JSON translation files. These are auto-generated by <code>pnpm write-translations</code> and then translated by the AI system.</p>
<p><strong>How it works:</strong></p>
<ol>
<li class=""><strong>Extraction</strong>: <code>pnpm write-translations</code> scans Docusaurus theme files and custom React components for translatable strings (like &quot;Next&quot;, &quot;Previous&quot;, &quot;Search&quot;, button labels) and writes them to <code>i18n/en/</code> as JSON files. Each file corresponds to a Docusaurus plugin or theme.</li>
<li class=""><strong>Translation</strong>: <code>pnpm translate</code> (with JSON support enabled) translates these JSON files to all target locales using the AI model, respecting the glossary.</li>
<li class=""><strong>Usage</strong>: Docusaurus automatically loads the appropriate locale&#x27;s JSON files at runtime to display the UI in the selected language.</li>
</ol>
<p><strong>Key JSON files</strong> (all in <code>i18n/{locale}/</code>):</p>
<ul>
<li class=""><code>docusaurus-plugin-content-docs/current.json</code> - Documentation UI strings (search, navigation, table of contents)</li>
<li class=""><code>docusaurus-theme-classic/navbar.json</code> - Navbar items</li>
<li class=""><code>docusaurus-theme-classic/footer.json</code> - Footer items</li>
<li class=""><code>code.json</code> - Code block labels (copy, collapse, expand)</li>
<li class="">Other plugin-specific JSON files</li>
</ul>
<p><strong>Skip JSON translation</strong> (docs only):</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate --no-json</span><br></span></code></pre></div></div>
<p><strong>Important</strong>: UI strings are usually stable, but if you add new custom components with translatable text, you must run <code>pnpm write-translations</code> to extract those new strings before running <code>pnpm translate</code>. Otherwise, the new strings will only appear in English for all locales.</p>
<br>
<p>The <code>translate</code> command logs all console output and API traffic to files in the <code>.translation-cache/</code> directory. The logs include:</p>
<ul>
<li class="">
<p><code>translate_&lt;timestamp&gt;.log</code>: A comprehensive log of the output from the <code>pnpm translate</code> command.</p>
</li>
<li class="">
<p><code>debug-traffic-&lt;timestamp&gt;.log</code>: A log of all traffic sent to and received from the AI model.</p>
<p>Note that API traffic is only logged when segments are sent to the API.
If all segments are retrieved from the cache (for example, when using the <code>--force</code> option, which
overwrite the file cache, but not the translationst the segment cache), no API calls are made, and
the log will only contain a header and a note.</p>
<p>To force API calls and capture request/response traffic,
use the <code>--no-cache</code> option.</p>
</li>
</ul>
<br>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="workflow-with-ai-translation">Workflow with AI Translation<a href="#workflow-with-ai-translation" class="hash-link" aria-label="Direct link to Workflow with AI Translation" title="Direct link to Workflow with AI Translation" translate="no">​</a></h2>
<ol>
<li class=""><strong>Update English documentation</strong> in <code>docs/</code></li>
<li class=""><strong>Update glossary</strong> (if needed): <code>pnpm translate:glossary-ui</code> and <code>glossary-user.csv</code>.</li>
<li class=""><strong>Update the headings IDs</strong>: <code>pnpm headings-ids</code></li>
<li class=""><strong>Run AI translation</strong>: <code>pnpm translate</code> (translates docs, json and SVGs)</li>
<li class=""><strong>Verify</strong> translations in <code>i18n/{locale}/docusaurus-plugin-content-docs/current/</code> (optional)</li>
<li class=""><strong>Test builds</strong>: <code>pnpm build</code></li>
<li class=""><strong>Deploy</strong> using your deployment process</li>
</ol>
<br>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<p><strong>&quot;OPENROUTER_API_KEY not set&quot;</strong></p>
<ul>
<li class="">Export the environment variable or add to <code>.env.local</code></li>
</ul>
<p><strong>Translation quality issues</strong></p>
<ul>
<li class="">Try different model in <code>translate.config.json</code></li>
<li class="">Delete entries in the cache and use another model</li>
<li class="">Review the English document and rewrite it to make the translation clear</li>
<li class="">Add more terms to <code>glossary-ui.csv</code> or add overrides to <code>glossary-user.csv</code> (en, locale, translation)</li>
</ul>
<p><strong>Cache corruption</strong></p>
<ul>
<li class="">Run <code>pnpm translate --clear-cache</code> to reset</li>
<li class="">Run <code>pnpm translate:cleanup</code> to remove orphaned entries</li>
<li class="">Use <code>pnpm translate:editor</code> to fix/delete individual cached translations without re-translating the whole document</li>
</ul>
<p><strong>Debugging OpenRouter traffic</strong></p>
<ul>
<li class="">Logs are written to <code>.translation-cache/debug-traffic-&lt;timestamp&gt;.log</code>.</li>
<li class="">Use this log to check if the translation problem is related to the script, prompts used or the model.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="translation-status-tracking">Translation Status Tracking<a href="#translation-status-tracking" class="hash-link" aria-label="Direct link to Translation Status Tracking" title="Direct link to Translation Status Tracking" translate="no">​</a></h2>
<p>Track translation progress with:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">pnpm</span><span class="token plain"> translate:status</span><br></span></code></pre></div></div>
<p>This generates a table showing the translation status for all documentation files. For example:</p>
<p><img decoding="async" loading="lazy" alt="Translate Status" src="/duplistatus/assets/images/screenshot-translate-status-8780317884ffd382efc43165dafffe13.png" width="590" height="289" class="img_Y2gD"></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/duplistatus/development/documentation-tools"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Documentation Tools</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/duplistatus/development/podman-testing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Podman Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_H4nj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#when-english-documentation-changes" class="table-of-contents__link toc-highlight">When English Documentation Changes</a></li><li><a href="#adding-new-languages" class="table-of-contents__link toc-highlight">Adding New Languages</a></li><li><a href="#ai-powered-translation" class="table-of-contents__link toc-highlight">AI-Powered Translation</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#basic-usage" class="table-of-contents__link toc-highlight">Basic Usage</a></li><li><a href="#model-configuration" class="table-of-contents__link toc-highlight">Model Configuration</a></li><li><a href="#testing-the-quality-of-the-translation" class="table-of-contents__link toc-highlight">Testing the quality of the translation</a></li><li><a href="#ignore-files" class="table-of-contents__link toc-highlight">Ignore Files</a></li><li><a href="#glossary-management" class="table-of-contents__link toc-highlight">Glossary Management</a></li><li><a href="#cache-management" class="table-of-contents__link toc-highlight">Cache Management</a></li><li><a href="#remove-orphaned-and-stale-cache" class="table-of-contents__link toc-highlight">Remove orphaned and stale cache</a></li><li><a href="#manual-review-of-the-cache" class="table-of-contents__link toc-highlight">Manual review of the cache</a></li><li><a href="#heading-ids-and-anchors" class="table-of-contents__link toc-highlight">Heading IDs and Anchors</a></li><li><a href="#svg-translation" class="table-of-contents__link toc-highlight">SVG Translation</a></li><li><a href="#ui-strings-translation-json" class="table-of-contents__link toc-highlight">UI Strings Translation (JSON)</a></li></ul></li><li><a href="#workflow-with-ai-translation" class="table-of-contents__link toc-highlight">Workflow with AI Translation</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li><li><a href="#translation-status-tracking" class="table-of-contents__link toc-highlight">Translation Status Tracking</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/user-guide/overview">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/migration/version_upgrade">Migration</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Development</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/development/setup">Development Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/api-reference/overview">API Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="GitHub repository" class="footer__link-item github-icon-link"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="vertical-align: middle; margin-right: 0.5rem;"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>GitHub</a></li><li class="footer__item"><a href="https://hub.docker.com/r/wsjbr/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="Docker Hub repository" class="footer__link-item docker-icon-link"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="vertical-align: middle; margin-right: 0.5rem;"><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.185-.186h-2.12a.186.186 0 00-.185.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z"/></svg>Docker Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Waldemar Scudeller Jr.</div></div></div></footer></div>
</body>
</html>