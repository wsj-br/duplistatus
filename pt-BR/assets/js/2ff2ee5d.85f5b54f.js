"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5650],{49581(e,n,o){o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"development/cron-service","title":"Servi\xe7o Cron","description":"cron-service}","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/development/cron-service.md","sourceDirName":"development","slug":"/development/cron-service","permalink":"/duplistatus/pt-BR/development/cron-service","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"translation_last_updated":"2026-03-01T00:45:16.728Z","source_file_mtime":"2026-02-16T00:30:39.430Z","source_file_hash":"5ce1c81347ec9e1a","translation_language":"pt-BR","source_file_path":"development/cron-service.md"},"sidebar":"mainSidebar","previous":{"title":"Scripts e Comandos do Admin do Workspace","permalink":"/duplistatus/pt-BR/development/workspace-admin-scripts-commands"},"next":{"title":"Refer\xeancia de Desenvolvimento","permalink":"/duplistatus/pt-BR/development/development-guidelines"}}');var a=o(36259),s=o(73230);const i={translation_last_updated:"2026-03-01T00:45:16.728Z",source_file_mtime:"2026-02-16T00:30:39.430Z",source_file_hash:"5ce1c81347ec9e1a",translation_language:"pt-BR",source_file_path:"development/cron-service.md"},t="Servi\xe7o Cron {#cron-service}",c={},d=[{value:"Iniciar servi\xe7o cron em modo de desenvolvimento",id:"start-cron-service-in-development-mode",level:2},{value:"Iniciar servi\xe7o cron em modo de produ\xe7\xe3o",id:"start-cron-service-in-production-mode",level:2},{value:"Iniciar servi\xe7o cron localmente (para testes)",id:"start-cron-service-locally-for-testing",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"cron-service",children:"Servi\xe7o Cron"})}),"\n",(0,a.jsx)(n.p,{children:"A aplica\xe7\xe3o inclui um servi\xe7o cron separado para lidar com tarefas agendadas:"}),"\n",(0,a.jsx)(n.h2,{id:"start-cron-service-in-development-mode",children:"Iniciar servi\xe7o cron em modo de desenvolvimento"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pnpm cron:dev\n"})}),"\n",(0,a.jsx)(n.h2,{id:"start-cron-service-in-production-mode",children:"Iniciar servi\xe7o cron em modo de produ\xe7\xe3o"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pnpm cron:start\n"})}),"\n",(0,a.jsx)(n.h2,{id:"start-cron-service-locally-for-testing",children:"Iniciar servi\xe7o cron localmente (para testes)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pnpm cron:start-local\n"})}),"\n",(0,a.jsxs)(n.p,{children:["O servi\xe7o cron \xe9 executado em uma porta separada (8667 em desenvolvimento, 9667 em produ\xe7\xe3o) e manipula tarefas agendadas como notifica\xe7\xf5es de backup atrasado. A porta pode ser configurada usando a vari\xe1vel de ambiente ",(0,a.jsx)(n.code,{children:"CRON_PORT"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"O servi\xe7o de cron inclui:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Endpoint de verifica\xe7\xe3o de sa\xfade"}),": ",(0,a.jsx)(n.code,{children:"/health"})," - Retorna o status do servi\xe7o e tarefas ativas"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Acionamento manual de tarefas"}),": ",(0,a.jsx)(n.code,{children:"POST /trigger/:taskName"})," - Executar manualmente tarefas agendadas"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gerenciamento de tarefas"}),": ",(0,a.jsx)(n.code,{children:"POST /start/:taskName"})," e ",(0,a.jsx)(n.code,{children:"POST /stop/:taskName"})," - Controlar tarefas individuais"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Recarregamento de configura\xe7\xe3o"}),": ",(0,a.jsx)(n.code,{children:"POST /reload-config"})," - Recarregar configura\xe7\xe3o do banco de dados"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Rein\xedcio autom\xe1tico"}),": O servi\xe7o reinicia automaticamente se travar (gerenciado por ",(0,a.jsx)(n.code,{children:"docker-entrypoint.sh"})," em implanta\xe7\xf5es Docker)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Modo de observa\xe7\xe3o"}),": Modo de desenvolvimento inclui observa\xe7\xe3o de arquivos para rein\xedcios autom\xe1ticos em mudan\xe7as de c\xf3digo"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Monitoramento de backups atrasados"}),": Verifica\xe7\xe3o e notifica\xe7\xe3o automatizada de backups atrasados (executa a cada 5 minutos por padr\xe3o)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Limpeza de log de auditoria"}),": Limpeza automatizada de entradas antigas do log de auditoria (executa diariamente \xe0s 2h UTC)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Agendamento flex\xedvel"}),": Express\xf5es cron configur\xe1veis para diferentes tarefas"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Integra\xe7\xe3o de banco de dados"}),": Compartilha o mesmo banco de dados SQLite com o aplicativo principal"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"API RESTful"}),": API completa para gerenciamento e monitoramento do servi\xe7o"]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},73230(e,n,o){o.d(n,{R:()=>i,x:()=>t});var r=o(71299);const a={},s=r.createContext(a);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);