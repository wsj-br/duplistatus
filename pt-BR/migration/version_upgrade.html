<!doctype html>
<html lang="pt-BR" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-migration/version_upgrade" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Guia de Migração | duplistatus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wsj-br.github.io/duplistatus/pt-BR/img/duplistatus_banner.png"><meta data-rh="true" name="twitter:image" content="https://wsj-br.github.io/duplistatus/pt-BR/img/duplistatus_banner.png"><meta data-rh="true" property="og:url" content="https://wsj-br.github.io/duplistatus/pt-BR/migration/version_upgrade"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" property="og:locale:alternate" content="en_GB"><meta data-rh="true" property="og:locale:alternate" content="fr_FR"><meta data-rh="true" property="og:locale:alternate" content="de_DE"><meta data-rh="true" property="og:locale:alternate" content="es_ES"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Guia de Migração | duplistatus"><meta data-rh="true" name="description" content="migration-guide}"><meta data-rh="true" property="og:description" content="migration-guide}"><link data-rh="true" rel="icon" href="/duplistatus/pt-BR/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wsj-br.github.io/duplistatus/pt-BR/migration/version_upgrade"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/migration/version_upgrade" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/fr/migration/version_upgrade" hreflang="fr-FR"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/de/migration/version_upgrade" hreflang="de-DE"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/es/migration/version_upgrade" hreflang="es-ES"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/pt-BR/migration/version_upgrade" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/migration/version_upgrade" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guia de Migração","item":"https://wsj-br.github.io/duplistatus/pt-BR/migration/version_upgrade"}]}</script><link rel="stylesheet" href="/duplistatus/pt-BR/assets/css/styles.aed85881.css">
<script src="/duplistatus/pt-BR/assets/js/runtime~main.9922cfe0.js" defer="defer"></script>
<script src="/duplistatus/pt-BR/assets/js/main.f4bfd6fd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/duplistatus/pt-BR/img/duplistatus_logo.png"><div role="region" aria-label="Pular para o conteúdo principal"><a class="skipToContent_SZKn" href="#__docusaurus_skipToContent_fallback">Pular para o conteúdo principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/duplistatus/pt-BR/"><div class="navbar__logo"><img src="/duplistatus/pt-BR/img/duplistatus_logo.png" alt="Logo do duplistatus" class="themedComponent_cTri themedComponent--light_TKVi" height="40" width="40"><img src="/duplistatus/pt-BR/img/duplistatus_logo.png" alt="Logo do duplistatus" class="themedComponent_cTri themedComponent--dark_SYJk" height="40" width="40"></div><b class="navbar__title text--truncate">duplistatus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/duplistatus/pt-BR/intro">Documentação</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_LkYb"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português (Brasil)</a><ul class="dropdown__menu"><li><a href="/duplistatus/migration/version_upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-GB">English</a></li><li><a href="/duplistatus/fr/migration/version_upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr-FR">Français</a></li><li><a href="/duplistatus/de/migration/version_upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de-DE">Deutsch</a></li><li><a href="/duplistatus/es/migration/version_upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es-ES">Español</a></li><li><a href="/duplistatus/pt-BR/migration/version_upgrade" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt-BR">Português (Brasil)</a></li></ul></div><div class="navbarSearchContainer_JmwV"><div class="navbar__search searchBarContainer_aFde" dir="ltr"><input placeholder="Pesquisar" aria-label="Search" class="navbar__search-input searchInput_CzRB" value=""><div class="loadingRing_x5At searchBarLoadingRing_l9zA"><div></div><div></div><div></div><div></div></div></div></div><div class="navbar__item"><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="GitHub repository" class="navbar__item navbar__link github-icon-link"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div><button class="colorModeToggle_jR5Q dark_W2Sb" type="button" title="Switch to light mode" aria-label="Switch to light mode"><div class="track_brXu"><div class="slider_GjI5"><span></span></div></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_oMjM"><div class="docsWrapper_UMlk"><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_BAOb" type="button"></button><div class="docRoot_THYd"><aside class="theme-doc-sidebar-container docSidebarContainer_H1qq"><div class="sidebarViewport_k2uA"><div class="sidebar_JWm2"><nav aria-label="Barra lateral de documentos" class="menu thin-scrollbar menu_ZQir"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/duplistatus/pt-BR/intro"><span title="Bem-vindo ao duplistatus" class="linkLabel_P901">Bem-vindo ao duplistatus</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/pt-BR/installation"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Instalação</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/pt-BR/user-guide/overview"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Guia do Usuário</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/duplistatus/pt-BR/migration/version_upgrade"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Migração</span></span></span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/duplistatus/pt-BR/migration/version_upgrade"><span title="Guia de Migração" class="linkLabel_P901">Guia de Migração</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/pt-BR/migration/api-changes"><span title="Mudanças de API incompatíveis com versões anteriores" class="linkLabel_P901">Mudanças de API incompatíveis com versões anteriores</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/pt-BR/api-reference/overview"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Referência da API</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/pt-BR/development/setup"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Desenvolvimento</span></span></span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed sidebar-category-expandable"><div class="menu__list-item-collapsible"><a class="categoryLink_v73m menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/pt-BR/release-notes/1.3.1"><span title="[object Object]" class="categoryLinkLabel_JRql"><span style="display:inline-flex;align-items:center"><span></span><span>Notas de Versão</span></span></span></a></div></li></ul></nav><button type="button" title="Recolher barra lateral" aria-label="Recolher barra lateral" class="button button--secondary button--outline collapseSidebarButton_bKGx"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_pCMQ"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_SsdW"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_FZ0Z"><div class="docItemContainer_rmlx"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_vUay" aria-label="Migalhas de pão"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Página inicial" class="breadcrumbs__link" href="/duplistatus/pt-BR/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_X05m"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Migração</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Guia de Migração</span></li></ul></nav><div class="tocCollapsible_FvtO theme-doc-toc-mobile tocMobile_VLZk"><button type="button" class="clean-btn tocCollapsibleButton_J0_X">Nesta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Guia de Migração</h1></header>
<p>Este guia explica como fazer upgrade entre versões do duplistatus. As migrações são automáticas—o esquema do banco de dados se atualiza automaticamente quando você inicia uma nova versão.</p>
<p>Etapas manuais são obrigatórias apenas se você tiver customizado Modelos de notificação (a versão 0.8.x alterou variáveis de modelo) ou Integrações de API externa que precisam ser atualizadas (a versão 0.7.x alterou nomes de campos da API, a versão 0.9.x requer autenticação).</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="overview">Visão geral<a href="#overview" class="hash-link" aria-label="Link direto para Visão geral" title="Link direto para Visão geral" translate="no">​</a></h2>
<p>duplistatus migra automaticamente o esquema do seu banco de dados ao fazer upgrade. O sistema:</p>
<ol>
<li class="">Cria um backup do seu banco de dados antes de fazer alterações</li>
<li class="">Atualiza o esquema do banco de dados para a versão mais recente</li>
<li class="">Preserva todos os dados existentes (servidores, backups, configuração)</li>
<li class="">Verifica se a migração foi concluída com sucesso</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="backing-up-your-database-before-migration">Fazendo Backup do Seu Banco de Dados Antes da Migração<a href="#backing-up-your-database-before-migration" class="hash-link" aria-label="Link direto para Fazendo Backup do Seu Banco de Dados Antes da Migração" title="Link direto para Fazendo Backup do Seu Banco de Dados Antes da Migração" translate="no">​</a></h2>
<p>Antes de atualizar para uma nova versão, é recomendado criar um backup de seu banco de dados. Isso garante que você possa restaurar seus dados se algo der errado durante o processo de migração.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="if-youre-running-version-121-or-later">Se Você Estiver Executando a Versão 1.2.1 ou Posterior<a href="#if-youre-running-version-121-or-later" class="hash-link" aria-label="Link direto para Se Você Estiver Executando a Versão 1.2.1 ou Posterior" title="Link direto para Se Você Estiver Executando a Versão 1.2.1 ou Posterior" translate="no">​</a></h3>
<p>Use a função de backup do banco de dados integrada:</p>
<ol>
<li class="">Navegue para <a class="" href="/duplistatus/pt-BR/user-guide/settings/database-maintenance">Configurações → Manutenção do banco de dados</a> na interface web</li>
<li class="">Na seção <strong>Backup do banco de dados</strong>, selecione um formato de backup:<!-- -->
<ul>
<li class=""><strong>Arquivo de banco de dados (.db)</strong>: Formato binário - backup mais rápido, preserva exatamente toda a estrutura do banco de dados</li>
<li class=""><strong>Dump SQL (.sql)</strong>: Formato de texto - instruções SQL legíveis para humanos</li>
</ul>
</li>
<li class="">Clique em <strong>Baixar backup</strong></li>
<li class="">O arquivo de backup será baixado para seu computador com um nome de arquivo com timestamp</li>
</ol>
<p>Para mais detalhes, consulte a documentação de <a class="" href="/duplistatus/pt-BR/user-guide/settings/database-maintenance#database-backup">Manutenção do banco de dados</a>.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="if-youre-running-a-version-before-121">Se Você Está Executando uma Versão Anterior à 1.2.1<a href="#if-youre-running-a-version-before-121" class="hash-link" aria-label="Link direto para Se Você Está Executando uma Versão Anterior à 1.2.1" title="Link direto para Se Você Está Executando uma Versão Anterior à 1.2.1" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="backup">Backup<a href="#backup" class="hash-link" aria-label="Link direto para Backup" title="Link direto para Backup" translate="no">​</a></h4>
<p>Você deve fazer backup manual do banco de dados antes de prosseguir. O arquivo do banco de dados está localizado em <code>/app/data/backups.db</code> dentro do container.</p>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="for-linux-users">Para Usuários Linux<a href="#for-linux-users" class="hash-link" aria-label="Link direto para Para Usuários Linux" title="Link direto para Para Usuários Linux" translate="no">​</a></h5>
<p>Se você está no Linux, não se preocupe em configurar contêineres auxiliares. Você pode usar o comando nativo <code>cp</code> para extrair o banco de dados diretamente do contêiner em execução para seu host.</p>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="using-docker-or-podman">Usando Docker ou Podman:<a href="#using-docker-or-podman" class="hash-link" aria-label="Link direto para Usando Docker ou Podman:" title="Link direto para Usando Docker ou Podman:" translate="no">​</a></h6>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Replace &#x27;duplistatus&#x27; with your actual container name if different</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> duplistatus:/app/data/backups.db ./duplistatus-backup-</span><span class="token variable" style="color:rgb(214, 222, 235)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">date</span><span class="token variable" style="color:rgb(214, 222, 235)"> +%Y%m%d</span><span class="token variable" style="color:rgb(214, 222, 235)">)</span><span class="token plain">.db</span><br></span></code></pre></div></div>
<p>(Se estiver usando Podman, simplesmente substitua <code>docker</code> por <code>podman</code> no comando acima.)</p>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="for-windows-users">Para Usuários do Windows<a href="#for-windows-users" class="hash-link" aria-label="Link direto para Para Usuários do Windows" title="Link direto para Para Usuários do Windows" translate="no">​</a></h5>
<p>Se você está executando o Docker Desktop no Windows, você tem duas maneiras simples de lidar com isso sem usar a linha de comando:</p>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="option-a-use-docker-desktop-easiest">Opção A: Usar Docker Desktop (Mais Fácil)<a href="#option-a-use-docker-desktop-easiest" class="hash-link" aria-label="Link direto para Opção A: Usar Docker Desktop (Mais Fácil)" title="Link direto para Opção A: Usar Docker Desktop (Mais Fácil)" translate="no">​</a></h6>
<ol>
<li class="">Abra o Painel do Docker Desktop.</li>
<li class="">Vá para a aba Containers e clique no seu container duplistatus.</li>
<li class="">Clique na aba Arquivos.</li>
<li class="">Navegue até <code>/app/data/</code>.</li>
<li class="">Clique com o botão direito em <code>backups.db</code> e selecione <strong>Salvar como...</strong> para baixá-lo para suas pastas do Windows.</li>
</ol>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="option-b-use-powershell">Opção B: Usar PowerShell<a href="#option-b-use-powershell" class="hash-link" aria-label="Link direto para Opção B: Usar PowerShell" title="Link direto para Opção B: Usar PowerShell" translate="no">​</a></h6>
<p>Se você preferir o terminal, pode usar PowerShell para copiar o arquivo para sua Área de Trabalho:</p>
<div class="language-powershell codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-powershell codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token plain">docker cp duplistatus:/app/data/backups.db $HOME\Desktop\duplistatus-backup.db</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="if-you-use-bind-mounts">Se Você Usar Bind Mounts<a href="#if-you-use-bind-mounts" class="hash-link" aria-label="Link direto para Se Você Usar Bind Mounts" title="Link direto para Se Você Usar Bind Mounts" translate="no">​</a></h5>
<p>Se você originalmente configurou seu container usando um bind mount (por exemplo, você mapeou uma pasta local como <code>/opt/duplistatus</code> para o container), você não precisa de comandos Docker. Apenas copie o arquivo usando seu gerenciador de arquivos:</p>
<ul>
<li class="">Linux: <code>cp /path/to/your/folder/backups.db ~/backups.db</code></li>
<li class="">Windows: Simplesmente copie o arquivo no <strong>File Explorer</strong> da pasta que você designou durante a configuração.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="restoring-your-data">Restaurando Seus Dados<a href="#restoring-your-data" class="hash-link" aria-label="Link direto para Restaurando Seus Dados" title="Link direto para Restaurando Seus Dados" translate="no">​</a></h4>
<p>Se você precisar restaurar seu banco de dados a partir de um backup anterior, siga as etapas abaixo com base no seu sistema operacional.</p>
<div class="theme-admonition theme-admonition-info admonition_BMXJ alert alert--info"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>IMPORTANTE</div><div class="admonitionContent_tn6v"><p>Parar o container antes de restaurar o banco de dados para evitar corrupção de arquivos.</p></div></div>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="for-linux-users">Para Usuários Linux<a href="#for-linux-users" class="hash-link" aria-label="Link direto para Para Usuários Linux" title="Link direto para Para Usuários Linux" translate="no">​</a></h5>
<p>A maneira mais fácil de restaurar é &quot;enviar&quot; o arquivo de backup de volta para o caminho de armazenamento interno do container.</p>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="using-docker-or-podman">Usando Docker ou Podman:<a href="#using-docker-or-podman" class="hash-link" aria-label="Link direto para Usando Docker ou Podman:" title="Link direto para Usando Docker ou Podman:" translate="no">​</a></h6>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># stop the container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> stop duplistatus</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Replace &#x27;duplistatus-backup.db&#x27; with your actual backup filename</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> ./duplistatus-backup.db duplistatus:/app/data/backups.db</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Restart the container</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> start duplistatus</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="for-windows-users">Para Usuários do Windows<a href="#for-windows-users" class="hash-link" aria-label="Link direto para Para Usuários do Windows" title="Link direto para Para Usuários do Windows" translate="no">​</a></h5>
<p>Se você está usando Docker Desktop, você pode realizar a restauração através da GUI ou PowerShell.</p>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="option-a-use-docker-desktop-gui">Opção A: Usar Docker Desktop (GUI)<a href="#option-a-use-docker-desktop-gui" class="hash-link" aria-label="Link direto para Opção A: Usar Docker Desktop (GUI)" title="Link direto para Opção A: Usar Docker Desktop (GUI)" translate="no">​</a></h6>
<ol>
<li class="">Certifique-se de que o container duplistatus está Ativo (Docker Desktop requer que o container esteja ativo para subir arquivos via GUI).</li>
<li class="">Acesse a aba Arquivos nas configurações do seu container.</li>
<li class="">Navegue até <code>/app/data/</code>.</li>
<li class="">Clique com o botão direito no arquivo backups.db existente e selecione Excluir.</li>
<li class="">Clique no botão Importar (ou clique com o botão direito na área da pasta) e selecione seu arquivo de backup do seu computador.</li>
</ol>
<p>Renomeie o arquivo importado para exatamente backups.db se ele tiver uma data e hora no nome.</p>
<p>Reinicie o container.</p>
<h6 class="anchor anchorTargetStickyNavbar_x6OY" id="option-b-use-powershell">Opção B: Usar PowerShell<a href="#option-b-use-powershell" class="hash-link" aria-label="Link direto para Opção B: Usar PowerShell" title="Link direto para Opção B: Usar PowerShell" translate="no">​</a></h6>
<div class="language-powershell codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-powershell codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token plain"># Copy the file from your Desktop back into the container</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">docker cp $HOME\Desktop\duplistatus-backup.db duplistatus:/app/data/backups.db</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># Restart the container</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">docker start duplistatus</span><br></span></code></pre></div></div>
<h5 class="anchor anchorTargetStickyNavbar_x6OY" id="if-you-use-bind-mounts">Se Você Usar Bind Mounts<a href="#if-you-use-bind-mounts" class="hash-link" aria-label="Link direto para Se Você Usar Bind Mounts" title="Link direto para Se Você Usar Bind Mounts" translate="no">​</a></h5>
<p>Se você estiver usando uma pasta local mapeada para o contêiner, não será necessário nenhum comando especial.</p>
<ol>
<li class="">Parar o container.</li>
<li class="">Copiar manualmente seu arquivo de backup para sua pasta mapeada (por exemplo, <code>/opt/duplistatus</code> ou <code>C:\duplistatus_data</code>).</li>
<li class="">Garantir que o arquivo seja nomeado exatamente como <code>backups.db</code>.</li>
<li class="">Iniciar o container.</li>
</ol>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> logs </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain">container-name</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_BMXJ alert alert--secondary"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>nota</div><div class="admonitionContent_tn6v"><p>Se você restaurar o banco de dados manualmente, poderá encontrar erros de permissão.</p><p>Verifique os logs do container e ajuste as permissões se necessário. Consulte a seção <a href="#troubleshooting-your-restore--rollback" class="">Troubleshooting</a> abaixo para mais informações.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="automatic-migration-process">Processo de Migração Automática<a href="#automatic-migration-process" class="hash-link" aria-label="Link direto para Processo de Migração Automática" title="Link direto para Processo de Migração Automática" translate="no">​</a></h2>
<p>Quando você inicia uma nova versão, as migrações são executadas automaticamente:</p>
<ol>
<li class=""><strong>Criação de Backup</strong>: Um backup com timestamp é criado no seu diretório de dados</li>
<li class=""><strong>Atualização de Schema</strong>: As tabelas e campos do banco de dados são atualizados conforme necessário</li>
<li class=""><strong>Migração de Dados</strong>: Todos os dados existentes são preservados e migrados</li>
<li class=""><strong>Verificação</strong>: O sucesso da migração é registrado</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="monitoring-migration">Monitorando a Migração<a href="#monitoring-migration" class="hash-link" aria-label="Link direto para Monitorando a Migração" title="Link direto para Monitorando a Migração" translate="no">​</a></h3>
<p>Verifique os logs do Docker para monitorar o progresso da migração:</p>
<p>Procure por mensagens como:</p>
<ul>
<li class=""><code>&quot;Found X pending migrations&quot;</code></li>
<li class=""><code>&quot;Running consolidated migration X.0...&quot;</code></li>
<li class=""><code>&quot;Migration X.0 completed successfully&quot;</code></li>
<li class=""><code>&quot;Database backup created: /path/to/backups-copy-YYYY-MM-DDTHH-MM-SS.db&quot;</code></li>
<li class=""><code>&quot;All migrations completed successfully&quot;</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="version-specific-migration-notes">Notas de Migração Específicas da Versão<a href="#version-specific-migration-notes" class="hash-link" aria-label="Link direto para Notas de Migração Específicas da Versão" title="Link direto para Notas de Migração Específicas da Versão" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="upgrading-to-version-09x-or-later-schema-v40">Atualizando para Versão 0.9.x ou Posterior (Schema v4.0)<a href="#upgrading-to-version-09x-or-later-schema-v40" class="hash-link" aria-label="Link direto para Atualizando para Versão 0.9.x ou Posterior (Schema v4.0)" title="Link direto para Atualizando para Versão 0.9.x ou Posterior (Schema v4.0)" translate="no">​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_BMXJ alert alert--warning"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>Aviso</div><div class="admonitionContent_tn6v"><p><strong>Autenticação agora é obrigatória.</strong> Todos os usuários devem entrar após a atualização.</p></div></div>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-changes-automatically">O Que Muda Automaticamente<a href="#what-changes-automatically" class="hash-link" aria-label="Link direto para O Que Muda Automaticamente" title="Link direto para O Que Muda Automaticamente" translate="no">​</a></h4>
<ul>
<li class="">Esquema de banco de dados migra de v3.1 para v4.0</li>
<li class="">Novas tabelas criadas: <code>users</code>, <code>sessions</code>, <code>audit_log</code></li>
<li class="">Conta admin padrão criada automaticamente</li>
<li class="">Todas as sessões existentes invalidadas</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-you-must-do">O Que Você Deve Fazer<a href="#what-you-must-do" class="hash-link" aria-label="Link direto para O Que Você Deve Fazer" title="Link direto para O Que Você Deve Fazer" translate="no">​</a></h4>
<ol>
<li class=""><strong>Entrar</strong> com credenciais padrão de admin:<!-- -->
<ul>
<li class="">Nome de usuário: <code>admin</code></li>
<li class="">Senha: <code>Duplistatus09</code></li>
</ul>
</li>
<li class=""><strong>Altere a senha</strong> quando solicitado (obrigatório no primeiro login)</li>
<li class=""><strong>Criar usuários</strong> para outros usuários (Configurações → Usuários)</li>
<li class=""><strong>Atualizar integrações de API externas</strong> para incluir autenticação (consulte <a class="" href="/duplistatus/pt-BR/migration/api-changes">Mudanças incompatíveis com versões anteriores da API</a>)</li>
<li class=""><strong>Configurar retenção de log de auditoria</strong> se necessário (Configurações → Log de Auditoria)</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="if-youre-locked-out">Se Você Está Bloqueado<a href="#if-youre-locked-out" class="hash-link" aria-label="Link direto para Se Você Está Bloqueado" title="Link direto para Se Você Está Bloqueado" translate="no">​</a></h4>
<p>Utilize a ferramenta de recuperação do admin:</p>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-it</span><span class="token plain"> duplistatus /app/admin-recovery admin NewPassword123</span><br></span></code></pre></div></div>
<p>Consulte o <a class="" href="/duplistatus/pt-BR/user-guide/admin-recovery">Guia de Recuperação do Admin</a> para Detalhes.</p>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="upgrading-to-version-08x">Atualizando para a Versão 0.8.x<a href="#upgrading-to-version-08x" class="hash-link" aria-label="Link direto para Atualizando para a Versão 0.8.x" title="Link direto para Atualizando para a Versão 0.8.x" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-changes-automatically">O Que Muda Automaticamente<a href="#what-changes-automatically" class="hash-link" aria-label="Link direto para O Que Muda Automaticamente" title="Link direto para O Que Muda Automaticamente" translate="no">​</a></h4>
<ul>
<li class="">Schema de banco de dados atualizado para v3.1</li>
<li class="">Chave mestra gerada para criptografia (armazenada em <code>.duplistatus.key</code>)</li>
<li class="">Sessões invalidadas (novas sessões protegidas por CSRF criadas)</li>
<li class="">Senhas criptografadas usando novo sistema</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-you-must-do">O Que Você Deve Fazer<a href="#what-you-must-do" class="hash-link" aria-label="Link direto para O Que Você Deve Fazer" title="Link direto para O Que Você Deve Fazer" translate="no">​</a></h4>
<ol>
<li class=""><strong>Atualize os modelos de notificação</strong> se você os personalizou:<!-- -->
<ul>
<li class="">Substitua <code>{backup_interval_value}</code> e <code>{backup_interval_type}</code> por <code>{backup_interval}</code></li>
<li class="">Os modelos padrão são atualizados automaticamente</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="security-notes">Notas de Segurança<a href="#security-notes" class="hash-link" aria-label="Link direto para Notas de Segurança" title="Link direto para Notas de Segurança" translate="no">​</a></h4>
<ul>
<li class="">Certifique-se de que o arquivo <code>.duplistatus.key</code> está com backup (possui permissões 0400)</li>
<li class="">As sessões expiram após 24 horas</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="upgrading-to-version-07x">Atualizando para a Versão 0.7.x<a href="#upgrading-to-version-07x" class="hash-link" aria-label="Link direto para Atualizando para a Versão 0.7.x" title="Link direto para Atualizando para a Versão 0.7.x" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-changes-automatically">O Que Muda Automaticamente<a href="#what-changes-automatically" class="hash-link" aria-label="Link direto para O Que Muda Automaticamente" title="Link direto para O Que Muda Automaticamente" translate="no">​</a></h4>
<ul>
<li class="">tabela <code>machines</code> renomeada para <code>servers</code></li>
<li class="">campos <code>machine_id</code> renomeados para <code>server_id</code></li>
<li class="">Novos campos adicionados: <code>alias</code>, <code>notes</code>, <code>created_at</code>, <code>updated_at</code></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="what-you-must-do">O Que Você Deve Fazer<a href="#what-you-must-do" class="hash-link" aria-label="Link direto para O Que Você Deve Fazer" title="Link direto para O Que Você Deve Fazer" translate="no">​</a></h4>
<ol>
<li class=""><strong>Atualizar integrações de API externa</strong>:<!-- -->
<ul>
<li class="">Alterar <code>totalMachines</code> → <code>totalServers</code> em <code>/api/summary</code></li>
<li class="">Alterar <code>machine</code> → <code>server</code> em objetos de resposta da API</li>
<li class="">Alterar <code>backup_types_count</code> → <code>backup_jobs_count</code> em <code>/api/lastbackups/{serverId}</code></li>
<li class="">Atualizar caminhos de endpoint de <code>/api/machines/...</code> para <code>/api/servers/...</code></li>
</ul>
</li>
<li class=""><strong>Atualizar modelos de notificação</strong>:<!-- -->
<ul>
<li class="">Substituir <code>{machine_name}</code> por <code>{server_name}</code></li>
</ul>
</li>
</ol>
<p>Consulte <a class="" href="/duplistatus/pt-BR/migration/api-changes">Mudanças incompatíveis com versões anteriores da API</a> para obter etapas detalhadas de migração de API.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="post-migration-checklist">Lista de Verificação Pós-Migração<a href="#post-migration-checklist" class="hash-link" aria-label="Link direto para Lista de Verificação Pós-Migração" title="Link direto para Lista de Verificação Pós-Migração" translate="no">​</a></h2>
<p>Após a atualização, verificar:</p>
<ul class="contains-task-list containsTaskList_QLOk">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Todos os servidores aparecem corretamente no painel</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->O histórico de backups está completo e acessível</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->As notificações funcionam (testar NTFY/e-mail)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->As integrações de API externa funcionam (se aplicável)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->As configurações estão acessíveis e corretas</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->O monitoramento de backup funciona corretamente</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Conectado com sucesso (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Alterou a senha padrão do admin (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Criou contas de usuário para outros usuários (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Atualizou as integrações de API externa com autenticação (0.9.x+)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="troubleshooting">Solução de Problemas<a href="#troubleshooting" class="hash-link" aria-label="Link direto para Solução de Problemas" title="Link direto para Solução de Problemas" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="migration-fails">Falha na Migração<a href="#migration-fails" class="hash-link" aria-label="Link direto para Falha na Migração" title="Link direto para Falha na Migração" translate="no">​</a></h3>
<ol>
<li class="">Verificar espaço em disco (backup requer espaço)</li>
<li class="">Verificar permissões de escrita no diretório de dados</li>
<li class="">Revisar logs do container para erros específicos</li>
<li class="">Restaurar a partir do backup se necessário (consulte Rollback abaixo)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="data-missing-after-migration">Dados Ausentes Após Migração<a href="#data-missing-after-migration" class="hash-link" aria-label="Link direto para Dados Ausentes Após Migração" title="Link direto para Dados Ausentes Após Migração" translate="no">​</a></h3>
<ol>
<li class="">Verificar se o backup foi criado (verificar diretório de dados)</li>
<li class="">Revisar os logs do container para mensagens de criação de backup</li>
<li class="">Verificar a integridade do arquivo de banco de dados</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="authentication-issues-09x">Problemas de Autenticação (0.9.x+)<a href="#authentication-issues-09x" class="hash-link" aria-label="Link direto para Problemas de Autenticação (0.9.x+)" title="Link direto para Problemas de Autenticação (0.9.x+)" translate="no">​</a></h3>
<ol>
<li class="">Verificar se a conta admin padrão existe (verificar logs)</li>
<li class="">Tentar credenciais padrão: <code>admin</code> / <code>Duplistatus09</code></li>
<li class="">Usar ferramenta de recuperação de admin se bloqueado</li>
<li class="">Verificar se a tabela <code>users</code> existe no banco de dados</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="api-errors">Erros de API<a href="#api-errors" class="hash-link" aria-label="Link direto para Erros de API" title="Link direto para Erros de API" translate="no">​</a></h3>
<ol>
<li class="">Revise <a class="" href="/duplistatus/pt-BR/migration/api-changes">Mudanças incompatíveis com versões anteriores da API</a> para atualizações de endpoint</li>
<li class="">Atualize integrações externas com novos nomes de campo</li>
<li class="">Adicione autenticação às solicitações de API (0.9.x+)</li>
<li class="">Teste endpoints de API após a migração</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="master-key-issues-08x">Problemas de Chave Mestra (0.8.x+)<a href="#master-key-issues-08x" class="hash-link" aria-label="Link direto para Problemas de Chave Mestra (0.8.x+)" title="Link direto para Problemas de Chave Mestra (0.8.x+)" translate="no">​</a></h3>
<ol>
<li class="">Garantir que o arquivo <code>.duplistatus.key</code> esteja acessível</li>
<li class="">Verificar se as permissões do arquivo são 0400</li>
<li class="">Verificar os logs do container para erros de geração de chave</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="podman-dns-configuration">Configuração de DNS do Podman<a href="#podman-dns-configuration" class="hash-link" aria-label="Link direto para Configuração de DNS do Podman" title="Link direto para Configuração de DNS do Podman" translate="no">​</a></h3>
<p>Se você está usando Podman e enfrentando problemas de conectividade de rede após uma atualização, pode ser necessário configurar as definições de DNS para seu container. Consulte a <a class="" href="/duplistatus/pt-BR/installation#configuring-dns-for-podman-containers">seção de configuração de DNS</a> no guia de instalação para detalhes.</p>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="rollback-procedure">Procedimento de Reversão<a href="#rollback-procedure" class="hash-link" aria-label="Link direto para Procedimento de Reversão" title="Link direto para Procedimento de Reversão" translate="no">​</a></h2>
<p>Se você precisar reverter para uma versão anterior:</p>
<ol>
<li class=""><strong>Parar o container</strong>: <code>docker stop &lt;container-name&gt;</code> (ou <code>podman stop &lt;container-name&gt;</code>)</li>
<li class=""><strong>Encontre seu backup</strong>:<!-- -->
<ul>
<li class="">Se você criou um backup usando a interface web (versão 1.2.1+), use esse arquivo de backup baixado</li>
<li class="">Se você criou um backup de volume manual, extraia-o primeiro</li>
<li class="">Os backups de migração automática estão localizados no diretório de dados (arquivos <code>.db</code> com timestamp)</li>
</ul>
</li>
<li class=""><strong>Restaurar o banco de dados</strong>:<!-- -->
<ul>
<li class=""><strong>Para backups da interface web (versão 1.2.1+)</strong>: Use a função de restauração em <code>Configurações → Manutenção do banco de dados</code> (veja <a class="" href="/duplistatus/pt-BR/user-guide/settings/database-maintenance#database-restore">Manutenção do banco de dados</a>)</li>
<li class=""><strong>Para backups manuais</strong>: Substitua <code>backups.db</code> no seu diretório de dados/volume pelo arquivo de backup</li>
</ul>
</li>
<li class=""><strong>Use a versão anterior da imagem</strong>: Faça pull e execute a imagem do container anterior</li>
<li class=""><strong>Iniciar o container</strong>: Inicie com a versão anterior</li>
</ol>
<div class="theme-admonition theme-admonition-warning admonition_BMXJ alert alert--warning"><div class="admonitionHeading_aQfW"><span class="admonitionIcon_zDWw"><span></span></span>Aviso</div><div class="admonitionContent_tn6v"><p>A reversão pode causar perda de dados se o esquema mais recente for incompatível com a versão anterior. Sempre certifique-se de que você tem um backup recente antes de tentar reverter.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_x6OY" id="troubleshooting-your-restore--rollback">Solução de Problemas de Restauração / Reversão<a href="#troubleshooting-your-restore--rollback" class="hash-link" aria-label="Link direto para Solução de Problemas de Restauração / Reversão" title="Link direto para Solução de Problemas de Restauração / Reversão" translate="no">​</a></h3>
<p>Se o aplicativo não iniciar ou seus dados não aparecerem após uma restauração ou reversão, verifique os seguintes problemas comuns:</p>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="1-database-file-permissions-linuxpodman">1. Permissões de Arquivo do Banco de Dados (Linux/Podman)<a href="#1-database-file-permissions-linuxpodman" class="hash-link" aria-label="Link direto para 1. Permissões de Arquivo do Banco de Dados (Linux/Podman)" title="Link direto para 1. Permissões de Arquivo do Banco de Dados (Linux/Podman)" translate="no">​</a></h4>
<p>Se você restaurou o arquivo como o usuário <code>root</code>, a aplicação dentro do container pode não ter permissão para ler ou escrever nele.</p>
<ul>
<li class=""><strong>O Sintoma:</strong> Logs mostram &quot;Permission Denied&quot; ou &quot;Read-only database.&quot;</li>
<li class=""><strong>A Solução:</strong> Redefina as permissões do arquivo dentro do container para garantir que seja acessível.</li>
</ul>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set ownership (usually UID 1000 or the app user)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-u</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> duplistatus </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token plain">:1000 /app/data/backups.db</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic"># Set read/write permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-u</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> duplistatus </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">664</span><span class="token plain"> /app/data/backups.db</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="2-incorrect-filename">2. Nome de Arquivo Incorreto<a href="#2-incorrect-filename" class="hash-link" aria-label="Link direto para 2. Nome de Arquivo Incorreto" title="Link direto para 2. Nome de Arquivo Incorreto" translate="no">​</a></h4>
<p>A aplicação procura especificamente por um arquivo chamado <code>backups.db</code>.</p>
<ul>
<li class=""><strong>O Sintoma:</strong> A aplicação inicia mas aparece &quot;vazia&quot; (como uma instalação nova).</li>
<li class=""><strong>A Solução:</strong> Verifique o diretório <code>/app/data/</code>. Se seu arquivo é nomeado <code>duplistatus-backup-2024.db</code> ou possui extensão <code>.sqlite</code>, a aplicação o ignorará. Use o comando <code>mv</code> ou a GUI do Docker Desktop para renomeá-lo exatamente para <code>backups.db</code>.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="3-container-not-restarted">3. Container Não Reiniciado<a href="#3-container-not-restarted" class="hash-link" aria-label="Link direto para 3. Container Não Reiniciado" title="Link direto para 3. Container Não Reiniciado" translate="no">​</a></h4>
<p>Em alguns sistemas, usar <code>docker cp</code> enquanto o container está em execução pode não &quot;atualizar&quot; imediatamente a conexão da aplicação com o banco de dados.</p>
<ul>
<li class=""><strong>A Solução:</strong> Sempre execute uma reinicialização completa após uma restauração:</li>
</ul>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> restart duplistatus</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_x6OY" id="4-database-version-mismatch">4. Incompatibilidade de Versão do Banco de Dados<a href="#4-database-version-mismatch" class="hash-link" aria-label="Link direto para 4. Incompatibilidade de Versão do Banco de Dados" title="Link direto para 4. Incompatibilidade de Versão do Banco de Dados" translate="no">​</a></h4>
<p>Se você está restaurando um backup de uma versão muito mais recente do duplistatus em uma versão mais antiga do aplicativo, o esquema do banco de dados pode ser incompatível.</p>
<ul>
<li class=""><strong>A Solução:</strong> Sempre certifique-se de que você está executando a mesma versão (ou uma versão mais recente) da imagem duplistatus que criou o backup. Verifique sua versão com:</li>
</ul>
<div class="language-bash codeBlockContainer_oeBZ theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_G1uJ"><pre tabindex="0" class="prism-code language-bash codeBlock_H7Li thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_mpSR"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> inspect duplistatus </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">--format</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&#x27;{{.Config.Image}}&#x27;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="database-schema-versions">Versões do Schema de Banco de Dados<a href="#database-schema-versions" class="hash-link" aria-label="Link direto para Versões do Schema de Banco de Dados" title="Link direto para Versões do Schema de Banco de Dados" translate="no">​</a></h2>
<table><thead><tr><th>Versão da Aplicação</th><th>Versão do Schema</th><th>Principais Alterações</th></tr></thead><tbody><tr><td>0.6.x e anteriores</td><td>v1.0</td><td>Schema inicial</td></tr><tr><td>0.7.x</td><td>v2.0, v3.0</td><td>Adicionadas configurações, servidores renomeados (máquinas → servidores)</td></tr><tr><td>0.8.x</td><td>v3.1</td><td>Campos de backup aprimorados, suporte a criptografia</td></tr><tr><td>0.9.x, 1.0.x, 1.1.x, 1.2.x, 1.3.x</td><td>v4.0</td><td>Controle de acesso de usuário, autenticação, registro de auditoria</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_x6OY" id="getting-help">Ajuda<a href="#getting-help" class="hash-link" aria-label="Link direto para Ajuda" title="Link direto para Ajuda" translate="no">​</a></h2>
<ul>
<li class=""><strong>Documentação</strong>: <a class="" href="/duplistatus/pt-BR/user-guide/overview">Guia do Usuário</a></li>
<li class=""><strong>Referência de API</strong>: <a class="" href="/duplistatus/pt-BR/api-reference/overview">Documentação da API</a></li>
<li class=""><strong>Mudanças de API</strong>: <a class="" href="/duplistatus/pt-BR/migration/api-changes">Mudanças incompatíveis com versões anteriores da API</a></li>
<li class=""><strong>Notas de Versão</strong>: Verifique as notas de versão específicas para alterações detalhadas</li>
<li class=""><strong>Comunidade</strong>: <a href="https://github.com/wsj-br/duplistatus/discussions" target="_blank" rel="noopener noreferrer" class="">GitHub Discussions</a></li>
<li class=""><strong>Problemas</strong>: <a href="https://github.com/wsj-br/duplistatus/issues" target="_blank" rel="noopener noreferrer" class="">GitHub Issues</a></li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Páginas de documentação"><a class="pagination-nav__link pagination-nav__link--prev" href="/duplistatus/pt-BR/user-guide/admin-recovery"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Recuperação de Conta Admin</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/duplistatus/pt-BR/migration/api-changes"><div class="pagination-nav__sublabel">Próximo</div><div class="pagination-nav__label">Mudanças de API incompatíveis com versões anteriores</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_H4nj thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Visão geral</a></li><li><a href="#backing-up-your-database-before-migration" class="table-of-contents__link toc-highlight">Fazendo Backup do Seu Banco de Dados Antes da Migração</a><ul><li><a href="#if-youre-running-version-121-or-later" class="table-of-contents__link toc-highlight">Se Você Estiver Executando a Versão 1.2.1 ou Posterior</a></li><li><a href="#if-youre-running-a-version-before-121" class="table-of-contents__link toc-highlight">Se Você Está Executando uma Versão Anterior à 1.2.1</a></li></ul></li><li><a href="#automatic-migration-process" class="table-of-contents__link toc-highlight">Processo de Migração Automática</a><ul><li><a href="#monitoring-migration" class="table-of-contents__link toc-highlight">Monitorando a Migração</a></li></ul></li><li><a href="#version-specific-migration-notes" class="table-of-contents__link toc-highlight">Notas de Migração Específicas da Versão</a><ul><li><a href="#upgrading-to-version-09x-or-later-schema-v40" class="table-of-contents__link toc-highlight">Atualizando para Versão 0.9.x ou Posterior (Schema v4.0)</a></li><li><a href="#upgrading-to-version-08x" class="table-of-contents__link toc-highlight">Atualizando para a Versão 0.8.x</a></li><li><a href="#upgrading-to-version-07x" class="table-of-contents__link toc-highlight">Atualizando para a Versão 0.7.x</a></li></ul></li><li><a href="#post-migration-checklist" class="table-of-contents__link toc-highlight">Lista de Verificação Pós-Migração</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Solução de Problemas</a><ul><li><a href="#migration-fails" class="table-of-contents__link toc-highlight">Falha na Migração</a></li><li><a href="#data-missing-after-migration" class="table-of-contents__link toc-highlight">Dados Ausentes Após Migração</a></li><li><a href="#authentication-issues-09x" class="table-of-contents__link toc-highlight">Problemas de Autenticação (0.9.x+)</a></li><li><a href="#api-errors" class="table-of-contents__link toc-highlight">Erros de API</a></li><li><a href="#master-key-issues-08x" class="table-of-contents__link toc-highlight">Problemas de Chave Mestra (0.8.x+)</a></li><li><a href="#podman-dns-configuration" class="table-of-contents__link toc-highlight">Configuração de DNS do Podman</a></li></ul></li><li><a href="#rollback-procedure" class="table-of-contents__link toc-highlight">Procedimento de Reversão</a><ul><li><a href="#troubleshooting-your-restore--rollback" class="table-of-contents__link toc-highlight">Solução de Problemas de Restauração / Reversão</a></li></ul></li><li><a href="#database-schema-versions" class="table-of-contents__link toc-highlight">Versões do Schema de Banco de Dados</a></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Ajuda</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentação</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/pt-BR/installation">Instalação</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/pt-BR/user-guide/overview">Guia do Usuário</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/pt-BR/migration/version_upgrade">Migração</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Desenvolvimento</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/pt-BR/development/setup">Configuração de Desenvolvimento</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/pt-BR/api-reference/overview">Referência da API</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Mais</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="GitHub repository" class="footer__link-item github-icon-link"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="vertical-align: middle; margin-right: 0.5rem;"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>GitHub</a></li><li class="footer__item"><a href="https://hub.docker.com/r/wsjbr/duplistatus" target="_blank" rel="noopener noreferrer" aria-label="Docker Hub repository" class="footer__link-item docker-icon-link"><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="vertical-align: middle; margin-right: 0.5rem;"><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.185-.186h-2.12a.186.186 0 00-.185.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z"/></svg>Docker Hub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Waldemar Scudeller Jr.</div></div></div></footer></div>
</body>
</html>