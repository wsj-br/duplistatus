"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9275],{4036(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"development/setup","title":"Configuration de d\xe9veloppement","description":"development-setup}","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/development/setup.md","sourceDirName":"development","slug":"/development/setup","permalink":"/duplistatus/fr/development/setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"translation_last_updated":"2026-03-01T00:45:04.638Z","source_file_mtime":"2026-03-01T00:09:27.997Z","source_file_hash":"6d8b0e530d4c1ecb","translation_language":"fr","source_file_path":"development/setup.md"},"sidebar":"mainSidebar","previous":{"title":"API Endpoint List","permalink":"/duplistatus/fr/api-reference/api-endpoint-list"},"next":{"title":"Commandes les plus utilis\xe9es","permalink":"/duplistatus/fr/development/devel"}}');var i=s(36259),t=s(73230);const l={translation_last_updated:"2026-03-01T00:45:04.638Z",source_file_mtime:"2026-03-01T00:09:27.997Z",source_file_hash:"6d8b0e530d4c1ecb",translation_language:"fr",source_file_path:"development/setup.md"},d="Configuration de d\xe9veloppement {#development-setup}",c={},o=[{value:"Conditions pr\xe9alables",id:"prerequisites",level:2},{value:"\xc9tapes",id:"steps",level:2},{value:"1. Cloner le d\xe9p\xf4t :",id:"1-clone-the-repository",level:3},{value:"2. Installer les d\xe9pendances (Debian/Ubuntu) :",id:"2-install-dependencies-debianubuntu",level:3},{value:"3. Supprimer les installations Node.js existantes (si d\xe9j\xe0 install\xe9es)",id:"3-remove-old-nodejs-installations-if-you-already-have-it-installed",level:3},{value:"4. Installer Node.js et pnpm :",id:"4-install-nodejs-and-pnpm",level:3},{value:"5. Configurer le support de direnv",id:"5-set-up-direnv-support",level:3},{value:"6. Cr\xe9er le fichier <code>.env</code> \xe0 la racine du d\xe9p\xf4t avec ces variables.",id:"6-create-the-env-file-at-the-repository-basedir-with-these-variables",level:3},{value:"Scripts Disponibles",id:"available-scripts",level:2},{value:"Scripts de d\xe9veloppement",id:"development-scripts",level:3},{value:"Scripts de Documentation",id:"documentation-scripts",level:3},{value:"Scripts de Production",id:"production-scripts",level:3},{value:"Scripts Docker",id:"docker-scripts",level:3},{value:"Scripts du Service Cron",id:"cron-service-scripts",level:3},{value:"Scripts de Test",id:"test-scripts",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"development-setup",children:"Configuration de d\xe9veloppement"})}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Conditions pr\xe9alables"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Docker / Docker Compose"}),"\n",(0,i.jsx)(n.li,{children:"Node.js >=24.12.0"}),"\n",(0,i.jsx)(n.li,{children:"pnpm >=10.24.0 (packageManager: pnpm@10.30.3)"}),"\n",(0,i.jsx)(n.li,{children:"SQLite3"}),"\n",(0,i.jsxs)(n.li,{children:["Inkscape (pour la traduction SVG de la documentation et l'export PNG ; requis uniquement si vous ex\xe9cutez ",(0,i.jsx)(n.code,{children:"translate"})," ou ",(0,i.jsx)(n.code,{children:"translate:svg"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["bat/batcat (pour afficher une version \xe9l\xe9gante de ",(0,i.jsx)(n.code,{children:"translate:help"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["direnv (pour charger automatiquement les fichiers ",(0,i.jsx)(n.code,{children:".env*"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"steps",children:"\xc9tapes"}),"\n",(0,i.jsx)(n.h3,{id:"1-clone-the-repository",children:"1. Cloner le d\xe9p\xf4t :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/wsj-br/duplistatus.git\ncd duplistatus\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-install-dependencies-debianubuntu",children:"2. Installer les d\xe9pendances (Debian/Ubuntu) :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt update\nsudo apt install sqlite3 git inkscape bat -y\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-remove-old-nodejs-installations-if-you-already-have-it-installed",children:"3. Supprimer les installations Node.js existantes (si d\xe9j\xe0 install\xe9es)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt-get purge nodejs npm -y\nsudo apt-get autoremove -y\nsudo rm -rf /usr/local/bin/npm \nsudo rm -rf /usr/local/share/man/man1/node* \nsudo rm -rf /usr/local/lib/dtrace/node.d\nrm -rf ~/.npm\nrm -rf ~/.node-gyp\nsudo rm -rf /opt/local/bin/node\nsudo rm -rf /opt/local/include/node\nsudo rm -rf /opt/local/lib/node_modules\nsudo rm -rf /usr/local/lib/node*\nsudo rm -rf /usr/local/include/node*\nsudo rm -rf /usr/local/bin/node*\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-install-nodejs-and-pnpm",children:"4. Installer Node.js et pnpm :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash\nsource ~/.bashrc\nnvm install --lts\nnvm use --lts\nnpm install -g pnpm npm-check-updates doctoc\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-set-up-direnv-support",children:"5. Configurer le support de direnv"}),"\n",(0,i.jsxs)(n.p,{children:["Ajoutez ces lignes \xe0 votre fichier ",(0,i.jsx)(n.code,{children:"~/.bashrc"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# direnv support (apt install direnv)\neval "$(direnv hook bash)"\n'})}),"\n",(0,i.jsx)(n.p,{children:"avec cette commande :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'(echo "# direnv support (apt install direnv)"; echo \'eval "$(direnv hook bash)\') >> ~/.bashrc\n'})}),"\n",(0,i.jsx)(n.p,{children:"dans le r\xe9pertoire de base du d\xe9p\xf4t, ex\xe9cuter :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"direnv allow\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Ajoutez ces lignes \xe0 votre fichier ",(0,i.jsx)(n.code,{children:"~/.profile"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# export the Bash environment (needed for code editor or AI Agents to load it).\nexport BASH_ENV="$HOME/.bashrc"\n'})}),"\n",(0,i.jsx)(n.p,{children:"avec cette commande :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'(echo "# export the Bash environment (needed for code editor or AI Agents to load it)."; \\\n echo \'export BASH_ENV="$HOME/.bashrc"\') >> ~/.profile\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Vous devez rouvrir le terminal ou potentiellement fermer/rouvrir l'\xe9diteur de code IDE (Visual Studio Code,\nCursor, Lingma, Antigravity, Zed, ...) pour que ces modifications prennent effet."})}),"\n",(0,i.jsxs)(n.h3,{id:"6-create-the-env-file-at-the-repository-basedir-with-these-variables",children:["6. Cr\xe9er le fichier ",(0,i.jsx)(n.code,{children:".env"})," \xe0 la racine du d\xe9p\xf4t avec ces variables."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Vous pouvez utiliser n'importe quelle valeur pour ",(0,i.jsx)(n.code,{children:"VERSION"})," ; elle sera automatiquement mise \xe0 jour lors de l'utilisation des scripts de d\xe9veloppement."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Utilisez des mots de passe al\xe9atoires pour ",(0,i.jsx)(n.code,{children:"ADMIN_PASSWORD"})," et ",(0,i.jsx)(n.code,{children:"USER_PASSWORD"})," ; ces mots de passe seront utilis\xe9s dans le script ",(0,i.jsx)(n.code,{children:"pnpm take-screenshots"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Vous pouvez obtenir la ",(0,i.jsx)(n.code,{children:"OPENROUTER_API_KEY"})," depuis ",(0,i.jsx)(n.a,{href:"https://openrouter.ai",children:"openrouter.ai"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'VERSION=x.x.x\n\n# Development user passwords\nADMIN_PASSWORD="admin_secret"\nUSER_PASSWORD="user_secret"\n\n\n# Openrouter.ai API key for translation scripts in documentation \nOPENROUTER_API_KEY=sk-or-v1-your-key-for-translate-files\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"available-scripts",children:"Scripts Disponibles"}),"\n",(0,i.jsx)(n.p,{children:"Le projet inclut plusieurs scripts npm pour diff\xe9rentes t\xe2ches de d\xe9veloppement :"}),"\n",(0,i.jsx)(n.h3,{id:"development-scripts",children:"Scripts de d\xe9veloppement"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm dev"})," - D\xe9marrer le serveur de d\xe9veloppement sur le port 8666 (inclut des v\xe9rifications pr\xe9alables)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm build"})," - Construire l'application pour la production (inclut des v\xe9rifications pr\xe9alables)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm lint"})," - Ex\xe9cuter ESLint pour v\xe9rifier la qualit\xe9 du code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm typecheck"})," - Ex\xe9cuter la v\xe9rification des types TypeScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"scripts/upgrade-dependencies.sh"})," - Mettre \xe0 jour tous les packages vers la derni\xe8re version, v\xe9rifier les vuln\xe9rabilit\xe9s et les corriger automatiquement"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"scripts/clean-workspace.sh"})," - Nettoyer l'espace de travail"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note :"})," Le script ",(0,i.jsx)(n.code,{children:"preinstall"})," applique automatiquement pnpm comme gestionnaire de paquets."]}),"\n",(0,i.jsx)(n.h3,{id:"documentation-scripts",children:"Scripts de Documentation"}),"\n",(0,i.jsxs)(n.p,{children:["Ces scripts doivent \xeatre ex\xe9cut\xe9s depuis le r\xe9pertoire ",(0,i.jsx)(n.code,{children:"documentation/"})," :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start"})," - Construire et servir le site de documentation en mode production (port 3000 par d\xe9faut)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start:en"})," - D\xe9marrer le serveur de d\xe9veloppement de documentation en anglais (rechargement \xe0 chaud activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start:fr"})," - D\xe9marrer le serveur de d\xe9veloppement de documentation en fran\xe7ais (rechargement \xe0 chaud activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start:de"})," - D\xe9marrer le serveur de d\xe9veloppement de documentation en allemand (rechargement \xe0 chaud activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start:es"})," - D\xe9marrer le serveur de d\xe9veloppement de documentation en espagnol (rechargement \xe0 chaud activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start:pt-br"})," - D\xe9marrer le serveur de d\xe9veloppement de documentation en portugais (Br\xe9sil) (rechargement \xe0 chaud activ\xe9)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm build"})," - Construire le site de documentation pour la production"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm write-translations"})," - Extraire les cha\xeenes traduisibles de la documentation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm translate"})," - Traduire les fichiers de documentation \xe0 l'aide de l'IA (voir ",(0,i.jsx)(n.a,{href:"translation-workflow",children:"Workflow de Traduction"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm lint"})," - Ex\xe9cuter ESLint sur les fichiers sources de documentation"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Les serveurs de d\xe9veloppement (",(0,i.jsx)(n.code,{children:"start:*"}),") offrent un remplacement de module \xe0 chaud pour un d\xe9veloppement rapide. Le port par d\xe9faut est 3000."]}),"\n",(0,i.jsx)(n.h3,{id:"production-scripts",children:"Scripts de Production"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm build-local"})," - Construire et pr\xe9parer pour la production locale (inclut les pr\xe9-v\xe9rifications, copie les fichiers statiques dans le r\xe9pertoire autonome)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start-local"})," - D\xe9marrer le serveur de production localement (port 8666, inclut les pr\xe9-v\xe9rifications). ",(0,i.jsx)(n.strong,{children:"Note :"})," Ex\xe9cutez d'abord ",(0,i.jsx)(n.code,{children:"pnpm build-local"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm start"})," - D\xe9marrer le serveur de production (port 9666)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"docker-scripts",children:"Scripts Docker"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm docker:up"})," - D\xe9marrer la pile Docker Compose"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm docker:down"})," - Arr\xeater la pile Docker Compose"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm docker:clean"})," - Nettoyer l'environnement Docker et le cache"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm docker:devel"})," - Construire une image Docker de d\xe9veloppement \xe9tiquet\xe9e ",(0,i.jsx)(n.code,{children:"wsj-br/duplistatus:devel"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cron-service-scripts",children:"Scripts du Service Cron"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm cron:start"})," - D\xe9marrer le service cron en mode production"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm cron:dev"})," - D\xe9marrer le service cron en mode d\xe9veloppement avec surveillance des fichiers (port 8667)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm cron:start-local"})," - D\xe9marrer le service cron localement pour les tests (port 8667)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"test-scripts",children:"Scripts de Test"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm generate-test-data"})," - G\xe9n\xe9rer des donn\xe9es de test de sauvegarde (n\xe9cessite le param\xe8tre --servers=N)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm show-overdue-notifications"})," - Afficher le contenu des notifications en retard"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm run-overdue-check"})," - Ex\xe9cuter la v\xe9rification des retards \xe0 une date/heure sp\xe9cifique"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm test-cron-port"})," - Tester la connectivit\xe9 du port du service cron"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm test-overdue-detection"})," - Tester la logique de d\xe9tection des sauvegardes en retard"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm validate-csv-export"})," - Valider la fonctionnalit\xe9 d'exportation CSV"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm set-smtp-test-config"})," - D\xe9finir la configuration de test SMTP \xe0 partir des variables d'environnement (voir ",(0,i.jsx)(n.a,{href:"test-scripts",children:"Scripts de Test"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm test-smtp-connections"})," - Tester la compatibilit\xe9 crois\xe9e des types de connexion SMTP (voir ",(0,i.jsx)(n.a,{href:"test-scripts",children:"Scripts de Test"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm test-entrypoint"})," - Tester le script de point d'entr\xe9e Docker en d\xe9veloppement local (voir ",(0,i.jsx)(n.a,{href:"test-scripts",children:"Scripts de Test"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pnpm take-screenshots"})," - Prendre des captures d'\xe9cran pour la documentation (voir ",(0,i.jsx)(n.a,{href:"documentation-tools",children:"Outils de Documentation"}),")"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},73230(e,n,s){s.d(n,{R:()=>l,x:()=>d});var r=s(71299);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);