"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1927],{51904(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"development/cron-service","title":"Service Cron","description":"cron-service}","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/development/cron-service.md","sourceDirName":"development","slug":"/development/cron-service","permalink":"/duplistatus/fr/development/cron-service","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"translation_last_updated":"2026-02-16T02:21:29.444Z","source_file_mtime":"2026-02-16T00:30:39.430Z","source_file_hash":"5ce1c81347ec9e1a","translation_language":"fr","source_file_path":"development/cron-service.md"},"sidebar":"mainSidebar","previous":{"title":"Scripts et Commandes Admin de l\'Espace de Travail","permalink":"/duplistatus/fr/development/workspace-admin-scripts-commands"},"next":{"title":"R\xe9f\xe9rence de D\xe9veloppement","permalink":"/duplistatus/fr/development/development-guidelines"}}');var t=r(36259),i=r(73230);const c={translation_last_updated:"2026-02-16T02:21:29.444Z",source_file_mtime:"2026-02-16T00:30:39.430Z",source_file_hash:"5ce1c81347ec9e1a",translation_language:"fr",source_file_path:"development/cron-service.md"},o="Service Cron {#cron-service}",l={},a=[{value:"D\xe9marrer le service cron en mode d\xe9veloppement",id:"start-cron-service-in-development-mode",level:2},{value:"D\xe9marrer le service cron en mode production",id:"start-cron-service-in-production-mode",level:2},{value:"D\xe9marrer le service cron localement (pour les tests)",id:"start-cron-service-locally-for-testing",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cron-service",children:"Service Cron"})}),"\n",(0,t.jsx)(n.p,{children:"L'application inclut un service cron distinct pour g\xe9rer les t\xe2ches planifi\xe9es :"}),"\n",(0,t.jsx)(n.h2,{id:"start-cron-service-in-development-mode",children:"D\xe9marrer le service cron en mode d\xe9veloppement"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm cron:dev\n"})}),"\n",(0,t.jsx)(n.h2,{id:"start-cron-service-in-production-mode",children:"D\xe9marrer le service cron en mode production"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm cron:start\n"})}),"\n",(0,t.jsx)(n.h2,{id:"start-cron-service-locally-for-testing",children:"D\xe9marrer le service cron localement (pour les tests)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm cron:start-local\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Le service cron s'ex\xe9cute sur un port s\xe9par\xe9 (8667 en d\xe9veloppement, 9667 en production) et g\xe8re les t\xe2ches planifi\xe9es comme les notifications de sauvegarde en retard. Le port peut \xeatre configur\xe9 \xe0 l'aide de la variable d'environnement ",(0,t.jsx)(n.code,{children:"CRON_PORT"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Le service cron comprend :"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Point de terminaison de v\xe9rification de sant\xe9"})," : ",(0,t.jsx)(n.code,{children:"/health"})," - Renvoie le statut du service et les t\xe2ches actives"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"D\xe9clenchement manuel de t\xe2ches"})," : ",(0,t.jsx)(n.code,{children:"POST /trigger/:taskName"})," - Ex\xe9cuter manuellement des t\xe2ches planifi\xe9es"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Gestion des t\xe2ches"})," : ",(0,t.jsx)(n.code,{children:"POST /start/:taskName"})," et ",(0,t.jsx)(n.code,{children:"POST /stop/:taskName"})," - Contr\xf4ler des t\xe2ches individuelles"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rechargement de la configuration"})," : ",(0,t.jsx)(n.code,{children:"POST /reload-config"})," - Recharger la configuration depuis la base de donn\xe9es"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Red\xe9marrage automatique"})," : Le service red\xe9marre automatiquement en cas de plantage (g\xe9r\xe9 par ",(0,t.jsx)(n.code,{children:"docker-entrypoint.sh"})," dans les d\xe9ploiements Docker)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mode surveillance"})," : Le mode de d\xe9veloppement inclut la surveillance des fichiers pour des red\xe9marrages automatiques lors de modifications de code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Surveillance des sauvegardes en retard"})," : V\xe9rification et notification automatiques des sauvegardes en retard (ex\xe9cut\xe9 toutes les 5 minutes par d\xe9faut)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Nettoyage du journal d'audit"})," : Nettoyage automatique des anciennes entr\xe9es du journal d'audit (ex\xe9cut\xe9 quotidiennement \xe0 2h UTC)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Planification flexible"})," : Expressions cron configurables pour diff\xe9rentes t\xe2ches"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Int\xe9gration de base de donn\xe9es"})," : Partage de la m\xeame base de donn\xe9es SQLite que l'application principale"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API RESTful"})," : API compl\xe8te pour la gestion et la surveillance du service"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},73230(e,n,r){r.d(n,{R:()=>c,x:()=>o});var s=r(71299);const t={},i=s.createContext(t);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);