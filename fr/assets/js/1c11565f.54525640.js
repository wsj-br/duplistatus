"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6665],{20227(n,e,r){r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"api-reference/cron-service-apis","title":"Cron Service Management","description":"cron-service-management}","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/api-reference/cron-service-apis.md","sourceDirName":"api-reference","slug":"/api-reference/cron-service-apis","permalink":"/duplistatus/fr/api-reference/cron-service-apis","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"mainSidebar","previous":{"title":"Configuration Management","permalink":"/duplistatus/fr/api-reference/configuration-apis"},"next":{"title":"External APIs","permalink":"/duplistatus/fr/api-reference/external-apis"}}');var s=r(36259),c=r(73230);const o={},l="Cron Service Management {#cron-service-management}",t={},d=[{value:"Get Cron Configuration - <code>/api/cron-config</code>",id:"get-cron-configuration-apicron-config",level:2},{value:"Update Cron Configuration - <code>/api/cron-config</code>",id:"update-cron-configuration-apicron-config",level:2},{value:"Cron Service Proxy - <code>/api/cron/*</code>",id:"cron-service-proxy-apicron",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"cron-service-management",children:"Cron Service Management"})}),"\n",(0,s.jsxs)(e.h2,{id:"get-cron-configuration-apicron-config",children:["Get Cron Configuration - ",(0,s.jsx)(e.code,{children:"/api/cron-config"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Endpoint"}),": ",(0,s.jsx)(e.code,{children:"/api/cron-config"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Method"}),": GET"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Description"}),": Retrieves the current cron service configuration."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Response"}),":","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "cronExpression": "*/20 * * * *",\n  "enabled": true\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"500"}),": Failed to get cron configuration"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Notes"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Returns current cron service configuration"}),"\n",(0,s.jsx)(e.li,{children:"Includes cron expression and enabled status"}),"\n",(0,s.jsx)(e.li,{children:"Used for cron service management"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"update-cron-configuration-apicron-config",children:["Update Cron Configuration - ",(0,s.jsx)(e.code,{children:"/api/cron-config"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Endpoint"}),": ",(0,s.jsx)(e.code,{children:"/api/cron-config"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Method"}),": POST"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Description"}),": Updates the cron service configuration."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Request Body"}),":","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "interval": "20min"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Response"}),":","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "success": true\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Available Intervals"}),": ",(0,s.jsx)(e.code,{children:'"disabled"'}),", ",(0,s.jsx)(e.code,{children:'"1min"'}),", ",(0,s.jsx)(e.code,{children:'"5min"'}),", ",(0,s.jsx)(e.code,{children:'"10min"'}),", ",(0,s.jsx)(e.code,{children:'"15min"'}),", ",(0,s.jsx)(e.code,{children:'"20min"'}),", ",(0,s.jsx)(e.code,{children:'"30min"'}),", ",(0,s.jsx)(e.code,{children:'"1hour"'}),", ",(0,s.jsx)(e.code,{children:'"2hours"'})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Error Responses"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"400"}),": Interval is required"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"500"}),": Failed to update cron configuration"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Notes"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Updates cron service configuration"}),"\n",(0,s.jsx)(e.li,{children:"Validates interval against allowed options"}),"\n",(0,s.jsx)(e.li,{children:"Affects overdue backup check frequency"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"cron-service-proxy-apicron",children:["Cron Service Proxy - ",(0,s.jsx)(e.code,{children:"/api/cron/*"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Endpoint"}),": ",(0,s.jsx)(e.code,{children:"/api/cron/*"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Method"}),": GET, POST"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Description"}),": Proxies requests to the cron service. This endpoint forwards all requests to the cron service running on a separate port."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Authentication"}),": Requires valid session and CSRF token"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Parameters"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"*"}),": Any path that will be forwarded to the cron service"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Response"}),": Depends on the cron service endpoint being accessed"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Error Response"})," (503):","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "error": "Cron service is not running",\n  "message": "The cron service is not available. Please start it with: npm run cron:start"\n}\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Notes"}),":","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Proxies requests to the cron service"}),"\n",(0,s.jsx)(e.li,{children:"Returns 503 if cron service is not available"}),"\n",(0,s.jsx)(e.li,{children:"Supports both GET and POST methods"}),"\n",(0,s.jsx)(e.li,{children:"Used for cron service management from the web interface"}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(a,{...n})}):a(n)}},73230(n,e,r){r.d(e,{R:()=>o,x:()=>l});var i=r(71299);const s={},c=i.createContext(s);function o(n){const e=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);