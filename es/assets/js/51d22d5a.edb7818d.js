"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2107],{2053(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"development/podman-testing","title":"Pruebas de Podman","description":"podman-testing}","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/development/podman-testing.md","sourceDirName":"development","slug":"/development/podman-testing","permalink":"/duplistatus/es/development/podman-testing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"translation_last_updated":"2026-02-16T02:21:38.701Z","source_file_mtime":"2026-02-16T00:30:39.430Z","source_file_hash":"841b30d8ee97e362","translation_language":"es","source_file_path":"development/podman-testing.md"},"sidebar":"mainSidebar","previous":{"title":"Flujo de Trabajo de Mantenimiento de Traducciones","permalink":"/duplistatus/es/development/translation-workflow"},"next":{"title":"Gesti\xf3n de Versiones","permalink":"/duplistatus/es/development/release-management"}}');var o=s(36259),d=s(73230);const r={translation_last_updated:"2026-02-16T02:21:38.701Z",source_file_mtime:"2026-02-16T00:30:39.430Z",source_file_hash:"841b30d8ee97e362",translation_language:"es",source_file_path:"development/podman-testing.md"},l="Pruebas de Podman {#podman-testing}",c={},a=[{value:"Configuraci\xf3n Inicial y Gesti\xf3n",id:"initial-setup-and-management",level:2},{value:"Configuraci\xf3n de DNS",id:"dns-configuration",level:2},{value:"Monitoreo y Verificaciones de Salud",id:"monitoring-and-health-checks",level:2},{value:"Comandos de Depuraci\xf3n",id:"debugging-commands",level:2},{value:"Flujo de Trabajo de Uso",id:"usage-workflow",level:2},{value:"Servidor de Desarrollo",id:"development-server",level:3},{value:"Servidor Podman",id:"podman-server",level:3},{value:"Notas Importantes",id:"important-notes",level:2},{value:"Redes de Pods de Podman",id:"podman-pod-networking",level:3},{value:"Modo sin root vs Modo root",id:"rootless-vs-root-mode",level:3},{value:"Configuraci\xf3n del Entorno",id:"environment-configuration",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"podman-testing",children:"Pruebas de Podman"})}),"\n",(0,o.jsxs)(n.p,{children:["Copiar y ejecutar los scripts ubicados en ",(0,o.jsx)(n.code,{children:"scripts/podman_testing"})," en el Servidor de prueba de Podman."]}),"\n",(0,o.jsx)(n.h2,{id:"initial-setup-and-management",children:"Configuraci\xf3n Inicial y Gesti\xf3n"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.local"}),": Copia la imagen de Docker del daemon de Docker local a Podman (para pruebas locales)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.remote"}),": Copia la imagen de Docker de un servidor de desarrollo remoto a Podman (requiere acceso SSH).","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Cree la imagen en el servidor de desarrollo utilizando: ",(0,o.jsx)(n.code,{children:"docker build . -t wsj-br/duplistatus:devel"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"start.duplistatus"}),": Inicia el contenedor en modo sin privilegios de root."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"pod.testing"}),": Prueba el contenedor dentro de un pod de Podman (con privilegios de root)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"stop.duplistatus"}),": Detiene el pod y elimina el contenedor."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"clean.duplistatus"}),": Detiene los contenedores, elimina los pods y limpia las im\xe1genes antiguas."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"dns-configuration",children:"Configuraci\xf3n de DNS"}),"\n",(0,o.jsx)(n.p,{children:"Los scripts detectan y configuran autom\xe1ticamente la configuraci\xf3n de DNS desde el sistema host:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Detecci\xf3n Autom\xe1tica"}),": Utiliza ",(0,o.jsx)(n.code,{children:"resolvectl status"})," (systemd-resolved) para extraer servidores DNS y dominios de b\xfasqueda"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Soporte de Respaldo"}),": Recurre al an\xe1lisis de ",(0,o.jsx)(n.code,{children:"/etc/resolv.conf"})," en sistemas sin systemd"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Filtrado Inteligente"}),": Filtra autom\xe1ticamente direcciones localhost y servidores de nombres IPv6"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Compatible con"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Tailscale MagicDNS (100.100.100.100)"}),"\n",(0,o.jsx)(n.li,{children:"Servidores DNS corporativos"}),"\n",(0,o.jsx)(n.li,{children:"Configuraciones de red est\xe1ndar"}),"\n",(0,o.jsx)(n.li,{children:"Configuraciones DNS Personalizadas"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"No es necesaria ninguna configuraci\xf3n manual de DNS: \xa1los scripts la manejan autom\xe1ticamente!"}),"\n",(0,o.jsx)(n.h2,{id:"monitoring-and-health-checks",children:"Monitoreo y Verificaciones de Salud"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"check.duplistatus"}),": Comprueba los logs, la conectividad y el estado de la aplicaci\xf3n."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"debugging-commands",children:"Comandos de Depuraci\xf3n"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"logs.duplistatus"}),": Muestra los logs del pod."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"exec.shell.duplistatus"}),": Abre un shell en el contenedor."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"restart.duplistatus"}),": Detiene el pod, elimina el contenedor, copia la imagen, crea el contenedor e inicia el pod."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"usage-workflow",children:"Flujo de Trabajo de Uso"}),"\n",(0,o.jsx)(n.h3,{id:"development-server",children:"Servidor de Desarrollo"}),"\n",(0,o.jsx)(n.p,{children:"Crear la imagen de Docker en el servidor de desarrollo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker build . -t wsj-br/duplistatus:devel\n"})}),"\n",(0,o.jsx)(n.h3,{id:"podman-server",children:"Servidor Podman"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Transferir la imagen de Docker:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"./copy.docker.duplistatus.local"})," si Docker y Podman est\xe1n en la misma m\xe1quina"]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"./copy.docker.duplistatus.remote"})," si copia desde un servidor de desarrollo remoto (requiere archivo ",(0,o.jsx)(n.code,{children:".env"})," con ",(0,o.jsx)(n.code,{children:"REMOTE_USER"})," y ",(0,o.jsx)(n.code,{children:"REMOTE_HOST"}),")"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Inicie el contenedor con ",(0,o.jsx)(n.code,{children:"./start.duplistatus"})," (independiente, sin privilegios)","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["O use ",(0,o.jsx)(n.code,{children:"./pod.testing"})," para probar en modo pod (con root)"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Monitoree con ",(0,o.jsx)(n.code,{children:"./check.duplistatus"})," y ",(0,o.jsx)(n.code,{children:"./logs.duplistatus"})]}),"\n",(0,o.jsxs)(n.li,{children:["Detenga con ",(0,o.jsx)(n.code,{children:"./stop.duplistatus"})," cuando haya terminado"]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"./restart.duplistatus"})," para un ciclo de reinicio completo (detener, copiar imagen, iniciar)","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nota"}),": Este script actualmente hace referencia a ",(0,o.jsx)(n.code,{children:"copy.docker.duplistatus"})," que debe reemplazarse con la variante ",(0,o.jsx)(n.code,{children:".local"})," o ",(0,o.jsx)(n.code,{children:".remote"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Use ",(0,o.jsx)(n.code,{children:"./clean.duplistatus"})," para eliminar contenedores, pods e im\xe1genes antiguas"]}),"\n"]}),"\n",(0,o.jsx)(n.h1,{id:"testing-the-application",children:"Prueba de la Aplicaci\xf3n"}),"\n",(0,o.jsxs)(n.p,{children:["Si est\xe1 ejecutando el servidor de Podman en la misma m\xe1quina, utilice ",(0,o.jsx)(n.code,{children:"http://localhost:9666"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Si est\xe1s en otro servidor, obt\xe9n la URL con:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"echo \"http://$(hostname -I | awk '{print $1}'):9666\"\n"})}),"\n",(0,o.jsx)(n.h2,{id:"important-notes",children:"Notas Importantes"}),"\n",(0,o.jsx)(n.h3,{id:"podman-pod-networking",children:"Redes de Pods de Podman"}),"\n",(0,o.jsx)(n.p,{children:"Cuando se ejecuta en pods de Podman, la aplicaci\xf3n requiere:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Configuraci\xf3n expl\xedcita de DNS (manejada autom\xe1ticamente por el script ",(0,o.jsx)(n.code,{children:"pod.testing"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:["Vinculaci\xf3n de puerto a todas las interfaces (",(0,o.jsx)(n.code,{children:"0.0.0.0:9666"}),")"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Los scripts manejan estos requisitos autom\xe1ticamente - no se requiere configuraci\xf3n manual."}),"\n",(0,o.jsx)(n.h3,{id:"rootless-vs-root-mode",children:"Modo sin root vs Modo root"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modo independiente"})," (",(0,o.jsx)(n.code,{children:"start.duplistatus"}),"): Se ejecuta sin privilegios de root con ",(0,o.jsx)(n.code,{children:"--userns=keep-id"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Modo pod"})," (",(0,o.jsx)(n.code,{children:"pod.testing"}),"): Se ejecuta como root dentro del pod para prop\xf3sitos de prueba"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Ambos modos funcionan correctamente con la detecci\xf3n autom\xe1tica de DNS."}),"\n",(0,o.jsx)(n.h2,{id:"environment-configuration",children:"Configuraci\xf3n del Entorno"}),"\n",(0,o.jsxs)(n.p,{children:["Tanto ",(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.local"})," como ",(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.remote"})," requieren un archivo ",(0,o.jsx)(n.code,{children:".env"})," en el directorio ",(0,o.jsx)(n.code,{children:"scripts/podman_testing"}),":"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Para copia local"})," (",(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.local"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"IMAGE=wsj-br/duplistatus:devel\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Para copia remota"})," (",(0,o.jsx)(n.code,{children:"copy.docker.duplistatus.remote"}),"):"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"IMAGE=wsj-br/duplistatus:devel\nREMOTE_USER=your_username\nREMOTE_HOST=your_hostname\n"})}),"\n",(0,o.jsxs)(n.p,{children:["El script ",(0,o.jsx)(n.code,{children:"start.duplistatus"})," requiere un archivo ",(0,o.jsx)(n.code,{children:".env"})," con al menos la variable ",(0,o.jsx)(n.code,{children:"IMAGE"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"IMAGE=wsj-br/duplistatus:devel\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Nota"}),": El mensaje de error del script menciona ",(0,o.jsx)(n.code,{children:"REMOTE_USER"})," y ",(0,o.jsx)(n.code,{children:"REMOTE_HOST"}),", pero estos no son utilizados realmente por ",(0,o.jsx)(n.code,{children:"start.duplistatus"}),"\u2014solo se requiere ",(0,o.jsx)(n.code,{children:"IMAGE"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(t,{...e})}):t(e)}},73230(e,n,s){s.d(n,{R:()=>r,x:()=>l});var i=s(71299);const o={},d=i.createContext(o);function r(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);