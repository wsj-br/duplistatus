<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-migration/version_upgrade" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Migration Guide | duplistatus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wsj-br.github.io/duplistatus/img/duplistatus_banner.png"><meta data-rh="true" name="twitter:image" content="https://wsj-br.github.io/duplistatus/img/duplistatus_banner.png"><meta data-rh="true" property="og:url" content="https://wsj-br.github.io/duplistatus/migration/version_upgrade"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migration Guide | duplistatus"><meta data-rh="true" name="description" content="This guide explains how to upgrade between versions of duplistatus. Migrations are automatic—the database schema updates itself when you start a new version."><meta data-rh="true" property="og:description" content="This guide explains how to upgrade between versions of duplistatus. Migrations are automatic—the database schema updates itself when you start a new version."><link data-rh="true" rel="icon" href="/duplistatus/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wsj-br.github.io/duplistatus/migration/version_upgrade"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/migration/version_upgrade" hreflang="en"><link data-rh="true" rel="alternate" href="https://wsj-br.github.io/duplistatus/migration/version_upgrade" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Migration Guide","item":"https://wsj-br.github.io/duplistatus/migration/version_upgrade"}]}</script><link rel="stylesheet" href="/duplistatus/assets/css/styles.6bc6dc47.css">
<script src="/duplistatus/assets/js/runtime~main.21c1d1d6.js" defer="defer"></script>
<script src="/duplistatus/assets/js/main.ccc5b950.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/duplistatus/img/duplistatus_logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_BiSY" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/duplistatus/"><div class="navbar__logo"><img src="/duplistatus/img/duplistatus_logo.svg" alt="duplistatus Logo" class="themedComponent_WUqw themedComponent--light_fUpw"><img src="/duplistatus/img/duplistatus_logo.svg" alt="duplistatus Logo" class="themedComponent_WUqw themedComponent--dark_tqMC"></div><b class="navbar__title text--truncate">duplistatus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/duplistatus/intro">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_qba_"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_bSjt"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_B_jO colorModeToggle_jZxJ"><button class="clean-btn toggleButton_BeCY toggleButtonDisabled_XFEq" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_psOA lightToggleIcon_lzYj"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_psOA darkToggleIcon_iw73"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_psOA systemToggleIcon_lF1S"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ApF5"><div class="docsWrapper_jTrD"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_UcY2" type="button"></button><div class="docRoot_hFeV"><aside class="theme-doc-sidebar-container docSidebarContainer_Mx1Y"><div class="sidebarViewport_CABn"><div class="sidebar_kv5U"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_nHS1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/duplistatus/intro"><span title="Welcome to duplistatus" class="linkLabel_rWuR">Welcome to duplistatus</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/installation"><span title="Installation" class="categoryLinkLabel_ReCw">Installation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/user-guide/overview"><span title="User Guide" class="categoryLinkLabel_ReCw">User Guide</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/duplistatus/migration/version_upgrade"><span title="Migration" class="categoryLinkLabel_ReCw">Migration</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/duplistatus/migration/version_upgrade"><span title="Migration Guide" class="linkLabel_rWuR">Migration Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/duplistatus/migration/api-changes"><span title="API Breaking Changes" class="linkLabel_rWuR">API Breaking Changes</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/api-reference/overview"><span title="API Reference" class="categoryLinkLabel_ReCw">API Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/development/setup"><span title="Development" class="categoryLinkLabel_ReCw">Development</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_DKGJ menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/duplistatus/release-notes/1.1.x"><span title="Release Notes" class="categoryLinkLabel_ReCw">Release Notes</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_DpxH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_dr6N"><div class="docItemContainer_y9CV"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__boP" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/duplistatus/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_eg0p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Migration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Migration Guide</span></li></ul></nav><div class="tocCollapsible_bTBG theme-doc-toc-mobile tocMobile_aSdP"><button type="button" class="clean-btn tocCollapsibleButton_Bgqj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migration Guide</h1></header>
<p>This guide explains how to upgrade between versions of duplistatus. Migrations are automatic—the database schema updates itself when you start a new version.</p>
<p>Manual steps are only required if you have customised notification templates (version 0.8.x changed template variables) or external API integrations that need updating (version 0.7.x changed API field names, version 0.9.x requires authentication).</p>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>duplistatus automatically migrates your database schema when upgrading. The system:</p>
<ol>
<li class="">Creates a backup of your database before making changes</li>
<li class="">Updates the database schema to the latest version</li>
<li class="">Preserves all existing data (servers, backups, configuration)</li>
<li class="">Verifies the migration completed successfully</li>
</ol>
<div class="markdown-alert markdown-alert-note">
<p class="markdown-alert-title"><span class="octicon octicon-note" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-info mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Note</p>
<p>Current version: <strong>1.1.0</strong> (Schema v4.0). The migration system supports upgrading from any version 0.6.x or later.</p>
</div>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="automatic-migration-process">Automatic Migration Process<a href="#automatic-migration-process" class="hash-link" aria-label="Direct link to Automatic Migration Process" title="Direct link to Automatic Migration Process" translate="no">​</a></h2>
<p>When you start a new version, migrations run automatically:</p>
<ol>
<li class=""><strong>Backup Creation</strong>: A timestamped backup is created in your data directory</li>
<li class=""><strong>Schema Update</strong>: Database tables and fields are updated as needed</li>
<li class=""><strong>Data Migration</strong>: All existing data is preserved and migrated</li>
<li class=""><strong>Verification</strong>: Migration success is logged</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="monitoring-migration">Monitoring Migration<a href="#monitoring-migration" class="hash-link" aria-label="Direct link to Monitoring Migration" title="Direct link to Monitoring Migration" translate="no">​</a></h3>
<p>Check Docker logs to monitor migration progress:</p>
<div class="language-bash codeBlockContainer_timU theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_BQxH"><pre tabindex="0" class="prism-code language-bash codeBlock_DtFS thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_UsxB"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> logs </span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token plain">container-name</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><br></span></code></pre></div></div>
<p>Look for messages like:</p>
<ul>
<li class=""><code>&quot;Found X pending migrations&quot;</code></li>
<li class=""><code>&quot;Running consolidated migration X.0...&quot;</code></li>
<li class=""><code>&quot;Migration X.0 completed successfully&quot;</code></li>
<li class=""><code>&quot;Database backup created: /path/to/backups-copy-YYYY-MM-DDTHH-MM-SS.db&quot;</code></li>
<li class=""><code>&quot;All migrations completed successfully&quot;</code></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="version-specific-migration-notes">Version-Specific Migration Notes<a href="#version-specific-migration-notes" class="hash-link" aria-label="Direct link to Version-Specific Migration Notes" title="Direct link to Version-Specific Migration Notes" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="upgrading-to-version-09x-or-later-schema-v40">Upgrading to Version 0.9.x or Later (Schema v4.0)<a href="#upgrading-to-version-09x-or-later-schema-v40" class="hash-link" aria-label="Direct link to Upgrading to Version 0.9.x or Later (Schema v4.0)" title="Direct link to Upgrading to Version 0.9.x or Later (Schema v4.0)" translate="no">​</a></h3>
<div class="markdown-alert markdown-alert-warning">
<p class="markdown-alert-title"><span class="octicon octicon-warning" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-alert mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Warning</p>
<p><strong>Authentication is now required.</strong> All users must log in after upgrading.</p>
</div>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-changes-automatically">What Changes Automatically<a href="#what-changes-automatically" class="hash-link" aria-label="Direct link to What Changes Automatically" title="Direct link to What Changes Automatically" translate="no">​</a></h4>
<ul>
<li class="">Database schema migrates from v3.1 to v4.0</li>
<li class="">New tables created: <code>users</code>, <code>sessions</code>, <code>audit_log</code></li>
<li class="">Default admin account created automatically</li>
<li class="">All existing sessions invalidated</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-you-must-do">What You Must Do<a href="#what-you-must-do" class="hash-link" aria-label="Direct link to What You Must Do" title="Direct link to What You Must Do" translate="no">​</a></h4>
<ol>
<li class=""><strong>Log in</strong> with default admin credentials:<!-- -->
<ul>
<li class="">Username: <code>admin</code></li>
<li class="">Password: <code>Duplistatus09</code></li>
</ul>
</li>
<li class=""><strong>Change the password</strong> when prompted (required on first login)</li>
<li class=""><strong>Create user accounts</strong> for other users (Settings → Users)</li>
<li class=""><strong>Update external API integrations</strong> to include authentication (see <a class="" href="/duplistatus/migration/api-changes">API Breaking Changes</a>)</li>
<li class=""><strong>Configure audit log retention</strong> if needed (Settings → Audit Log)</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="if-youre-locked-out">If You&#x27;re Locked Out<a href="#if-youre-locked-out" class="hash-link" aria-label="Direct link to If You&#x27;re Locked Out" title="Direct link to If You&#x27;re Locked Out" translate="no">​</a></h4>
<p>Use the admin recovery tool:</p>
<div class="language-bash codeBlockContainer_timU theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_BQxH"><pre tabindex="0" class="prism-code language-bash codeBlock_DtFS thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_UsxB"><span class="token-line" style="color:#d6deeb"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 139)">exec</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(214, 222, 235)">-it</span><span class="token plain"> duplistatus /app/admin-recovery admin NewPassword123</span><br></span></code></pre></div></div>
<p>See <a class="" href="/duplistatus/user-guide/admin-recovery">Admin Recovery Guide</a> for details.</p>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="upgrading-to-version-08x">Upgrading to Version 0.8.x<a href="#upgrading-to-version-08x" class="hash-link" aria-label="Direct link to Upgrading to Version 0.8.x" title="Direct link to Upgrading to Version 0.8.x" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-changes-automatically-1">What Changes Automatically<a href="#what-changes-automatically-1" class="hash-link" aria-label="Direct link to What Changes Automatically" title="Direct link to What Changes Automatically" translate="no">​</a></h4>
<ul>
<li class="">Database schema updated to v3.1</li>
<li class="">Master key generated for encryption (stored in <code>.duplistatus.key</code>)</li>
<li class="">Sessions invalidated (new CSRF-protected sessions created)</li>
<li class="">Passwords encrypted using new system</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-you-must-do-1">What You Must Do<a href="#what-you-must-do-1" class="hash-link" aria-label="Direct link to What You Must Do" title="Direct link to What You Must Do" translate="no">​</a></h4>
<ol>
<li class=""><strong>Update notification templates</strong> if you customised them:<!-- -->
<ul>
<li class="">Replace <code>{backup_interval_value}</code> and <code>{backup_interval_type}</code> with <code>{backup_interval}</code></li>
<li class="">Default templates are updated automatically</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="security-notes">Security Notes<a href="#security-notes" class="hash-link" aria-label="Direct link to Security Notes" title="Direct link to Security Notes" translate="no">​</a></h4>
<ul>
<li class="">Ensure <code>.duplistatus.key</code> file is backed up (has 0400 permissions)</li>
<li class="">Sessions expire after 24 hours</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="upgrading-to-version-07x">Upgrading to Version 0.7.x<a href="#upgrading-to-version-07x" class="hash-link" aria-label="Direct link to Upgrading to Version 0.7.x" title="Direct link to Upgrading to Version 0.7.x" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-changes-automatically-2">What Changes Automatically<a href="#what-changes-automatically-2" class="hash-link" aria-label="Direct link to What Changes Automatically" title="Direct link to What Changes Automatically" translate="no">​</a></h4>
<ul>
<li class=""><code>machines</code> table renamed to <code>servers</code></li>
<li class=""><code>machine_id</code> fields renamed to <code>server_id</code></li>
<li class="">New fields added: <code>alias</code>, <code>notes</code>, <code>created_at</code>, <code>updated_at</code></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_xjbn" id="what-you-must-do-2">What You Must Do<a href="#what-you-must-do-2" class="hash-link" aria-label="Direct link to What You Must Do" title="Direct link to What You Must Do" translate="no">​</a></h4>
<ol>
<li class=""><strong>Update external API integrations</strong>:<!-- -->
<ul>
<li class="">Change <code>totalMachines</code> → <code>totalServers</code> in <code>/api/summary</code></li>
<li class="">Change <code>machine</code> → <code>server</code> in API response objects</li>
<li class="">Change <code>backup_types_count</code> → <code>backup_jobs_count</code> in <code>/api/lastbackups/{serverId}</code></li>
<li class="">Update endpoint paths from <code>/api/machines/...</code> to <code>/api/servers/...</code></li>
</ul>
</li>
<li class=""><strong>Update notification templates</strong>:<!-- -->
<ul>
<li class="">Replace <code>{machine_name}</code> with <code>{server_name}</code></li>
</ul>
</li>
</ol>
<p>See <a class="" href="/duplistatus/migration/api-changes">API Breaking Changes</a> for detailed API migration steps.</p>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="post-migration-checklist">Post-Migration Checklist<a href="#post-migration-checklist" class="hash-link" aria-label="Direct link to Post-Migration Checklist" title="Direct link to Post-Migration Checklist" translate="no">​</a></h2>
<p>After upgrading, verify:</p>
<ul class="contains-task-list containsTaskList_stI0">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->All servers appear correctly in the dashboard</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Backup history is complete and accessible</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Notifications work (test NTFY/email)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->External API integrations work (if applicable)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Settings are accessible and correct</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Overdue monitoring works correctly</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Logged in successfully (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Changed default admin password (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Created user accounts for other users (0.9.x+)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Updated external API integrations with authentication (0.9.x+)</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="migration-fails">Migration Fails<a href="#migration-fails" class="hash-link" aria-label="Direct link to Migration Fails" title="Direct link to Migration Fails" translate="no">​</a></h3>
<ol>
<li class="">Check disk space (backup requires space)</li>
<li class="">Verify write permissions on data directory</li>
<li class="">Review container logs for specific errors</li>
<li class="">Restore from backup if needed (see Rollback below)</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="data-missing-after-migration">Data Missing After Migration<a href="#data-missing-after-migration" class="hash-link" aria-label="Direct link to Data Missing After Migration" title="Direct link to Data Missing After Migration" translate="no">​</a></h3>
<ol>
<li class="">Verify backup was created (check data directory)</li>
<li class="">Review container logs for backup creation messages</li>
<li class="">Check database file integrity</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="authentication-issues-09x">Authentication Issues (0.9.x+)<a href="#authentication-issues-09x" class="hash-link" aria-label="Direct link to Authentication Issues (0.9.x+)" title="Direct link to Authentication Issues (0.9.x+)" translate="no">​</a></h3>
<ol>
<li class="">Verify default admin account exists (check logs)</li>
<li class="">Try default credentials: <code>admin</code> / <code>Duplistatus09</code></li>
<li class="">Use admin recovery tool if locked out</li>
<li class="">Verify <code>users</code> table exists in database</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="api-errors">API Errors<a href="#api-errors" class="hash-link" aria-label="Direct link to API Errors" title="Direct link to API Errors" translate="no">​</a></h3>
<ol>
<li class="">Review <a class="" href="/duplistatus/migration/api-changes">API Breaking Changes</a> for endpoint updates</li>
<li class="">Update external integrations with new field names</li>
<li class="">Add authentication to API requests (0.9.x+)</li>
<li class="">Test API endpoints after migration</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="master-key-issues-08x">Master Key Issues (0.8.x+)<a href="#master-key-issues-08x" class="hash-link" aria-label="Direct link to Master Key Issues (0.8.x+)" title="Direct link to Master Key Issues (0.8.x+)" translate="no">​</a></h3>
<ol>
<li class="">Ensure <code>.duplistatus.key</code> file is accessible</li>
<li class="">Verify file permissions are 0400</li>
<li class="">Check container logs for key generation errors</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_xjbn" id="podman-dns-configuration">Podman DNS Configuration<a href="#podman-dns-configuration" class="hash-link" aria-label="Direct link to Podman DNS Configuration" title="Direct link to Podman DNS Configuration" translate="no">​</a></h3>
<p>If you&#x27;re using Podman and experiencing network connectivity issues after upgrading, you may need to configure DNS settings for your container. See the <a class="" href="/duplistatus/installation#configuring-dns-for-podman-containers">DNS configuration section</a> in the installation guide for details.</p>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="rollback-procedure">Rollback Procedure<a href="#rollback-procedure" class="hash-link" aria-label="Direct link to Rollback Procedure" title="Direct link to Rollback Procedure" translate="no">​</a></h2>
<p>If you need to rollback to a previous version:</p>
<ol>
<li class=""><strong>Stop the container</strong>: <code>docker stop &lt;container-name&gt;</code></li>
<li class=""><strong>Find your backup</strong>: Located in the data directory (timestamped <code>.db</code> files)</li>
<li class=""><strong>Restore the database</strong>: Replace <code>backups.db</code> with the backup file</li>
<li class=""><strong>Use previous image version</strong>: Pull and run the previous container image</li>
<li class=""><strong>Start the container</strong>: Start with the previous version</li>
</ol>
<div class="markdown-alert markdown-alert-warning">
<p class="markdown-alert-title"><span class="octicon octicon-warning" style="--oct-icon:url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; class=&#x27;octicon octicon-alert mr-2&#x27; viewBox=&#x27;0 0 16 16&#x27; version=&#x27;1.1&#x27; width=&#x27;16&#x27; height=&#x27;16&#x27; aria-hidden=&#x27;true&#x27;%3E%3Cpath d=&#x27;M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;)"></span>Warning</p>
<p>Rolling back may cause data loss if the newer schema is incompatible with the older version. Always ensure you have a recent backup before attempting rollback.</p>
</div>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="database-schema-versions">Database Schema Versions<a href="#database-schema-versions" class="hash-link" aria-label="Direct link to Database Schema Versions" title="Direct link to Database Schema Versions" translate="no">​</a></h2>
<table><thead><tr><th>Application Version</th><th>Schema Version</th><th>Key Changes</th></tr></thead><tbody><tr><td>0.6.x and earlier</td><td>v1.0</td><td>Initial schema</td></tr><tr><td>0.7.x</td><td>v2.0, v3.0</td><td>Added configurations, renamed machines → servers</td></tr><tr><td>0.8.x</td><td>v3.1</td><td>Enhanced backup fields, encryption support</td></tr><tr><td>0.9.x, 1.0.x, 1.1.x</td><td>v4.0</td><td>User access control, authentication, audit logging</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_xjbn" id="getting-help">Getting Help<a href="#getting-help" class="hash-link" aria-label="Direct link to Getting Help" title="Direct link to Getting Help" translate="no">​</a></h2>
<ul>
<li class=""><strong>Documentation</strong>: <a class="" href="/duplistatus/user-guide/overview">User Guide</a></li>
<li class=""><strong>API Reference</strong>: <a class="" href="/duplistatus/api-reference/overview">API Documentation</a></li>
<li class=""><strong>API Changes</strong>: <a class="" href="/duplistatus/migration/api-changes">API Breaking Changes</a></li>
<li class=""><strong>Release Notes</strong>: Check version-specific release notes for detailed changes</li>
<li class=""><strong>Community</strong>: <a href="https://github.com/wsj-br/duplistatus/discussions" target="_blank" rel="noopener noreferrer" class="">GitHub Discussions</a></li>
<li class=""><strong>Issues</strong>: <a href="https://github.com/wsj-br/duplistatus/issues" target="_blank" rel="noopener noreferrer" class="">GitHub Issues</a></li>
</ul></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/duplistatus/user-guide/admin-recovery"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Admin Account Recovery</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/duplistatus/migration/api-changes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Breaking Changes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_S0Bn thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#automatic-migration-process" class="table-of-contents__link toc-highlight">Automatic Migration Process</a><ul><li><a href="#monitoring-migration" class="table-of-contents__link toc-highlight">Monitoring Migration</a></li></ul></li><li><a href="#version-specific-migration-notes" class="table-of-contents__link toc-highlight">Version-Specific Migration Notes</a><ul><li><a href="#upgrading-to-version-09x-or-later-schema-v40" class="table-of-contents__link toc-highlight">Upgrading to Version 0.9.x or Later (Schema v4.0)</a></li><li><a href="#upgrading-to-version-08x" class="table-of-contents__link toc-highlight">Upgrading to Version 0.8.x</a></li><li><a href="#upgrading-to-version-07x" class="table-of-contents__link toc-highlight">Upgrading to Version 0.7.x</a></li></ul></li><li><a href="#post-migration-checklist" class="table-of-contents__link toc-highlight">Post-Migration Checklist</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#migration-fails" class="table-of-contents__link toc-highlight">Migration Fails</a></li><li><a href="#data-missing-after-migration" class="table-of-contents__link toc-highlight">Data Missing After Migration</a></li><li><a href="#authentication-issues-09x" class="table-of-contents__link toc-highlight">Authentication Issues (0.9.x+)</a></li><li><a href="#api-errors" class="table-of-contents__link toc-highlight">API Errors</a></li><li><a href="#master-key-issues-08x" class="table-of-contents__link toc-highlight">Master Key Issues (0.8.x+)</a></li><li><a href="#podman-dns-configuration" class="table-of-contents__link toc-highlight">Podman DNS Configuration</a></li></ul></li><li><a href="#rollback-procedure" class="table-of-contents__link toc-highlight">Rollback Procedure</a></li><li><a href="#database-schema-versions" class="table-of-contents__link toc-highlight">Database Schema Versions</a></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/user-guide/overview">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/migration/version_upgrade">Migration</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Development</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/duplistatus/development/setup">Development Setup</a></li><li class="footer__item"><a class="footer__link-item" href="/duplistatus/api-reference/overview">API Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/wsj-br/duplistatus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_bSjt"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://hub.docker.com/r/wsjbr/duplistatus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docker Hub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_bSjt"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Waldemar Scudeller Jr.</div></div></div></footer></div>
</body>
</html>