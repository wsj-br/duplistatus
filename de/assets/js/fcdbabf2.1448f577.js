"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9337],{25099(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>l,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"development/database","title":"Datenbankschema","description":"database-schema}","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/development/database.md","sourceDirName":"development","slug":"/development/database","permalink":"/duplistatus/de/development/database","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"translation_last_updated":"2026-02-16T02:21:33.913Z","source_file_mtime":"2026-02-16T00:30:39.430Z","source_file_hash":"21d21cb01acea43b","translation_language":"de","source_file_path":"development/database.md"},"sidebar":"mainSidebar","previous":{"title":"Am h\xe4ufigsten verwendete Befehle","permalink":"/duplistatus/de/development/devel"},"next":{"title":"Dokumentationswerkzeuge","permalink":"/duplistatus/de/development/documentation-tools"}}');var r=s(36259),i=s(73230);const l={translation_last_updated:"2026-02-16T02:21:33.913Z",source_file_mtime:"2026-02-16T00:30:39.430Z",source_file_hash:"21d21cb01acea43b",translation_language:"de",source_file_path:"development/database.md"},t="Datenbankschema {#database-schema}",c={},h=[{value:"Datenbankstandort",id:"database-location",level:2},{value:"Datenbankmigrationssystem",id:"database-migration-system",level:2},{value:"Migrationsversionsverlauf",id:"migration-version-history",level:3},{value:"Migrationsprozess",id:"migration-process",level:3},{value:"Tabellen",id:"tables",level:2},{value:"Server-Tabelle",id:"servers-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Sicherungen-Tabelle",id:"backups-table",level:3},{value:"Schl\xfcsselfelder",id:"key-fields",level:4},{value:"Message Arrays (JSON Speicherplatz)",id:"message-arrays-json-storage",level:4},{value:"Dateioperations-Felder",id:"file-operation-fields",level:4},{value:"Dateigr\xf6\xdfe-Felder",id:"file-size-fields",level:4},{value:"Felder des Betriebsstatus",id:"operation-status-fields",level:4},{value:"Backend-Statistiken-Felder",id:"backend-statistics-fields",level:4},{value:"Konfigurationstabelle",id:"configurations-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Allgemeine Konfigurationsschl\xfcssel",id:"common-configuration-keys",level:4},{value:"Datenbankversionstabelle",id:"database-version-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Benutzer-Tabelle",id:"users-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Sitzungstabelle",id:"sessions-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Audit-Log-Tabelle",id:"audit-log-table",level:3},{value:"Felder",id:"fields",level:4},{value:"Sitzungsverwaltung",id:"session-management",level:2},{value:"Datenbankgest\xfctzter Speicherplatz f\xfcr Sitzungen",id:"database-backed-session-storage",level:3},{value:"Session-API-Endpunkte",id:"session-api-endpoints",level:3},{value:"Indizes",id:"indexes",level:2},{value:"Beziehungen",id:"relationships",level:2},{value:"Datentypen",id:"data-types",level:2},{value:"Sicherungsstatus-Werte",id:"backup-status-values",level:2},{value:"H\xe4ufig gestellte Anfragen",id:"common-queries",level:2},{value:"Neueste Sicherung f\xfcr einen Server abrufen",id:"get-latest-backup-for-a-server",level:3},{value:"Alle Sicherungen f\xfcr einen Server abrufen",id:"get-all-backups-for-a-server",level:3},{value:"Server-Zusammenfassung abrufen",id:"get-server-summary",level:3},{value:"Gesamtzusammenfassung abrufen",id:"get-overall-summary",level:3},{value:"Datenbankbereinigung",id:"database-cleanup",level:3},{value:"JSON-zu-Datenbank-Zuordnung",id:"json-to-database-mapping",level:2},{value:"API-Anforderungstext zu Datenbankspalten-Zuordnung",id:"api-request-body-to-database-columns-mapping",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"database-schema",children:"Datenbankschema"})}),"\n",(0,r.jsx)(n.p,{children:"Dieses Dokument beschreibt das SQLite-Datenbankschema, das von duplistatus zur Speicherung von Sicherungsvorgangsdaten verwendet wird."}),"\n",(0,r.jsx)(n.h2,{id:"database-location",children:"Datenbankstandort"}),"\n",(0,r.jsx)(n.p,{children:"Die Datenbank wird im Anwendungsdatenverzeichnis gespeichert:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Standard-Speicherort"}),": ",(0,r.jsx)(n.code,{children:"/app/data/backups.db"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Docker-Volume"}),": ",(0,r.jsx)(n.code,{children:"duplistatus_data:/app/data"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dateiname"}),": ",(0,r.jsx)(n.code,{children:"backups.db"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"database-migration-system",children:"Datenbankmigrationssystem"}),"\n",(0,r.jsx)(n.p,{children:"duplistatus verwendet ein automatisiertes Migrationssystem, um Datenbankschema\xe4nderungen zwischen Versionen zu verwalten."}),"\n",(0,r.jsx)(n.h3,{id:"migration-version-history",children:"Migrationsversionsverlauf"}),"\n",(0,r.jsx)(n.p,{children:"Die folgenden sind historische Migrationsversionenen, die die Datenbank in ihren aktuellen Zustand gebracht haben:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema v1.0"})," (Application v0.6.x und fr\xfcher): Initiales Datenbankschema mit Tabellen f\xfcr Server und Sicherungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema v2.0"})," (Application v0.7.x): Fehlende Spalten und Konfigurationstabelle hinzugef\xfcgt"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema v3.0"}),' (Application v0.7.x): Tabelle \u201emachines" in \u201eservers" umbenannt, Spalte \u201eserver_url" hinzugef\xfcgt']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema v3.1"}),' (Application v0.8.x): Sicherungsdatenfelder erweitert, Spalte \u201eserver_password" hinzugef\xfcgt']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema v4.0"}),' (Application v0.9.x / v1.0.x): Benutzerzugriffskontrolle hinzugef\xfcgt (Tabellen \u201eusers", \u201esessions", \u201eaudit_log")']}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Die aktuelle Anwendungsversion (v1.3.x) verwendet ",(0,r.jsx)(n.strong,{children:"Schema v4.0"})," als neueste Datenbankschema-Version."]}),"\n",(0,r.jsx)(n.h3,{id:"migration-process",children:"Migrationsprozess"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatische Sicherung"}),": Erstellt eine Sicherung vor der Migration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Schema-Update"}),": Aktualisiert die Datenbankstruktur"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Datenmigration"}),": Bewahrt vorhandene Daten"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"\xdcberpr\xfcfung"}),": Best\xe4tigt die erfolgreiche Migration"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tables",children:"Tabellen"}),"\n",(0,r.jsx)(n.h3,{id:"servers-table",children:"Server-Tabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert Informationen \xfcber \xfcberwachte Duplicati-Server."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY"}),(0,r.jsx)(n.td,{children:"Eindeutige Server-Kennung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Servername aus Duplicati"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"server_url"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Duplicati-Server-URL"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"alias"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Benutzerdefinierten Anzeigename"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"note"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Benutzerdefinierte Notizen/Beschreibung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"server_password"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Server-Passwort zur Authentifizierung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Server-Erstellungs-Zeitstempel"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"backups-table",children:"Sicherungen-Tabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert Sicherungsvorgangsdaten, die von Duplicati-Servern empfangen werden."}),"\n",(0,r.jsx)(n.h4,{id:"key-fields",children:"Schl\xfcsselfelder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY"}),(0,r.jsx)(n.td,{children:"Eindeutige Sicherungs-ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"server_id"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Referenz zur Server-Tabelle"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backup_name"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Name des Sicherungsauftrags"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backup_id"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Sicherungs-ID von Duplicati"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsx)(n.td,{children:"DATETIME NOT NULL"}),(0,r.jsx)(n.td,{children:"Ausf\xfchrungszeit der Sicherung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"status"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Sicherungsstatus (Erfolg, Warnung, Fehler, Kritisch)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"duration_seconds"})}),(0,r.jsx)(n.td,{children:"INTEGER NOT NULL"}),(0,r.jsx)(n.td,{children:"Dauer in Sekunden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe der Quelldateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uploaded_size"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe der hochgeladenen Daten"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"examined_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl der untersuchten Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"warnings"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl der Warnungen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"errors"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl der Fehler"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Zeitstempel der Datensatzerstellung"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"message-arrays-json-storage",children:"Message Arrays (JSON Speicherplatz)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"messages_array"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"JSON-Array von Nachrichten"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"warnings_array"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"JSON-Array von Warnungsnachrichten"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"errors_array"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"JSON-Array von Fehlernachrichten"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"available_backups"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"JSON-Array von verf\xfcgbaren Sicherungsversionen"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"file-operation-fields",children:"Dateioperations-Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"examined_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"W\xe4hrend der Sicherung gepr\xfcfte Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"opened_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Zur Sicherung ge\xf6ffnete Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"added_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Neue Dateien zur Sicherung hinzugef\xfcgt"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"modified_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"In der Sicherung ge\xe4nderte Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"deleted_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Aus der Sicherung gel\xf6schte Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"deleted_folders"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Aus der Sicherung gel\xf6schte Ordner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"added_folders"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Zur Sicherung hinzugef\xfcgte Ordner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"modified_folders"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"In der Sicherung ge\xe4nderte Ordner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"not_processed_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Nicht verarbeitete Dateien"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"too_large_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Zu gro\xdfe Dateien zur Verarbeitung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"files_with_error"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Dateien mit Fehler"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"added_symlinks"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Hinzugef\xfcgte symbolische Links"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"modified_symlinks"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Ge\xe4nderte symbolische Links"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"deleted_symlinks"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gel\xf6schte symbolische Links"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"file-size-fields",children:"Dateigr\xf6\xdfe-Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size_of_examined_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe von Dateien, die w\xe4hrend der Sicherung \xfcberpr\xfcft wurden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size_of_opened_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe von Dateien, die zur Sicherung ge\xf6ffnet wurden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size_of_added_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe neuer Dateien, die zur Sicherung hinzugef\xfcgt wurden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"size_of_modified_files"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Gr\xf6\xdfe von Dateien, die in der Sicherung ge\xe4ndert wurden"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"operation-status-fields",children:"Felder des Betriebsstatus"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parsed_result"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Analysiertes Operationsergebnis"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"main_operation"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Hauptoperationstyp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"interrupted"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Ob die Sicherung unterbrochen wurde"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"partial_backup"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Ob die Sicherung teilweise war"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dryrun"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Ob die Sicherung ein Testlauf war"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"version"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Verwendete Duplicati-Version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"begin_time"})}),(0,r.jsx)(n.td,{children:"DATETIME NOT NULL"}),(0,r.jsx)(n.td,{children:"Startzeit der Sicherung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"end_time"})}),(0,r.jsx)(n.td,{children:"DATETIME NOT NULL"}),(0,r.jsx)(n.td,{children:"Endzeit der Sicherung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"warnings_actual_length"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Tats\xe4chliche Anzahl der Warnungen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"errors_actual_length"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Tats\xe4chliche Anzahl der Fehler"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"messages_actual_length"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Tats\xe4chliche Anzahl der Nachrichten"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"backend-statistics-fields",children:"Backend-Statistiken-Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"bytes_downloaded"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Von Ziel heruntergeladene Bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"known_file_size"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Bekannte Dateigr\xf6\xdfe am Ziel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_backup_date"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Datum der letzten Sicherung am Ziel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backup_list_count"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl von Sicherungsversionen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reported_quota_error"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Kontingentfehler gemeldet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reported_quota_warning"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Kontingentwarnung gemeldet"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_main_operation"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Backend-Hauptoperation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_parsed_result"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Backend-Analyseergebnis"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_interrupted"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Backend-Operation unterbrochen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_version"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Backend-Version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_begin_time"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Startzeit der Backend-Operation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_duration"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Dauer der Backend-Operation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_warnings_actual_length"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl von Backend-Warnungen"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"backend_errors_actual_length"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl von Backend-Fehlern"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"configurations-table",children:"Konfigurationstabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert Anwendungskonfigurationseinstellungen."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"key"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY NOT NULL"}),(0,r.jsx)(n.td,{children:"Konfigurationsschl\xfcssel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"value"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Konfigurationswert (JSON)"})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"common-configuration-keys",children:"Allgemeine Konfigurationsschl\xfcssel"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"email_config"}),": E-Mail-Benachrichtigungseinstellungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ntfy_config"}),": NTFY-Benachrichtigungseinstellungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"overdue_tolerance"}),": Toleranzeinstellungen f\xfcr \xfcberf\xe4llige Sicherungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"notification_templates"}),": Vorlagen f\xfcr Benachrichtigungsmeldungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"audit_retention_days"}),": Aufbewahrungszeitraum f\xfcr Audit-Logs (Standard: 90 Tage)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"database-version-table",children:"Datenbankversionstabelle"}),"\n",(0,r.jsx)(n.p,{children:"Verfolgt die Datenbankschema-Version f\xfcr Migrationszwecke."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"version"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY"}),(0,r.jsx)(n.td,{children:"Datenbankversion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"applied_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Wann die Migration angewendet wurde"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"users-table",children:"Benutzer-Tabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert Benutzerkonteninformationen f\xfcr Authentifizierung und Zugriffskontrolle."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY"}),(0,r.jsx)(n.td,{children:"Eindeutige Benutzerkennung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"username"})}),(0,r.jsx)(n.td,{children:"TEXT UNIQUE NOT NULL"}),(0,r.jsx)(n.td,{children:"Benutzername zum Anmelden"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"password_hash"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Bcrypt-verschl\xfcsseltes Passwort"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_admin"})}),(0,r.jsx)(n.td,{children:"BOOLEAN NOT NULL"}),(0,r.jsx)(n.td,{children:"Ob der Benutzer Admin-Berechtigungen hat"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"must_change_password"})}),(0,r.jsx)(n.td,{children:"BOOLEAN"}),(0,r.jsx)(n.td,{children:"Ob eine Passwort\xe4nderung erforderlich ist"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Zeitstempel der Kontoerstellung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updated_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Zeitstempel der letzten Aktualisierung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_login_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Zeitstempel der letzten erfolgreichen Anmeldung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_login_ip"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"IP-Adresse der letzten Anmeldung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"failed_login_attempts"})}),(0,r.jsx)(n.td,{children:"INTEGER"}),(0,r.jsx)(n.td,{children:"Anzahl fehlgeschlagener Anmeldeversuche"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"locked_until"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Sperrablauf des Kontos (falls gesperrt)"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"sessions-table",children:"Sitzungstabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert Benutzersitzungsdaten f\xfcr Authentifizierung und Sicherheit."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"TEXT PRIMARY KEY"}),(0,r.jsx)(n.td,{children:"Sitzungskennung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_id"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Verweis auf Benutzertabelle (nullable f\xfcr nicht authentifizierte Sitzungen)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Sitzungserstellungs-Zeitstempel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_accessed"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Letzte Zugriffs-Zeitstempel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"expires_at"})}),(0,r.jsx)(n.td,{children:"DATETIME NOT NULL"}),(0,r.jsx)(n.td,{children:"Sitzungsablauf-Zeitstempel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ip_address"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"IP-Adresse des Sitzungsursprungs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_agent"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"User-Agent-String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"csrf_token"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"CSRF-Token f\xfcr die Sitzung"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"csrf_expires_at"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"CSRF-Token-Ablauf"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"audit-log-table",children:"Audit-Log-Tabelle"}),"\n",(0,r.jsx)(n.p,{children:"Speichert ein Audit-Trail von Benutzeraktionen und Systemereignissen."}),"\n",(0,r.jsx)(n.h4,{id:"fields",children:"Felder"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feld"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:"INTEGER PRIMARY KEY AUTOINCREMENT"}),(0,r.jsx)(n.td,{children:"Eindeutige Audit-Log-Eintrags-ID"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"timestamp"})}),(0,r.jsx)(n.td,{children:"DATETIME"}),(0,r.jsx)(n.td,{children:"Ereigniszeitstempel"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_id"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Referenz zur Benutzertabelle (optional)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"username"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Benutzername zum Zeitpunkt der Aktion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"action"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Durchgef\xfchrte Aktion"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"category"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Kategorie der Aktion (z. B. 'authentication', 'settings', 'backup')"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"target_type"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Zieltyp (z. B. 'server', 'backup', 'user')"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"target_id"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Kennung des Ziels"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"details"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Zus\xe4tzliche Details (JSON)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ip_address"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"IP-Adresse des Anforderers"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"user_agent"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"User-Agent-String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"status"})}),(0,r.jsx)(n.td,{children:"TEXT NOT NULL"}),(0,r.jsx)(n.td,{children:"Status der Aktion ('success', 'failure', 'error')"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"error_message"})}),(0,r.jsx)(n.td,{children:"TEXT"}),(0,r.jsx)(n.td,{children:"Fehlermeldung bei fehlgeschlagener Aktion"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"session-management",children:"Sitzungsverwaltung"}),"\n",(0,r.jsx)(n.h3,{id:"database-backed-session-storage",children:"Datenbankgest\xfctzter Speicherplatz f\xfcr Sitzungen"}),"\n",(0,r.jsx)(n.p,{children:"Sitzungen werden in der Datenbank mit In-Memory-Fallback gespeichert:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Storage"}),": Datenbankgest\xfctzte Sitzungstabelle"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fallback"}),": In-Memory-Speicherplatz (Legacy-Unterst\xfctzung oder Fehlerf\xe4lle)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session ID"}),": Kryptographisch sichere Zufallszeichenkette"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Expiration"}),": Konfigurierbare Sitzungs-Zeit\xfcberschreitung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CSRF Protection"}),": Cross-Site-Request-Forgery-Schutz"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic Cleanup"}),": Abgelaufene Sitzungen werden automatisch entfernt"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"session-api-endpoints",children:"Session-API-Endpunkte"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"POST /api/session"}),": Neue Sitzung erstellen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GET /api/session"}),": Vorhandene Sitzung validieren"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DELETE /api/session"}),": Sitzung beenden"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GET /api/csrf"}),": CSRF-Token abrufen"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"indexes",children:"Indizes"}),"\n",(0,r.jsx)(n.p,{children:"Die Datenbank enth\xe4lt mehrere Indizes f\xfcr optimale Abfrageleistung:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Keys"}),": Alle Tabellen haben Primary-Key-Indizes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Foreign Keys"}),": Server-Referenzen in der Sicherungen-Tabelle, Benutzer-Referenzen in Sessions und audit_log"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query Optimisation"}),": Indizes auf h\xe4ufig abgefragten Feldern"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Date Indexes"}),": Indizes auf Datumfeldern f\xfcr zeitbasierte Abfragen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Indexes"}),": Benutzername-Index f\xfcr schnelle Benutzersuchvorg\xe4nge"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Indexes"}),": Ablauf- und user_id-Indizes f\xfcr die Sitzungsverwaltung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audit Indexes"}),": Zeitstempel-, user_id-, Aktion-, Kategorie- und Status-Indizes f\xfcr Audit-Abfragen"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"relationships",children:"Beziehungen"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Server \u2192 Sicherungen"}),": 1",":n-Beziehung"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benutzer \u2192 Sessions"}),": 1",":n-Beziehung"," (Sessions k\xf6nnen ohne Benutzer existieren)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Benutzer \u2192 Audit-Log"}),": 1",":n-Beziehung"," (Audit-Eintr\xe4ge k\xf6nnen ohne Benutzer existieren)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sicherungen \u2192 Nachrichten"}),": Eingebettete JSON-Arrays"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Konfigurationen"}),": Schl\xfcssel-Wert-Speicherung"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"data-types",children:"Datentypen"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TEXT"}),": Zeichenkettendaten, JSON-Arrays"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"INTEGER"}),": Numerische Daten, Dateiz\xe4hlungen, Gr\xf6\xdfen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"REAL"}),": Gleitkommazahlen, Dauern"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"DATETIME"}),": Zeitstempeldaten"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"BOOLEAN"}),": Wahr/Falsch-Werte"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"backup-status-values",children:"Sicherungsstatus-Werte"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Erfolg"}),": Sicherung erfolgreich abgeschlossen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Warnung"}),": Sicherung abgeschlossen mit Warnungen"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fehler"}),": Sicherung abgeschlossen mit Fehlern"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Kritisch"}),": Sicherung fehlgeschlagen kritisch"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-queries",children:"H\xe4ufig gestellte Anfragen"}),"\n",(0,r.jsx)(n.h3,{id:"get-latest-backup-for-a-server",children:"Neueste Sicherung f\xfcr einen Server abrufen"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM backups \nWHERE server_id = ? \nORDER BY date DESC \nLIMIT 1;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-all-backups-for-a-server",children:"Alle Sicherungen f\xfcr einen Server abrufen"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM backups \nWHERE server_id = ? \nORDER BY date DESC;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-server-summary",children:"Server-Zusammenfassung abrufen"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT \n  s.name,\n  s.alias,\n  COUNT(b.id) as backup_count,\n  MAX(b.date) as last_backup,\n  b.status as last_status\nFROM servers s\nLEFT JOIN backups b ON s.id = b.server_id\nGROUP BY s.id;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-overall-summary",children:"Gesamtzusammenfassung abrufen"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT \n  COUNT(DISTINCT s.id) as total_servers,\n  COUNT(b.id) as total_backups_runs,\n  COUNT(DISTINCT s.id || ':' || b.backup_name) as total_backups,\n  COALESCE(SUM(b.uploaded_size), 0) as total_uploaded_size,\n  (\n    SELECT COALESCE(SUM(b2.known_file_size), 0)\n    FROM backups b2\n    INNER JOIN (\n      SELECT server_id, MAX(date) as max_date\n      FROM backups\n      GROUP BY server_id\n    ) latest ON b2.server_id = latest.server_id AND b2.date = latest.max_date\n  ) as total_storage_used,\n  (\n    SELECT COALESCE(SUM(b2.size_of_examined_files), 0)\n    FROM backups b2\n    INNER JOIN (\n      SELECT server_id, MAX(date) as max_date\n      FROM backups\n      GROUP BY server_id\n    ) latest ON b2.server_id = latest.server_id AND b2.date = latest.max_date\n  ) as total_backuped_size\nFROM servers s\nLEFT JOIN backups b ON b.server_id = s.id;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"database-cleanup",children:"Datenbankbereinigung"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"-- Delete old backups (older than 30 days)\nDELETE FROM backups \nWHERE date < datetime('now', '-30 days');\n\n-- Delete servers with no backups\nDELETE FROM servers \nWHERE id NOT IN (SELECT DISTINCT server_id FROM backups);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"json-to-database-mapping",children:"JSON-zu-Datenbank-Zuordnung"}),"\n",(0,r.jsx)(n.h3,{id:"api-request-body-to-database-columns-mapping",children:"API-Anforderungstext zu Datenbankspalten-Zuordnung"}),"\n",(0,r.jsx)(n.p,{children:"Wenn Duplicati Sicherungsdaten \xfcber HTTP POST sendet, wird die JSON-Struktur auf Datenbankspalten abgebildet:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "Data": {\n    "ExaminedFiles": 15399,           // \u2192 examined_files\n    "OpenedFiles": 1861,              // \u2192 opened_files\n    "AddedFiles": 1861,               // \u2192 added_files\n    "SizeOfExaminedFiles": 11086692615, // \u2192 size_of_examined_files\n    "SizeOfOpenedFiles": 13450481,    // \u2192 size_of_opened_files\n    "SizeOfAddedFiles": 13450481,     // \u2192 size_of_added_files\n    "SizeOfModifiedFiles": 0,         // \u2192 size_of_modified_files\n    "ParsedResult": "Success",        // \u2192 status\n    "BeginTime": "2025-04-21T23:45:46.9712217Z", // \u2192 begin_time and date\n    "Duration": "00:00:51.3856057",   // \u2192 duration_seconds (calculated)\n    "WarningsActualLength": 0,        // \u2192 warnings_actual_length\n    "ErrorsActualLength": 0           // \u2192 errors_actual_length\n  },\n  "Extra": {\n    "machine-id": "66f5ffc7ff474a73a3c9cba4ac7bfb65", // \u2192 server_id\n    "machine-name": "WSJ-SER5",       // \u2192 server name\n    "backup-name": "WSJ-SER5 Local files", // \u2192 backup_name\n    "backup-id": "DB-2"               // \u2192 backup_id\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Hinweis"}),": Das Feld ",(0,r.jsx)(n.code,{children:"size"})," in der Sicherungstabelle speichert ",(0,r.jsx)(n.code,{children:"SizeOfExaminedFiles"})," und ",(0,r.jsx)(n.code,{children:"uploaded_size"})," speichert die tats\xe4chliche hochgeladene/\xfcbertragene Gr\xf6\xdfe aus dem Sicherungsvorgang."]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},73230(e,n,s){s.d(n,{R:()=>l,x:()=>t});var d=s(71299);const r={},i=d.createContext(r);function l(e){const n=d.useContext(i);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),d.createElement(i.Provider,{value:n},e.children)}}}]);